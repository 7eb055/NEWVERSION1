(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const h of d)if(h.type==="childList")for(const g of h.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&o(g)}).observe(document,{childList:!0,subtree:!0});function c(d){const h={};return d.integrity&&(h.integrity=d.integrity),d.referrerPolicy&&(h.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?h.credentials="include":d.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(d){if(d.ep)return;d.ep=!0;const h=c(d);fetch(d.href,h)}})();function Hx(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var ko={exports:{}},jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jh;function $x(){if(Jh)return jl;Jh=1;var l=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function c(o,d,h){var g=null;if(h!==void 0&&(g=""+h),d.key!==void 0&&(g=""+d.key),"key"in d){h={};for(var v in d)v!=="key"&&(h[v]=d[v])}else h=d;return d=h.ref,{$$typeof:l,type:o,key:g,ref:d!==void 0?d:null,props:h}}return jl.Fragment=i,jl.jsx=c,jl.jsxs=c,jl}var Ih;function Px(){return Ih||(Ih=1,ko.exports=$x()),ko.exports}var t=Px(),Co={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wh;function Yx(){if(Wh)return we;Wh=1;var l=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),N=Symbol.iterator;function j(w){return w===null||typeof w!="object"?null:(w=N&&w[N]||w["@@iterator"],typeof w=="function"?w:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,E={};function k(w,D,Q){this.props=w,this.context=D,this.refs=E,this.updater=Q||C}k.prototype.isReactComponent={},k.prototype.setState=function(w,D){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,D,"setState")},k.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function O(){}O.prototype=k.prototype;function U(w,D,Q){this.props=w,this.context=D,this.refs=E,this.updater=Q||C}var R=U.prototype=new O;R.constructor=U,y(R,k.prototype),R.isPureReactComponent=!0;var M=Array.isArray,S={H:null,A:null,T:null,S:null,V:null},B=Object.prototype.hasOwnProperty;function Z(w,D,Q,te,ie,je){return Q=je.ref,{$$typeof:l,type:w,key:D,ref:Q!==void 0?Q:null,props:je}}function ee(w,D){return Z(w.type,D,void 0,void 0,void 0,w.props)}function re(w){return typeof w=="object"&&w!==null&&w.$$typeof===l}function ge(w){var D={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(Q){return D[Q]})}var se=/\/+/g;function W(w,D){return typeof w=="object"&&w!==null&&w.key!=null?ge(""+w.key):D.toString(36)}function he(){}function xe(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(he,he):(w.status="pending",w.then(function(D){w.status==="pending"&&(w.status="fulfilled",w.value=D)},function(D){w.status==="pending"&&(w.status="rejected",w.reason=D)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function ye(w,D,Q,te,ie){var je=typeof w;(je==="undefined"||je==="boolean")&&(w=null);var Ne=!1;if(w===null)Ne=!0;else switch(je){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(w.$$typeof){case l:case i:Ne=!0;break;case p:return Ne=w._init,ye(Ne(w._payload),D,Q,te,ie)}}if(Ne)return ie=ie(w),Ne=te===""?"."+W(w,0):te,M(ie)?(Q="",Ne!=null&&(Q=Ne.replace(se,"$&/")+"/"),ye(ie,D,Q,"",function(ct){return ct})):ie!=null&&(re(ie)&&(ie=ee(ie,Q+(ie.key==null||w&&w.key===ie.key?"":(""+ie.key).replace(se,"$&/")+"/")+Ne)),D.push(ie)),1;Ne=0;var Ye=te===""?".":te+":";if(M(w))for(var Ue=0;Ue<w.length;Ue++)te=w[Ue],je=Ye+W(te,Ue),Ne+=ye(te,D,Q,je,ie);else if(Ue=j(w),typeof Ue=="function")for(w=Ue.call(w),Ue=0;!(te=w.next()).done;)te=te.value,je=Ye+W(te,Ue++),Ne+=ye(te,D,Q,je,ie);else if(je==="object"){if(typeof w.then=="function")return ye(xe(w),D,Q,te,ie);throw D=String(w),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function A(w,D,Q){if(w==null)return w;var te=[],ie=0;return ye(w,te,"","",function(je){return D.call(Q,je,ie++)}),te}function V(w){if(w._status===-1){var D=w._result;D=D(),D.then(function(Q){(w._status===0||w._status===-1)&&(w._status=1,w._result=Q)},function(Q){(w._status===0||w._status===-1)&&(w._status=2,w._result=Q)}),w._status===-1&&(w._status=0,w._result=D)}if(w._status===1)return w._result.default;throw w._result}var ae=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function I(){}return we.Children={map:A,forEach:function(w,D,Q){A(w,function(){D.apply(this,arguments)},Q)},count:function(w){var D=0;return A(w,function(){D++}),D},toArray:function(w){return A(w,function(D){return D})||[]},only:function(w){if(!re(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},we.Component=k,we.Fragment=c,we.Profiler=d,we.PureComponent=U,we.StrictMode=o,we.Suspense=m,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,we.__COMPILER_RUNTIME={__proto__:null,c:function(w){return S.H.useMemoCache(w)}},we.cache=function(w){return function(){return w.apply(null,arguments)}},we.cloneElement=function(w,D,Q){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var te=y({},w.props),ie=w.key,je=void 0;if(D!=null)for(Ne in D.ref!==void 0&&(je=void 0),D.key!==void 0&&(ie=""+D.key),D)!B.call(D,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&D.ref===void 0||(te[Ne]=D[Ne]);var Ne=arguments.length-2;if(Ne===1)te.children=Q;else if(1<Ne){for(var Ye=Array(Ne),Ue=0;Ue<Ne;Ue++)Ye[Ue]=arguments[Ue+2];te.children=Ye}return Z(w.type,ie,void 0,void 0,je,te)},we.createContext=function(w){return w={$$typeof:g,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:h,_context:w},w},we.createElement=function(w,D,Q){var te,ie={},je=null;if(D!=null)for(te in D.key!==void 0&&(je=""+D.key),D)B.call(D,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(ie[te]=D[te]);var Ne=arguments.length-2;if(Ne===1)ie.children=Q;else if(1<Ne){for(var Ye=Array(Ne),Ue=0;Ue<Ne;Ue++)Ye[Ue]=arguments[Ue+2];ie.children=Ye}if(w&&w.defaultProps)for(te in Ne=w.defaultProps,Ne)ie[te]===void 0&&(ie[te]=Ne[te]);return Z(w,je,void 0,void 0,null,ie)},we.createRef=function(){return{current:null}},we.forwardRef=function(w){return{$$typeof:v,render:w}},we.isValidElement=re,we.lazy=function(w){return{$$typeof:p,_payload:{_status:-1,_result:w},_init:V}},we.memo=function(w,D){return{$$typeof:f,type:w,compare:D===void 0?null:D}},we.startTransition=function(w){var D=S.T,Q={};S.T=Q;try{var te=w(),ie=S.S;ie!==null&&ie(Q,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(I,ae)}catch(je){ae(je)}finally{S.T=D}},we.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},we.use=function(w){return S.H.use(w)},we.useActionState=function(w,D,Q){return S.H.useActionState(w,D,Q)},we.useCallback=function(w,D){return S.H.useCallback(w,D)},we.useContext=function(w){return S.H.useContext(w)},we.useDebugValue=function(){},we.useDeferredValue=function(w,D){return S.H.useDeferredValue(w,D)},we.useEffect=function(w,D,Q){var te=S.H;if(typeof Q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(w,D)},we.useId=function(){return S.H.useId()},we.useImperativeHandle=function(w,D,Q){return S.H.useImperativeHandle(w,D,Q)},we.useInsertionEffect=function(w,D){return S.H.useInsertionEffect(w,D)},we.useLayoutEffect=function(w,D){return S.H.useLayoutEffect(w,D)},we.useMemo=function(w,D){return S.H.useMemo(w,D)},we.useOptimistic=function(w,D){return S.H.useOptimistic(w,D)},we.useReducer=function(w,D,Q){return S.H.useReducer(w,D,Q)},we.useRef=function(w){return S.H.useRef(w)},we.useState=function(w){return S.H.useState(w)},we.useSyncExternalStore=function(w,D,Q){return S.H.useSyncExternalStore(w,D,Q)},we.useTransition=function(){return S.H.useTransition()},we.version="19.1.0",we}var em;function Io(){return em||(em=1,Co.exports=Yx()),Co.exports}var b=Io();const rt=Hx(b);var To={exports:{}},Nl={},Ro={exports:{}},Ao={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm;function Gx(){return tm||(tm=1,function(l){function i(A,V){var ae=A.length;A.push(V);e:for(;0<ae;){var I=ae-1>>>1,w=A[I];if(0<d(w,V))A[I]=V,A[ae]=w,ae=I;else break e}}function c(A){return A.length===0?null:A[0]}function o(A){if(A.length===0)return null;var V=A[0],ae=A.pop();if(ae!==V){A[0]=ae;e:for(var I=0,w=A.length,D=w>>>1;I<D;){var Q=2*(I+1)-1,te=A[Q],ie=Q+1,je=A[ie];if(0>d(te,ae))ie<w&&0>d(je,te)?(A[I]=je,A[ie]=ae,I=ie):(A[I]=te,A[Q]=ae,I=Q);else if(ie<w&&0>d(je,ae))A[I]=je,A[ie]=ae,I=ie;else break e}}return V}function d(A,V){var ae=A.sortIndex-V.sortIndex;return ae!==0?ae:A.id-V.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;l.unstable_now=function(){return h.now()}}else{var g=Date,v=g.now();l.unstable_now=function(){return g.now()-v}}var m=[],f=[],p=1,N=null,j=3,C=!1,y=!1,E=!1,k=!1,O=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function M(A){for(var V=c(f);V!==null;){if(V.callback===null)o(f);else if(V.startTime<=A)o(f),V.sortIndex=V.expirationTime,i(m,V);else break;V=c(f)}}function S(A){if(E=!1,M(A),!y)if(c(m)!==null)y=!0,B||(B=!0,W());else{var V=c(f);V!==null&&ye(S,V.startTime-A)}}var B=!1,Z=-1,ee=5,re=-1;function ge(){return k?!0:!(l.unstable_now()-re<ee)}function se(){if(k=!1,B){var A=l.unstable_now();re=A;var V=!0;try{e:{y=!1,E&&(E=!1,U(Z),Z=-1),C=!0;var ae=j;try{t:{for(M(A),N=c(m);N!==null&&!(N.expirationTime>A&&ge());){var I=N.callback;if(typeof I=="function"){N.callback=null,j=N.priorityLevel;var w=I(N.expirationTime<=A);if(A=l.unstable_now(),typeof w=="function"){N.callback=w,M(A),V=!0;break t}N===c(m)&&o(m),M(A)}else o(m);N=c(m)}if(N!==null)V=!0;else{var D=c(f);D!==null&&ye(S,D.startTime-A),V=!1}}break e}finally{N=null,j=ae,C=!1}V=void 0}}finally{V?W():B=!1}}}var W;if(typeof R=="function")W=function(){R(se)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,xe=he.port2;he.port1.onmessage=se,W=function(){xe.postMessage(null)}}else W=function(){O(se,0)};function ye(A,V){Z=O(function(){A(l.unstable_now())},V)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(A){A.callback=null},l.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<A?Math.floor(1e3/A):5},l.unstable_getCurrentPriorityLevel=function(){return j},l.unstable_next=function(A){switch(j){case 1:case 2:case 3:var V=3;break;default:V=j}var ae=j;j=V;try{return A()}finally{j=ae}},l.unstable_requestPaint=function(){k=!0},l.unstable_runWithPriority=function(A,V){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var ae=j;j=A;try{return V()}finally{j=ae}},l.unstable_scheduleCallback=function(A,V,ae){var I=l.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?I+ae:I):ae=I,A){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=ae+w,A={id:p++,callback:V,priorityLevel:A,startTime:ae,expirationTime:w,sortIndex:-1},ae>I?(A.sortIndex=ae,i(f,A),c(m)===null&&A===c(f)&&(E?(U(Z),Z=-1):E=!0,ye(S,ae-I))):(A.sortIndex=w,i(m,A),y||C||(y=!0,B||(B=!0,W()))),A},l.unstable_shouldYield=ge,l.unstable_wrapCallback=function(A){var V=j;return function(){var ae=j;j=V;try{return A.apply(this,arguments)}finally{j=ae}}}}(Ao)),Ao}var am;function Qx(){return am||(am=1,Ro.exports=Gx()),Ro.exports}var Do={exports:{}},Nt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sm;function Vx(){if(sm)return Nt;sm=1;var l=Io();function i(m){var f="https://react.dev/errors/"+m;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+m+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(){}var o={d:{f:c,r:function(){throw Error(i(522))},D:c,C:c,L:c,m:c,X:c,S:c,M:c},p:0,findDOMNode:null},d=Symbol.for("react.portal");function h(m,f,p){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:N==null?null:""+N,children:m,containerInfo:f,implementation:p}}var g=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(m,f){if(m==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Nt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Nt.createPortal=function(m,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(i(299));return h(m,f,null,p)},Nt.flushSync=function(m){var f=g.T,p=o.p;try{if(g.T=null,o.p=2,m)return m()}finally{g.T=f,o.p=p,o.d.f()}},Nt.preconnect=function(m,f){typeof m=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,o.d.C(m,f))},Nt.prefetchDNS=function(m){typeof m=="string"&&o.d.D(m)},Nt.preinit=function(m,f){if(typeof m=="string"&&f&&typeof f.as=="string"){var p=f.as,N=v(p,f.crossOrigin),j=typeof f.integrity=="string"?f.integrity:void 0,C=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?o.d.S(m,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:N,integrity:j,fetchPriority:C}):p==="script"&&o.d.X(m,{crossOrigin:N,integrity:j,fetchPriority:C,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Nt.preinitModule=function(m,f){if(typeof m=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=v(f.as,f.crossOrigin);o.d.M(m,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&o.d.M(m)},Nt.preload=function(m,f){if(typeof m=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,N=v(p,f.crossOrigin);o.d.L(m,p,{crossOrigin:N,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Nt.preloadModule=function(m,f){if(typeof m=="string")if(f){var p=v(f.as,f.crossOrigin);o.d.m(m,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else o.d.m(m)},Nt.requestFormReset=function(m){o.d.r(m)},Nt.unstable_batchedUpdates=function(m,f){return m(f)},Nt.useFormState=function(m,f,p){return g.H.useFormState(m,f,p)},Nt.useFormStatus=function(){return g.H.useHostTransitionStatus()},Nt.version="19.1.0",Nt}var nm;function Xx(){if(nm)return Do.exports;nm=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(i){console.error(i)}}return l(),Do.exports=Vx(),Do.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lm;function Zx(){if(lm)return Nl;lm=1;var l=Qx(),i=Io(),c=Xx();function o(e){var a="https://react.dev/errors/"+e;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var a=e,s=e;if(e.alternate)for(;a.return;)a=a.return;else{e=a;do a=e,(a.flags&4098)!==0&&(s=a.return),e=a.return;while(e)}return a.tag===3?s:null}function g(e){if(e.tag===13){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function v(e){if(h(e)!==e)throw Error(o(188))}function m(e){var a=e.alternate;if(!a){if(a=h(e),a===null)throw Error(o(188));return a!==e?null:e}for(var s=e,n=a;;){var r=s.return;if(r===null)break;var u=r.alternate;if(u===null){if(n=r.return,n!==null){s=n;continue}break}if(r.child===u.child){for(u=r.child;u;){if(u===s)return v(r),e;if(u===n)return v(r),a;u=u.sibling}throw Error(o(188))}if(s.return!==n.return)s=r,n=u;else{for(var x=!1,_=r.child;_;){if(_===s){x=!0,s=r,n=u;break}if(_===n){x=!0,n=r,s=u;break}_=_.sibling}if(!x){for(_=u.child;_;){if(_===s){x=!0,s=u,n=r;break}if(_===n){x=!0,n=u,s=r;break}_=_.sibling}if(!x)throw Error(o(189))}}if(s.alternate!==n)throw Error(o(190))}if(s.tag!==3)throw Error(o(188));return s.stateNode.current===s?e:a}function f(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e;for(e=e.child;e!==null;){if(a=f(e),a!==null)return a;e=e.sibling}return null}var p=Object.assign,N=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),R=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),re=Symbol.for("react.activity"),ge=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function W(e){return e===null||typeof e!="object"?null:(e=se&&e[se]||e["@@iterator"],typeof e=="function"?e:null)}var he=Symbol.for("react.client.reference");function xe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===he?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case y:return"Fragment";case k:return"Profiler";case E:return"StrictMode";case S:return"Suspense";case B:return"SuspenseList";case re:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case C:return"Portal";case R:return(e.displayName||"Context")+".Provider";case U:return(e._context.displayName||"Context")+".Consumer";case M:var a=e.render;return e=e.displayName,e||(e=a.displayName||a.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return a=e.displayName||null,a!==null?a:xe(e.type)||"Memo";case ee:a=e._payload,e=e._init;try{return xe(e(a))}catch{}}return null}var ye=Array.isArray,A=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=c.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},I=[],w=-1;function D(e){return{current:e}}function Q(e){0>w||(e.current=I[w],I[w]=null,w--)}function te(e,a){w++,I[w]=e.current,e.current=a}var ie=D(null),je=D(null),Ne=D(null),Ye=D(null);function Ue(e,a){switch(te(Ne,a),te(je,e),te(ie,null),a.nodeType){case 9:case 11:e=(e=a.documentElement)&&(e=e.namespaceURI)?Eh(e):0;break;default:if(e=a.tagName,a=a.namespaceURI)a=Eh(a),e=wh(a,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(ie),te(ie,e)}function ct(){Q(ie),Q(je),Q(Ne)}function ga(e){e.memoizedState!==null&&te(Ye,e);var a=ie.current,s=wh(a,e.type);a!==s&&(te(je,e),te(ie,s))}function wt(e){je.current===e&&(Q(ie),Q(je)),Ye.current===e&&(Q(Ye),pl._currentValue=ae)}var Mt=Object.prototype.hasOwnProperty,de=l.unstable_scheduleCallback,fe=l.unstable_cancelCallback,L=l.unstable_shouldYield,ne=l.unstable_requestPaint,ce=l.unstable_now,Be=l.unstable_getCurrentPriorityLevel,Ge=l.unstable_ImmediatePriority,ia=l.unstable_UserBlockingPriority,xt=l.unstable_NormalPriority,Ml=l.unstable_LowPriority,En=l.unstable_IdlePriority,Ul=l.log,hr=l.unstable_setDisableYieldValue,is=null,_t=null;function $t(e){if(typeof Ul=="function"&&hr(e),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(is,e)}catch{}}var St=Math.clz32?Math.clz32:pr,zl=Math.log,mr=Math.LN2;function pr(e){return e>>>=0,e===0?32:31-(zl(e)/mr|0)|0}var As=256,Y=4194304;function le(e){var a=e&42;if(a!==0)return a;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function oe(e,a,s){var n=e.pendingLanes;if(n===0)return 0;var r=0,u=e.suspendedLanes,x=e.pingedLanes;e=e.warmLanes;var _=n&134217727;return _!==0?(n=_&~u,n!==0?r=le(n):(x&=_,x!==0?r=le(x):s||(s=_&~e,s!==0&&(r=le(s))))):(_=n&~u,_!==0?r=le(_):x!==0?r=le(x):s||(s=n&~e,s!==0&&(r=le(s)))),r===0?0:a!==0&&a!==r&&(a&u)===0&&(u=r&-r,s=a&-a,u>=s||u===32&&(s&4194048)!==0)?a:r}function Oe(e,a){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&a)===0}function ra(e,a){switch(e){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vt(){var e=As;return As<<=1,(As&4194048)===0&&(As=256),e}function xa(){var e=Y;return Y<<=1,(Y&62914560)===0&&(Y=4194304),e}function Ds(e){for(var a=[],s=0;31>s;s++)a.push(e);return a}function Ua(e,a){e.pendingLanes|=a,a!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Tp(e,a,s,n,r,u){var x=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var _=e.entanglements,T=e.expirationTimes,H=e.hiddenUpdates;for(s=x&~s;0<s;){var X=31-St(s),J=1<<X;_[X]=0,T[X]=-1;var $=H[X];if($!==null)for(H[X]=null,X=0;X<$.length;X++){var P=$[X];P!==null&&(P.lane&=-536870913)}s&=~J}n!==0&&ou(e,n,0),u!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=u&~(x&~a))}function ou(e,a,s){e.pendingLanes|=a,e.suspendedLanes&=~a;var n=31-St(a);e.entangledLanes|=a,e.entanglements[n]=e.entanglements[n]|1073741824|s&4194090}function uu(e,a){var s=e.entangledLanes|=a;for(e=e.entanglements;s;){var n=31-St(s),r=1<<n;r&a|e[n]&a&&(e[n]|=a),s&=~r}}function gr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function du(){var e=V.p;return e!==0?e:(e=window.event,e===void 0?32:Gh(e.type))}function Rp(e,a){var s=V.p;try{return V.p=e,a()}finally{V.p=s}}var za=Math.random().toString(36).slice(2),yt="__reactFiber$"+za,kt="__reactProps$"+za,Os="__reactContainer$"+za,vr="__reactEvents$"+za,Ap="__reactListeners$"+za,Dp="__reactHandles$"+za,fu="__reactResources$"+za,wn="__reactMarker$"+za;function yr(e){delete e[yt],delete e[kt],delete e[vr],delete e[Ap],delete e[Dp]}function Ms(e){var a=e[yt];if(a)return a;for(var s=e.parentNode;s;){if(a=s[Os]||s[yt]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(e=Rh(e);e!==null;){if(s=e[yt])return s;e=Rh(e)}return a}e=s,s=e.parentNode}return null}function Us(e){if(e=e[yt]||e[Os]){var a=e.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return e}return null}function kn(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e.stateNode;throw Error(o(33))}function zs(e){var a=e[fu];return a||(a=e[fu]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ot(e){e[wn]=!0}var hu=new Set,mu={};function rs(e,a){Ls(e,a),Ls(e+"Capture",a)}function Ls(e,a){for(mu[e]=a,e=0;e<a.length;e++)hu.add(a[e])}var Op=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pu={},gu={};function Mp(e){return Mt.call(gu,e)?!0:Mt.call(pu,e)?!1:Op.test(e)?gu[e]=!0:(pu[e]=!0,!1)}function Ll(e,a,s){if(Mp(a))if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(a);return;case"boolean":var n=a.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(a);return}}e.setAttribute(a,""+s)}}function ql(e,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttribute(a,""+s)}}function va(e,a,s,n){if(n===null)e.removeAttribute(s);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(a,s,""+n)}}var jr,xu;function qs(e){if(jr===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);jr=a&&a[1]||"",xu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jr+e+xu}var Nr=!1;function br(e,a){if(!e||Nr)return"";Nr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(a){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(P){var $=P}Reflect.construct(e,[],J)}else{try{J.call()}catch(P){$=P}e.call(J.prototype)}}else{try{throw Error()}catch(P){$=P}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(P){if(P&&$&&typeof P.stack=="string")return[P.stack,$.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=n.DetermineComponentFrameRoot(),x=u[0],_=u[1];if(x&&_){var T=x.split(`
`),H=_.split(`
`);for(r=n=0;n<T.length&&!T[n].includes("DetermineComponentFrameRoot");)n++;for(;r<H.length&&!H[r].includes("DetermineComponentFrameRoot");)r++;if(n===T.length||r===H.length)for(n=T.length-1,r=H.length-1;1<=n&&0<=r&&T[n]!==H[r];)r--;for(;1<=n&&0<=r;n--,r--)if(T[n]!==H[r]){if(n!==1||r!==1)do if(n--,r--,0>r||T[n]!==H[r]){var X=`
`+T[n].replace(" at new "," at ");return e.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",e.displayName)),X}while(1<=n&&0<=r);break}}}finally{Nr=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?qs(s):""}function Up(e){switch(e.tag){case 26:case 27:case 5:return qs(e.type);case 16:return qs("Lazy");case 13:return qs("Suspense");case 19:return qs("SuspenseList");case 0:case 15:return br(e.type,!1);case 11:return br(e.type.render,!1);case 1:return br(e.type,!0);case 31:return qs("Activity");default:return""}}function vu(e){try{var a="";do a+=Up(e),e=e.return;while(e);return a}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Pt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yu(e){var a=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function zp(e){var a=yu(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,a),n=""+e[a];if(!e.hasOwnProperty(a)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var r=s.get,u=s.set;return Object.defineProperty(e,a,{configurable:!0,get:function(){return r.call(this)},set:function(x){n=""+x,u.call(this,x)}}),Object.defineProperty(e,a,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(x){n=""+x},stopTracking:function(){e._valueTracker=null,delete e[a]}}}}function Bl(e){e._valueTracker||(e._valueTracker=zp(e))}function ju(e){if(!e)return!1;var a=e._valueTracker;if(!a)return!0;var s=a.getValue(),n="";return e&&(n=yu(e)?e.checked?"true":"false":e.value),e=n,e!==s?(a.setValue(e),!0):!1}function Fl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Lp=/[\n"\\]/g;function Yt(e){return e.replace(Lp,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function _r(e,a,s,n,r,u,x,_){e.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.type=x:e.removeAttribute("type"),a!=null?x==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+Pt(a)):e.value!==""+Pt(a)&&(e.value=""+Pt(a)):x!=="submit"&&x!=="reset"||e.removeAttribute("value"),a!=null?Sr(e,x,Pt(a)):s!=null?Sr(e,x,Pt(s)):n!=null&&e.removeAttribute("value"),r==null&&u!=null&&(e.defaultChecked=!!u),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Pt(_):e.removeAttribute("name")}function Nu(e,a,s,n,r,u,x,_){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),a!=null||s!=null){if(!(u!=="submit"&&u!=="reset"||a!=null))return;s=s!=null?""+Pt(s):"",a=a!=null?""+Pt(a):s,_||a===e.value||(e.value=a),e.defaultValue=a}n=n??r,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=_?e.checked:!!n,e.defaultChecked=!!n,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.name=x)}function Sr(e,a,s){a==="number"&&Fl(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Bs(e,a,s,n){if(e=e.options,a){a={};for(var r=0;r<s.length;r++)a["$"+s[r]]=!0;for(s=0;s<e.length;s++)r=a.hasOwnProperty("$"+e[s].value),e[s].selected!==r&&(e[s].selected=r),r&&n&&(e[s].defaultSelected=!0)}else{for(s=""+Pt(s),a=null,r=0;r<e.length;r++){if(e[r].value===s){e[r].selected=!0,n&&(e[r].defaultSelected=!0);return}a!==null||e[r].disabled||(a=e[r])}a!==null&&(a.selected=!0)}}function bu(e,a,s){if(a!=null&&(a=""+Pt(a),a!==e.value&&(e.value=a),s==null)){e.defaultValue!==a&&(e.defaultValue=a);return}e.defaultValue=s!=null?""+Pt(s):""}function _u(e,a,s,n){if(a==null){if(n!=null){if(s!=null)throw Error(o(92));if(ye(n)){if(1<n.length)throw Error(o(93));n=n[0]}s=n}s==null&&(s=""),a=s}s=Pt(a),e.defaultValue=s,n=e.textContent,n===s&&n!==""&&n!==null&&(e.value=n)}function Fs(e,a){if(a){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=a;return}}e.textContent=a}var qp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Su(e,a,s){var n=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?n?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="":n?e.setProperty(a,s):typeof s!="number"||s===0||qp.has(a)?a==="float"?e.cssFloat=s:e[a]=(""+s).trim():e[a]=s+"px"}function Eu(e,a,s){if(a!=null&&typeof a!="object")throw Error(o(62));if(e=e.style,s!=null){for(var n in s)!s.hasOwnProperty(n)||a!=null&&a.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var r in a)n=a[r],a.hasOwnProperty(r)&&s[r]!==n&&Su(e,r,n)}else for(var u in a)a.hasOwnProperty(u)&&Su(e,u,a[u])}function Er(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hl(e){return Fp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var wr=null;function kr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hs=null,$s=null;function wu(e){var a=Us(e);if(a&&(e=a.stateNode)){var s=e[kt]||null;e:switch(e=a.stateNode,a.type){case"input":if(_r(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Yt(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var n=s[a];if(n!==e&&n.form===e.form){var r=n[kt]||null;if(!r)throw Error(o(90));_r(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(a=0;a<s.length;a++)n=s[a],n.form===e.form&&ju(n)}break e;case"textarea":bu(e,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&Bs(e,!!s.multiple,a,!1)}}}var Cr=!1;function ku(e,a,s){if(Cr)return e(a,s);Cr=!0;try{var n=e(a);return n}finally{if(Cr=!1,(Hs!==null||$s!==null)&&(wi(),Hs&&(a=Hs,e=$s,$s=Hs=null,wu(a),e)))for(a=0;a<e.length;a++)wu(e[a])}}function Cn(e,a){var s=e.stateNode;if(s===null)return null;var n=s[kt]||null;if(n===null)return null;s=n[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(o(231,a,typeof s));return s}var ya=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tr=!1;if(ya)try{var Tn={};Object.defineProperty(Tn,"passive",{get:function(){Tr=!0}}),window.addEventListener("test",Tn,Tn),window.removeEventListener("test",Tn,Tn)}catch{Tr=!1}var La=null,Rr=null,$l=null;function Cu(){if($l)return $l;var e,a=Rr,s=a.length,n,r="value"in La?La.value:La.textContent,u=r.length;for(e=0;e<s&&a[e]===r[e];e++);var x=s-e;for(n=1;n<=x&&a[s-n]===r[u-n];n++);return $l=r.slice(e,1<n?1-n:void 0)}function Pl(e){var a=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&a===13&&(e=13)):e=a,e===10&&(e=13),32<=e||e===13?e:0}function Yl(){return!0}function Tu(){return!1}function Ct(e){function a(s,n,r,u,x){this._reactName=s,this._targetInst=r,this.type=n,this.nativeEvent=u,this.target=x,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(s=e[_],this[_]=s?s(u):u[_]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Yl:Tu,this.isPropagationStopped=Tu,this}return p(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Yl)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Yl)},persist:function(){},isPersistent:Yl}),a}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gl=Ct(cs),Rn=p({},cs,{view:0,detail:0}),Hp=Ct(Rn),Ar,Dr,An,Ql=p({},Rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==An&&(An&&e.type==="mousemove"?(Ar=e.screenX-An.screenX,Dr=e.screenY-An.screenY):Dr=Ar=0,An=e),Ar)},movementY:function(e){return"movementY"in e?e.movementY:Dr}}),Ru=Ct(Ql),$p=p({},Ql,{dataTransfer:0}),Pp=Ct($p),Yp=p({},Rn,{relatedTarget:0}),Or=Ct(Yp),Gp=p({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),Qp=Ct(Gp),Vp=p({},cs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xp=Ct(Vp),Zp=p({},cs,{data:0}),Au=Ct(Zp),Kp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ip={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wp(e){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(e):(e=Ip[e])?!!a[e]:!1}function Mr(){return Wp}var eg=p({},Rn,{key:function(e){if(e.key){var a=Kp[e.key]||e.key;if(a!=="Unidentified")return a}return e.type==="keypress"?(e=Pl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mr,charCode:function(e){return e.type==="keypress"?Pl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tg=Ct(eg),ag=p({},Ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Du=Ct(ag),sg=p({},Rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mr}),ng=Ct(sg),lg=p({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),ig=Ct(lg),rg=p({},Ql,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cg=Ct(rg),og=p({},cs,{newState:0,oldState:0}),ug=Ct(og),dg=[9,13,27,32],Ur=ya&&"CompositionEvent"in window,Dn=null;ya&&"documentMode"in document&&(Dn=document.documentMode);var fg=ya&&"TextEvent"in window&&!Dn,Ou=ya&&(!Ur||Dn&&8<Dn&&11>=Dn),Mu=" ",Uu=!1;function zu(e,a){switch(e){case"keyup":return dg.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ps=!1;function hg(e,a){switch(e){case"compositionend":return Lu(a);case"keypress":return a.which!==32?null:(Uu=!0,Mu);case"textInput":return e=a.data,e===Mu&&Uu?null:e;default:return null}}function mg(e,a){if(Ps)return e==="compositionend"||!Ur&&zu(e,a)?(e=Cu(),$l=Rr=La=null,Ps=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Ou&&a.locale!=="ko"?null:a.data;default:return null}}var pg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qu(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a==="input"?!!pg[e.type]:a==="textarea"}function Bu(e,a,s,n){Hs?$s?$s.push(n):$s=[n]:Hs=n,a=Di(a,"onChange"),0<a.length&&(s=new Gl("onChange","change",null,s,n),e.push({event:s,listeners:a}))}var On=null,Mn=null;function gg(e){jh(e,0)}function Vl(e){var a=kn(e);if(ju(a))return e}function Fu(e,a){if(e==="change")return a}var Hu=!1;if(ya){var zr;if(ya){var Lr="oninput"in document;if(!Lr){var $u=document.createElement("div");$u.setAttribute("oninput","return;"),Lr=typeof $u.oninput=="function"}zr=Lr}else zr=!1;Hu=zr&&(!document.documentMode||9<document.documentMode)}function Pu(){On&&(On.detachEvent("onpropertychange",Yu),Mn=On=null)}function Yu(e){if(e.propertyName==="value"&&Vl(Mn)){var a=[];Bu(a,Mn,e,kr(e)),ku(gg,a)}}function xg(e,a,s){e==="focusin"?(Pu(),On=a,Mn=s,On.attachEvent("onpropertychange",Yu)):e==="focusout"&&Pu()}function vg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vl(Mn)}function yg(e,a){if(e==="click")return Vl(a)}function jg(e,a){if(e==="input"||e==="change")return Vl(a)}function Ng(e,a){return e===a&&(e!==0||1/e===1/a)||e!==e&&a!==a}var Ut=typeof Object.is=="function"?Object.is:Ng;function Un(e,a){if(Ut(e,a))return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;var s=Object.keys(e),n=Object.keys(a);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var r=s[n];if(!Mt.call(a,r)||!Ut(e[r],a[r]))return!1}return!0}function Gu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qu(e,a){var s=Gu(e);e=0;for(var n;s;){if(s.nodeType===3){if(n=e+s.textContent.length,e<=a&&n>=a)return{node:s,offset:a-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Gu(s)}}function Vu(e,a){return e&&a?e===a?!0:e&&e.nodeType===3?!1:a&&a.nodeType===3?Vu(e,a.parentNode):"contains"in e?e.contains(a):e.compareDocumentPosition?!!(e.compareDocumentPosition(a)&16):!1:!1}function Xu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var a=Fl(e.document);a instanceof e.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)e=a.contentWindow;else break;a=Fl(e.document)}return a}function qr(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a&&(a==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||a==="textarea"||e.contentEditable==="true")}var bg=ya&&"documentMode"in document&&11>=document.documentMode,Ys=null,Br=null,zn=null,Fr=!1;function Zu(e,a,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Fr||Ys==null||Ys!==Fl(n)||(n=Ys,"selectionStart"in n&&qr(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),zn&&Un(zn,n)||(zn=n,n=Di(Br,"onSelect"),0<n.length&&(a=new Gl("onSelect","select",null,a,s),e.push({event:a,listeners:n}),a.target=Ys)))}function os(e,a){var s={};return s[e.toLowerCase()]=a.toLowerCase(),s["Webkit"+e]="webkit"+a,s["Moz"+e]="moz"+a,s}var Gs={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionrun:os("Transition","TransitionRun"),transitionstart:os("Transition","TransitionStart"),transitioncancel:os("Transition","TransitionCancel"),transitionend:os("Transition","TransitionEnd")},Hr={},Ku={};ya&&(Ku=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function us(e){if(Hr[e])return Hr[e];if(!Gs[e])return e;var a=Gs[e],s;for(s in a)if(a.hasOwnProperty(s)&&s in Ku)return Hr[e]=a[s];return e}var Ju=us("animationend"),Iu=us("animationiteration"),Wu=us("animationstart"),_g=us("transitionrun"),Sg=us("transitionstart"),Eg=us("transitioncancel"),ed=us("transitionend"),td=new Map,$r="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$r.push("scrollEnd");function Wt(e,a){td.set(e,a),rs(a,[e])}var ad=new WeakMap;function Gt(e,a){if(typeof e=="object"&&e!==null){var s=ad.get(e);return s!==void 0?s:(a={value:e,source:a,stack:vu(a)},ad.set(e,a),a)}return{value:e,source:a,stack:vu(a)}}var Qt=[],Qs=0,Pr=0;function Xl(){for(var e=Qs,a=Pr=Qs=0;a<e;){var s=Qt[a];Qt[a++]=null;var n=Qt[a];Qt[a++]=null;var r=Qt[a];Qt[a++]=null;var u=Qt[a];if(Qt[a++]=null,n!==null&&r!==null){var x=n.pending;x===null?r.next=r:(r.next=x.next,x.next=r),n.pending=r}u!==0&&sd(s,r,u)}}function Zl(e,a,s,n){Qt[Qs++]=e,Qt[Qs++]=a,Qt[Qs++]=s,Qt[Qs++]=n,Pr|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Yr(e,a,s,n){return Zl(e,a,s,n),Kl(e)}function Vs(e,a){return Zl(e,null,null,a),Kl(e)}function sd(e,a,s){e.lanes|=s;var n=e.alternate;n!==null&&(n.lanes|=s);for(var r=!1,u=e.return;u!==null;)u.childLanes|=s,n=u.alternate,n!==null&&(n.childLanes|=s),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(r=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,r&&a!==null&&(r=31-St(s),e=u.hiddenUpdates,n=e[r],n===null?e[r]=[a]:n.push(a),a.lane=s|536870912),u):null}function Kl(e){if(50<rl)throw rl=0,Kc=null,Error(o(185));for(var a=e.return;a!==null;)e=a,a=e.return;return e.tag===3?e.stateNode:null}var Xs={};function wg(e,a,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,a,s,n){return new wg(e,a,s,n)}function Gr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ja(e,a){var s=e.alternate;return s===null?(s=zt(e.tag,a,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=a,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,a=e.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function nd(e,a){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=a,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,a=s.dependencies,e.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),e}function Jl(e,a,s,n,r,u){var x=0;if(n=e,typeof e=="function")Gr(e)&&(x=1);else if(typeof e=="string")x=Cx(e,s,ie.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case re:return e=zt(31,s,a,r),e.elementType=re,e.lanes=u,e;case y:return ds(s.children,r,u,a);case E:x=8,r|=24;break;case k:return e=zt(12,s,a,r|2),e.elementType=k,e.lanes=u,e;case S:return e=zt(13,s,a,r),e.elementType=S,e.lanes=u,e;case B:return e=zt(19,s,a,r),e.elementType=B,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O:case R:x=10;break e;case U:x=9;break e;case M:x=11;break e;case Z:x=14;break e;case ee:x=16,n=null;break e}x=29,s=Error(o(130,e===null?"null":typeof e,"")),n=null}return a=zt(x,s,a,r),a.elementType=e,a.type=n,a.lanes=u,a}function ds(e,a,s,n){return e=zt(7,e,n,a),e.lanes=s,e}function Qr(e,a,s){return e=zt(6,e,null,a),e.lanes=s,e}function Vr(e,a,s){return a=zt(4,e.children!==null?e.children:[],e.key,a),a.lanes=s,a.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},a}var Zs=[],Ks=0,Il=null,Wl=0,Vt=[],Xt=0,fs=null,Na=1,ba="";function hs(e,a){Zs[Ks++]=Wl,Zs[Ks++]=Il,Il=e,Wl=a}function ld(e,a,s){Vt[Xt++]=Na,Vt[Xt++]=ba,Vt[Xt++]=fs,fs=e;var n=Na;e=ba;var r=32-St(n)-1;n&=~(1<<r),s+=1;var u=32-St(a)+r;if(30<u){var x=r-r%5;u=(n&(1<<x)-1).toString(32),n>>=x,r-=x,Na=1<<32-St(a)+r|s<<r|n,ba=u+e}else Na=1<<u|s<<r|n,ba=e}function Xr(e){e.return!==null&&(hs(e,1),ld(e,1,0))}function Zr(e){for(;e===Il;)Il=Zs[--Ks],Zs[Ks]=null,Wl=Zs[--Ks],Zs[Ks]=null;for(;e===fs;)fs=Vt[--Xt],Vt[Xt]=null,ba=Vt[--Xt],Vt[Xt]=null,Na=Vt[--Xt],Vt[Xt]=null}var Et=null,Je=null,ze=!1,ms=null,ca=!1,Kr=Error(o(519));function ps(e){var a=Error(o(418,""));throw Bn(Gt(a,e)),Kr}function id(e){var a=e.stateNode,s=e.type,n=e.memoizedProps;switch(a[yt]=e,a[kt]=n,s){case"dialog":Re("cancel",a),Re("close",a);break;case"iframe":case"object":case"embed":Re("load",a);break;case"video":case"audio":for(s=0;s<ol.length;s++)Re(ol[s],a);break;case"source":Re("error",a);break;case"img":case"image":case"link":Re("error",a),Re("load",a);break;case"details":Re("toggle",a);break;case"input":Re("invalid",a),Nu(a,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),Bl(a);break;case"select":Re("invalid",a);break;case"textarea":Re("invalid",a),_u(a,n.value,n.defaultValue,n.children),Bl(a)}s=n.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||n.suppressHydrationWarning===!0||Sh(a.textContent,s)?(n.popover!=null&&(Re("beforetoggle",a),Re("toggle",a)),n.onScroll!=null&&Re("scroll",a),n.onScrollEnd!=null&&Re("scrollend",a),n.onClick!=null&&(a.onclick=Oi),a=!0):a=!1,a||ps(e)}function rd(e){for(Et=e.return;Et;)switch(Et.tag){case 5:case 13:ca=!1;return;case 27:case 3:ca=!0;return;default:Et=Et.return}}function Ln(e){if(e!==Et)return!1;if(!ze)return rd(e),ze=!0,!1;var a=e.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||ho(e.type,e.memoizedProps)),s=!s),s&&Je&&ps(e),rd(e),a===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,a=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(a===0){Je=ta(e.nextSibling);break e}a--}else s!=="$"&&s!=="$!"&&s!=="$?"||a++;e=e.nextSibling}Je=null}}else a===27?(a=Je,Wa(e.type)?(e=xo,xo=null,Je=e):Je=a):Je=Et?ta(e.stateNode.nextSibling):null;return!0}function qn(){Je=Et=null,ze=!1}function cd(){var e=ms;return e!==null&&(At===null?At=e:At.push.apply(At,e),ms=null),e}function Bn(e){ms===null?ms=[e]:ms.push(e)}var Jr=D(null),gs=null,_a=null;function qa(e,a,s){te(Jr,a._currentValue),a._currentValue=s}function Sa(e){e._currentValue=Jr.current,Q(Jr)}function Ir(e,a,s){for(;e!==null;){var n=e.alternate;if((e.childLanes&a)!==a?(e.childLanes|=a,n!==null&&(n.childLanes|=a)):n!==null&&(n.childLanes&a)!==a&&(n.childLanes|=a),e===s)break;e=e.return}}function Wr(e,a,s,n){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var u=r.dependencies;if(u!==null){var x=r.child;u=u.firstContext;e:for(;u!==null;){var _=u;u=r;for(var T=0;T<a.length;T++)if(_.context===a[T]){u.lanes|=s,_=u.alternate,_!==null&&(_.lanes|=s),Ir(u.return,s,e),n||(x=null);break e}u=_.next}}else if(r.tag===18){if(x=r.return,x===null)throw Error(o(341));x.lanes|=s,u=x.alternate,u!==null&&(u.lanes|=s),Ir(x,s,e),x=null}else x=r.child;if(x!==null)x.return=r;else for(x=r;x!==null;){if(x===e){x=null;break}if(r=x.sibling,r!==null){r.return=x.return,x=r;break}x=x.return}r=x}}function Fn(e,a,s,n){e=null;for(var r=a,u=!1;r!==null;){if(!u){if((r.flags&524288)!==0)u=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var x=r.alternate;if(x===null)throw Error(o(387));if(x=x.memoizedProps,x!==null){var _=r.type;Ut(r.pendingProps.value,x.value)||(e!==null?e.push(_):e=[_])}}else if(r===Ye.current){if(x=r.alternate,x===null)throw Error(o(387));x.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(pl):e=[pl])}r=r.return}e!==null&&Wr(a,e,s,n),a.flags|=262144}function ei(e){for(e=e.firstContext;e!==null;){if(!Ut(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xs(e){gs=e,_a=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function jt(e){return od(gs,e)}function ti(e,a){return gs===null&&xs(e),od(e,a)}function od(e,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},_a===null){if(e===null)throw Error(o(308));_a=a,e.dependencies={lanes:0,firstContext:a},e.flags|=524288}else _a=_a.next=a;return s}var kg=typeof AbortController<"u"?AbortController:function(){var e=[],a=this.signal={aborted:!1,addEventListener:function(s,n){e.push(n)}};this.abort=function(){a.aborted=!0,e.forEach(function(s){return s()})}},Cg=l.unstable_scheduleCallback,Tg=l.unstable_NormalPriority,lt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ec(){return{controller:new kg,data:new Map,refCount:0}}function Hn(e){e.refCount--,e.refCount===0&&Cg(Tg,function(){e.controller.abort()})}var $n=null,tc=0,Js=0,Is=null;function Rg(e,a){if($n===null){var s=$n=[];tc=0,Js=so(),Is={status:"pending",value:void 0,then:function(n){s.push(n)}}}return tc++,a.then(ud,ud),a}function ud(){if(--tc===0&&$n!==null){Is!==null&&(Is.status="fulfilled");var e=$n;$n=null,Js=0,Is=null;for(var a=0;a<e.length;a++)(0,e[a])()}}function Ag(e,a){var s=[],n={status:"pending",value:null,reason:null,then:function(r){s.push(r)}};return e.then(function(){n.status="fulfilled",n.value=a;for(var r=0;r<s.length;r++)(0,s[r])(a)},function(r){for(n.status="rejected",n.reason=r,r=0;r<s.length;r++)(0,s[r])(void 0)}),n}var dd=A.S;A.S=function(e,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Rg(e,a),dd!==null&&dd(e,a)};var vs=D(null);function ac(){var e=vs.current;return e!==null?e:Qe.pooledCache}function ai(e,a){a===null?te(vs,vs.current):te(vs,a.pool)}function fd(){var e=ac();return e===null?null:{parent:lt._currentValue,pool:e}}var Pn=Error(o(460)),hd=Error(o(474)),si=Error(o(542)),sc={then:function(){}};function md(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ni(){}function pd(e,a,s){switch(s=e[s],s===void 0?e.push(a):s!==a&&(a.then(ni,ni),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,xd(e),e;default:if(typeof a.status=="string")a.then(ni,ni);else{if(e=Qe,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=a,e.status="pending",e.then(function(n){if(a.status==="pending"){var r=a;r.status="fulfilled",r.value=n}},function(n){if(a.status==="pending"){var r=a;r.status="rejected",r.reason=n}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,xd(e),e}throw Yn=a,Pn}}var Yn=null;function gd(){if(Yn===null)throw Error(o(459));var e=Yn;return Yn=null,e}function xd(e){if(e===Pn||e===si)throw Error(o(483))}var Ba=!1;function nc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lc(e,a){e=e.updateQueue,a.updateQueue===e&&(a.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Fa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ha(e,a,s){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(Le&2)!==0){var r=n.pending;return r===null?a.next=a:(a.next=r.next,r.next=a),n.pending=a,a=Kl(e),sd(e,null,s),a}return Zl(e,n,a,s),Kl(e)}function Gn(e,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var n=a.lanes;n&=e.pendingLanes,s|=n,a.lanes=s,uu(e,s)}}function ic(e,a){var s=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var r=null,u=null;if(s=s.firstBaseUpdate,s!==null){do{var x={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};u===null?r=u=x:u=u.next=x,s=s.next}while(s!==null);u===null?r=u=a:u=u.next=a}else r=u=a;s={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:u,shared:n.shared,callbacks:n.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=a:e.next=a,s.lastBaseUpdate=a}var rc=!1;function Qn(){if(rc){var e=Is;if(e!==null)throw e}}function Vn(e,a,s,n){rc=!1;var r=e.updateQueue;Ba=!1;var u=r.firstBaseUpdate,x=r.lastBaseUpdate,_=r.shared.pending;if(_!==null){r.shared.pending=null;var T=_,H=T.next;T.next=null,x===null?u=H:x.next=H,x=T;var X=e.alternate;X!==null&&(X=X.updateQueue,_=X.lastBaseUpdate,_!==x&&(_===null?X.firstBaseUpdate=H:_.next=H,X.lastBaseUpdate=T))}if(u!==null){var J=r.baseState;x=0,X=H=T=null,_=u;do{var $=_.lane&-536870913,P=$!==_.lane;if(P?(De&$)===$:(n&$)===$){$!==0&&$===Js&&(rc=!0),X!==null&&(X=X.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var Se=e,be=_;$=a;var $e=s;switch(be.tag){case 1:if(Se=be.payload,typeof Se=="function"){J=Se.call($e,J,$);break e}J=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=be.payload,$=typeof Se=="function"?Se.call($e,J,$):Se,$==null)break e;J=p({},J,$);break e;case 2:Ba=!0}}$=_.callback,$!==null&&(e.flags|=64,P&&(e.flags|=8192),P=r.callbacks,P===null?r.callbacks=[$]:P.push($))}else P={lane:$,tag:_.tag,payload:_.payload,callback:_.callback,next:null},X===null?(H=X=P,T=J):X=X.next=P,x|=$;if(_=_.next,_===null){if(_=r.shared.pending,_===null)break;P=_,_=P.next,P.next=null,r.lastBaseUpdate=P,r.shared.pending=null}}while(!0);X===null&&(T=J),r.baseState=T,r.firstBaseUpdate=H,r.lastBaseUpdate=X,u===null&&(r.shared.lanes=0),Za|=x,e.lanes=x,e.memoizedState=J}}function vd(e,a){if(typeof e!="function")throw Error(o(191,e));e.call(a)}function yd(e,a){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)vd(s[e],a)}var Ws=D(null),li=D(0);function jd(e,a){e=Aa,te(li,e),te(Ws,a),Aa=e|a.baseLanes}function cc(){te(li,Aa),te(Ws,Ws.current)}function oc(){Aa=li.current,Q(Ws),Q(li)}var $a=0,ke=null,Fe=null,st=null,ii=!1,en=!1,ys=!1,ri=0,Xn=0,tn=null,Dg=0;function tt(){throw Error(o(321))}function uc(e,a){if(a===null)return!1;for(var s=0;s<a.length&&s<e.length;s++)if(!Ut(e[s],a[s]))return!1;return!0}function dc(e,a,s,n,r,u){return $a=u,ke=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,A.H=e===null||e.memoizedState===null?sf:nf,ys=!1,u=s(n,r),ys=!1,en&&(u=bd(a,s,n,r)),Nd(e),u}function Nd(e){A.H=hi;var a=Fe!==null&&Fe.next!==null;if($a=0,st=Fe=ke=null,ii=!1,Xn=0,tn=null,a)throw Error(o(300));e===null||ut||(e=e.dependencies,e!==null&&ei(e)&&(ut=!0))}function bd(e,a,s,n){ke=e;var r=0;do{if(en&&(tn=null),Xn=0,en=!1,25<=r)throw Error(o(301));if(r+=1,st=Fe=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}A.H=Bg,u=a(s,n)}while(en);return u}function Og(){var e=A.H,a=e.useState()[0];return a=typeof a.then=="function"?Zn(a):a,e=e.useState()[0],(Fe!==null?Fe.memoizedState:null)!==e&&(ke.flags|=1024),a}function fc(){var e=ri!==0;return ri=0,e}function hc(e,a,s){a.updateQueue=e.updateQueue,a.flags&=-2053,e.lanes&=~s}function mc(e){if(ii){for(e=e.memoizedState;e!==null;){var a=e.queue;a!==null&&(a.pending=null),e=e.next}ii=!1}$a=0,st=Fe=ke=null,en=!1,Xn=ri=0,tn=null}function Tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?ke.memoizedState=st=e:st=st.next=e,st}function nt(){if(Fe===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=Fe.next;var a=st===null?ke.memoizedState:st.next;if(a!==null)st=a,Fe=e;else{if(e===null)throw ke.alternate===null?Error(o(467)):Error(o(310));Fe=e,e={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},st===null?ke.memoizedState=st=e:st=st.next=e}return st}function pc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zn(e){var a=Xn;return Xn+=1,tn===null&&(tn=[]),e=pd(tn,e,a),a=ke,(st===null?a.memoizedState:st.next)===null&&(a=a.alternate,A.H=a===null||a.memoizedState===null?sf:nf),e}function ci(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zn(e);if(e.$$typeof===R)return jt(e)}throw Error(o(438,String(e)))}function gc(e){var a=null,s=ke.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var n=ke.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(a={data:n.data.map(function(r){return r.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=pc(),ke.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(e),n=0;n<e;n++)s[n]=ge;return a.index++,s}function Ea(e,a){return typeof a=="function"?a(e):a}function oi(e){var a=nt();return xc(a,Fe,e)}function xc(e,a,s){var n=e.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=s;var r=e.baseQueue,u=n.pending;if(u!==null){if(r!==null){var x=r.next;r.next=u.next,u.next=x}a.baseQueue=r=u,n.pending=null}if(u=e.baseState,r===null)e.memoizedState=u;else{a=r.next;var _=x=null,T=null,H=a,X=!1;do{var J=H.lane&-536870913;if(J!==H.lane?(De&J)===J:($a&J)===J){var $=H.revertLane;if($===0)T!==null&&(T=T.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),J===Js&&(X=!0);else if(($a&$)===$){H=H.next,$===Js&&(X=!0);continue}else J={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},T===null?(_=T=J,x=u):T=T.next=J,ke.lanes|=$,Za|=$;J=H.action,ys&&s(u,J),u=H.hasEagerState?H.eagerState:s(u,J)}else $={lane:J,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},T===null?(_=T=$,x=u):T=T.next=$,ke.lanes|=J,Za|=J;H=H.next}while(H!==null&&H!==a);if(T===null?x=u:T.next=_,!Ut(u,e.memoizedState)&&(ut=!0,X&&(s=Is,s!==null)))throw s;e.memoizedState=u,e.baseState=x,e.baseQueue=T,n.lastRenderedState=u}return r===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function vc(e){var a=nt(),s=a.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=e;var n=s.dispatch,r=s.pending,u=a.memoizedState;if(r!==null){s.pending=null;var x=r=r.next;do u=e(u,x.action),x=x.next;while(x!==r);Ut(u,a.memoizedState)||(ut=!0),a.memoizedState=u,a.baseQueue===null&&(a.baseState=u),s.lastRenderedState=u}return[u,n]}function _d(e,a,s){var n=ke,r=nt(),u=ze;if(u){if(s===void 0)throw Error(o(407));s=s()}else s=a();var x=!Ut((Fe||r).memoizedState,s);x&&(r.memoizedState=s,ut=!0),r=r.queue;var _=wd.bind(null,n,r,e);if(Kn(2048,8,_,[e]),r.getSnapshot!==a||x||st!==null&&st.memoizedState.tag&1){if(n.flags|=2048,an(9,ui(),Ed.bind(null,n,r,s,a),null),Qe===null)throw Error(o(349));u||($a&124)!==0||Sd(n,a,s)}return s}function Sd(e,a,s){e.flags|=16384,e={getSnapshot:a,value:s},a=ke.updateQueue,a===null?(a=pc(),ke.updateQueue=a,a.stores=[e]):(s=a.stores,s===null?a.stores=[e]:s.push(e))}function Ed(e,a,s,n){a.value=s,a.getSnapshot=n,kd(a)&&Cd(e)}function wd(e,a,s){return s(function(){kd(a)&&Cd(e)})}function kd(e){var a=e.getSnapshot;e=e.value;try{var s=a();return!Ut(e,s)}catch{return!0}}function Cd(e){var a=Vs(e,2);a!==null&&Ht(a,e,2)}function yc(e){var a=Tt();if(typeof e=="function"){var s=e;if(e=s(),ys){$t(!0);try{s()}finally{$t(!1)}}}return a.memoizedState=a.baseState=e,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:e},a}function Td(e,a,s,n){return e.baseState=s,xc(e,Fe,typeof n=="function"?n:Ea)}function Mg(e,a,s,n,r){if(fi(e))throw Error(o(485));if(e=a.action,e!==null){var u={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){u.listeners.push(x)}};A.T!==null?s(!0):u.isTransition=!1,n(u),s=a.pending,s===null?(u.next=a.pending=u,Rd(a,u)):(u.next=s.next,a.pending=s.next=u)}}function Rd(e,a){var s=a.action,n=a.payload,r=e.state;if(a.isTransition){var u=A.T,x={};A.T=x;try{var _=s(r,n),T=A.S;T!==null&&T(x,_),Ad(e,a,_)}catch(H){jc(e,a,H)}finally{A.T=u}}else try{u=s(r,n),Ad(e,a,u)}catch(H){jc(e,a,H)}}function Ad(e,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(n){Dd(e,a,n)},function(n){return jc(e,a,n)}):Dd(e,a,s)}function Dd(e,a,s){a.status="fulfilled",a.value=s,Od(a),e.state=s,a=e.pending,a!==null&&(s=a.next,s===a?e.pending=null:(s=s.next,a.next=s,Rd(e,s)))}function jc(e,a,s){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do a.status="rejected",a.reason=s,Od(a),a=a.next;while(a!==n)}e.action=null}function Od(e){e=e.listeners;for(var a=0;a<e.length;a++)(0,e[a])()}function Md(e,a){return a}function Ud(e,a){if(ze){var s=Qe.formState;if(s!==null){e:{var n=ke;if(ze){if(Je){t:{for(var r=Je,u=ca;r.nodeType!==8;){if(!u){r=null;break t}if(r=ta(r.nextSibling),r===null){r=null;break t}}u=r.data,r=u==="F!"||u==="F"?r:null}if(r){Je=ta(r.nextSibling),n=r.data==="F!";break e}}ps(n)}n=!1}n&&(a=s[0])}}return s=Tt(),s.memoizedState=s.baseState=a,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Md,lastRenderedState:a},s.queue=n,s=ef.bind(null,ke,n),n.dispatch=s,n=yc(!1),u=Ec.bind(null,ke,!1,n.queue),n=Tt(),r={state:a,dispatch:null,action:e,pending:null},n.queue=r,s=Mg.bind(null,ke,r,u,s),r.dispatch=s,n.memoizedState=e,[a,s,!1]}function zd(e){var a=nt();return Ld(a,Fe,e)}function Ld(e,a,s){if(a=xc(e,a,Md)[0],e=oi(Ea)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var n=Zn(a)}catch(x){throw x===Pn?si:x}else n=a;a=nt();var r=a.queue,u=r.dispatch;return s!==a.memoizedState&&(ke.flags|=2048,an(9,ui(),Ug.bind(null,r,s),null)),[n,u,e]}function Ug(e,a){e.action=a}function qd(e){var a=nt(),s=Fe;if(s!==null)return Ld(a,s,e);nt(),a=a.memoizedState,s=nt();var n=s.queue.dispatch;return s.memoizedState=e,[a,n,!1]}function an(e,a,s,n){return e={tag:e,create:s,deps:n,inst:a,next:null},a=ke.updateQueue,a===null&&(a=pc(),ke.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,a.lastEffect=e),e}function ui(){return{destroy:void 0,resource:void 0}}function Bd(){return nt().memoizedState}function di(e,a,s,n){var r=Tt();n=n===void 0?null:n,ke.flags|=e,r.memoizedState=an(1|a,ui(),s,n)}function Kn(e,a,s,n){var r=nt();n=n===void 0?null:n;var u=r.memoizedState.inst;Fe!==null&&n!==null&&uc(n,Fe.memoizedState.deps)?r.memoizedState=an(a,u,s,n):(ke.flags|=e,r.memoizedState=an(1|a,u,s,n))}function Fd(e,a){di(8390656,8,e,a)}function Hd(e,a){Kn(2048,8,e,a)}function $d(e,a){return Kn(4,2,e,a)}function Pd(e,a){return Kn(4,4,e,a)}function Yd(e,a){if(typeof a=="function"){e=e();var s=a(e);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return e=e(),a.current=e,function(){a.current=null}}function Gd(e,a,s){s=s!=null?s.concat([e]):null,Kn(4,4,Yd.bind(null,a,e),s)}function Nc(){}function Qd(e,a){var s=nt();a=a===void 0?null:a;var n=s.memoizedState;return a!==null&&uc(a,n[1])?n[0]:(s.memoizedState=[e,a],e)}function Vd(e,a){var s=nt();a=a===void 0?null:a;var n=s.memoizedState;if(a!==null&&uc(a,n[1]))return n[0];if(n=e(),ys){$t(!0);try{e()}finally{$t(!1)}}return s.memoizedState=[n,a],n}function bc(e,a,s){return s===void 0||($a&1073741824)!==0?e.memoizedState=a:(e.memoizedState=s,e=Jf(),ke.lanes|=e,Za|=e,s)}function Xd(e,a,s,n){return Ut(s,a)?s:Ws.current!==null?(e=bc(e,s,n),Ut(e,a)||(ut=!0),e):($a&42)===0?(ut=!0,e.memoizedState=s):(e=Jf(),ke.lanes|=e,Za|=e,a)}function Zd(e,a,s,n,r){var u=V.p;V.p=u!==0&&8>u?u:8;var x=A.T,_={};A.T=_,Ec(e,!1,a,s);try{var T=r(),H=A.S;if(H!==null&&H(_,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var X=Ag(T,n);Jn(e,a,X,Ft(e))}else Jn(e,a,n,Ft(e))}catch(J){Jn(e,a,{then:function(){},status:"rejected",reason:J},Ft())}finally{V.p=u,A.T=x}}function zg(){}function _c(e,a,s,n){if(e.tag!==5)throw Error(o(476));var r=Kd(e).queue;Zd(e,r,a,ae,s===null?zg:function(){return Jd(e),s(n)})}function Kd(e){var a=e.memoizedState;if(a!==null)return a;a={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:ae},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:s},next:null},e.memoizedState=a,e=e.alternate,e!==null&&(e.memoizedState=a),a}function Jd(e){var a=Kd(e).next.queue;Jn(e,a,{},Ft())}function Sc(){return jt(pl)}function Id(){return nt().memoizedState}function Wd(){return nt().memoizedState}function Lg(e){for(var a=e.return;a!==null;){switch(a.tag){case 24:case 3:var s=Ft();e=Fa(s);var n=Ha(a,e,s);n!==null&&(Ht(n,a,s),Gn(n,a,s)),a={cache:ec()},e.payload=a;return}a=a.return}}function qg(e,a,s){var n=Ft();s={lane:n,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},fi(e)?tf(a,s):(s=Yr(e,a,s,n),s!==null&&(Ht(s,e,n),af(s,a,n)))}function ef(e,a,s){var n=Ft();Jn(e,a,s,n)}function Jn(e,a,s,n){var r={lane:n,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(fi(e))tf(a,r);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=a.lastRenderedReducer,u!==null))try{var x=a.lastRenderedState,_=u(x,s);if(r.hasEagerState=!0,r.eagerState=_,Ut(_,x))return Zl(e,a,r,0),Qe===null&&Xl(),!1}catch{}finally{}if(s=Yr(e,a,r,n),s!==null)return Ht(s,e,n),af(s,a,n),!0}return!1}function Ec(e,a,s,n){if(n={lane:2,revertLane:so(),action:n,hasEagerState:!1,eagerState:null,next:null},fi(e)){if(a)throw Error(o(479))}else a=Yr(e,s,n,2),a!==null&&Ht(a,e,2)}function fi(e){var a=e.alternate;return e===ke||a!==null&&a===ke}function tf(e,a){en=ii=!0;var s=e.pending;s===null?a.next=a:(a.next=s.next,s.next=a),e.pending=a}function af(e,a,s){if((s&4194048)!==0){var n=a.lanes;n&=e.pendingLanes,s|=n,a.lanes=s,uu(e,s)}}var hi={readContext:jt,use:ci,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useLayoutEffect:tt,useInsertionEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useSyncExternalStore:tt,useId:tt,useHostTransitionStatus:tt,useFormState:tt,useActionState:tt,useOptimistic:tt,useMemoCache:tt,useCacheRefresh:tt},sf={readContext:jt,use:ci,useCallback:function(e,a){return Tt().memoizedState=[e,a===void 0?null:a],e},useContext:jt,useEffect:Fd,useImperativeHandle:function(e,a,s){s=s!=null?s.concat([e]):null,di(4194308,4,Yd.bind(null,a,e),s)},useLayoutEffect:function(e,a){return di(4194308,4,e,a)},useInsertionEffect:function(e,a){di(4,2,e,a)},useMemo:function(e,a){var s=Tt();a=a===void 0?null:a;var n=e();if(ys){$t(!0);try{e()}finally{$t(!1)}}return s.memoizedState=[n,a],n},useReducer:function(e,a,s){var n=Tt();if(s!==void 0){var r=s(a);if(ys){$t(!0);try{s(a)}finally{$t(!1)}}}else r=a;return n.memoizedState=n.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},n.queue=e,e=e.dispatch=qg.bind(null,ke,e),[n.memoizedState,e]},useRef:function(e){var a=Tt();return e={current:e},a.memoizedState=e},useState:function(e){e=yc(e);var a=e.queue,s=ef.bind(null,ke,a);return a.dispatch=s,[e.memoizedState,s]},useDebugValue:Nc,useDeferredValue:function(e,a){var s=Tt();return bc(s,e,a)},useTransition:function(){var e=yc(!1);return e=Zd.bind(null,ke,e.queue,!0,!1),Tt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,a,s){var n=ke,r=Tt();if(ze){if(s===void 0)throw Error(o(407));s=s()}else{if(s=a(),Qe===null)throw Error(o(349));(De&124)!==0||Sd(n,a,s)}r.memoizedState=s;var u={value:s,getSnapshot:a};return r.queue=u,Fd(wd.bind(null,n,u,e),[e]),n.flags|=2048,an(9,ui(),Ed.bind(null,n,u,s,a),null),s},useId:function(){var e=Tt(),a=Qe.identifierPrefix;if(ze){var s=ba,n=Na;s=(n&~(1<<32-St(n)-1)).toString(32)+s,a=""+a+"R"+s,s=ri++,0<s&&(a+="H"+s.toString(32)),a+=""}else s=Dg++,a=""+a+"r"+s.toString(32)+"";return e.memoizedState=a},useHostTransitionStatus:Sc,useFormState:Ud,useActionState:Ud,useOptimistic:function(e){var a=Tt();a.memoizedState=a.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=Ec.bind(null,ke,!0,s),s.dispatch=a,[e,a]},useMemoCache:gc,useCacheRefresh:function(){return Tt().memoizedState=Lg.bind(null,ke)}},nf={readContext:jt,use:ci,useCallback:Qd,useContext:jt,useEffect:Hd,useImperativeHandle:Gd,useInsertionEffect:$d,useLayoutEffect:Pd,useMemo:Vd,useReducer:oi,useRef:Bd,useState:function(){return oi(Ea)},useDebugValue:Nc,useDeferredValue:function(e,a){var s=nt();return Xd(s,Fe.memoizedState,e,a)},useTransition:function(){var e=oi(Ea)[0],a=nt().memoizedState;return[typeof e=="boolean"?e:Zn(e),a]},useSyncExternalStore:_d,useId:Id,useHostTransitionStatus:Sc,useFormState:zd,useActionState:zd,useOptimistic:function(e,a){var s=nt();return Td(s,Fe,e,a)},useMemoCache:gc,useCacheRefresh:Wd},Bg={readContext:jt,use:ci,useCallback:Qd,useContext:jt,useEffect:Hd,useImperativeHandle:Gd,useInsertionEffect:$d,useLayoutEffect:Pd,useMemo:Vd,useReducer:vc,useRef:Bd,useState:function(){return vc(Ea)},useDebugValue:Nc,useDeferredValue:function(e,a){var s=nt();return Fe===null?bc(s,e,a):Xd(s,Fe.memoizedState,e,a)},useTransition:function(){var e=vc(Ea)[0],a=nt().memoizedState;return[typeof e=="boolean"?e:Zn(e),a]},useSyncExternalStore:_d,useId:Id,useHostTransitionStatus:Sc,useFormState:qd,useActionState:qd,useOptimistic:function(e,a){var s=nt();return Fe!==null?Td(s,Fe,e,a):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:gc,useCacheRefresh:Wd},sn=null,In=0;function mi(e){var a=In;return In+=1,sn===null&&(sn=[]),pd(sn,e,a)}function Wn(e,a){a=a.props.ref,e.ref=a!==void 0?a:null}function pi(e,a){throw a.$$typeof===N?Error(o(525)):(e=Object.prototype.toString.call(a),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e)))}function lf(e){var a=e._init;return a(e._payload)}function rf(e){function a(q,z){if(e){var F=q.deletions;F===null?(q.deletions=[z],q.flags|=16):F.push(z)}}function s(q,z){if(!e)return null;for(;z!==null;)a(q,z),z=z.sibling;return null}function n(q){for(var z=new Map;q!==null;)q.key!==null?z.set(q.key,q):z.set(q.index,q),q=q.sibling;return z}function r(q,z){return q=ja(q,z),q.index=0,q.sibling=null,q}function u(q,z,F){return q.index=F,e?(F=q.alternate,F!==null?(F=F.index,F<z?(q.flags|=67108866,z):F):(q.flags|=67108866,z)):(q.flags|=1048576,z)}function x(q){return e&&q.alternate===null&&(q.flags|=67108866),q}function _(q,z,F,K){return z===null||z.tag!==6?(z=Qr(F,q.mode,K),z.return=q,z):(z=r(z,F),z.return=q,z)}function T(q,z,F,K){var pe=F.type;return pe===y?X(q,z,F.props.children,K,F.key):z!==null&&(z.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===ee&&lf(pe)===z.type)?(z=r(z,F.props),Wn(z,F),z.return=q,z):(z=Jl(F.type,F.key,F.props,null,q.mode,K),Wn(z,F),z.return=q,z)}function H(q,z,F,K){return z===null||z.tag!==4||z.stateNode.containerInfo!==F.containerInfo||z.stateNode.implementation!==F.implementation?(z=Vr(F,q.mode,K),z.return=q,z):(z=r(z,F.children||[]),z.return=q,z)}function X(q,z,F,K,pe){return z===null||z.tag!==7?(z=ds(F,q.mode,K,pe),z.return=q,z):(z=r(z,F),z.return=q,z)}function J(q,z,F){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Qr(""+z,q.mode,F),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case j:return F=Jl(z.type,z.key,z.props,null,q.mode,F),Wn(F,z),F.return=q,F;case C:return z=Vr(z,q.mode,F),z.return=q,z;case ee:var K=z._init;return z=K(z._payload),J(q,z,F)}if(ye(z)||W(z))return z=ds(z,q.mode,F,null),z.return=q,z;if(typeof z.then=="function")return J(q,mi(z),F);if(z.$$typeof===R)return J(q,ti(q,z),F);pi(q,z)}return null}function $(q,z,F,K){var pe=z!==null?z.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return pe!==null?null:_(q,z,""+F,K);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case j:return F.key===pe?T(q,z,F,K):null;case C:return F.key===pe?H(q,z,F,K):null;case ee:return pe=F._init,F=pe(F._payload),$(q,z,F,K)}if(ye(F)||W(F))return pe!==null?null:X(q,z,F,K,null);if(typeof F.then=="function")return $(q,z,mi(F),K);if(F.$$typeof===R)return $(q,z,ti(q,F),K);pi(q,F)}return null}function P(q,z,F,K,pe){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return q=q.get(F)||null,_(z,q,""+K,pe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case j:return q=q.get(K.key===null?F:K.key)||null,T(z,q,K,pe);case C:return q=q.get(K.key===null?F:K.key)||null,H(z,q,K,pe);case ee:var Ce=K._init;return K=Ce(K._payload),P(q,z,F,K,pe)}if(ye(K)||W(K))return q=q.get(F)||null,X(z,q,K,pe,null);if(typeof K.then=="function")return P(q,z,F,mi(K),pe);if(K.$$typeof===R)return P(q,z,F,ti(z,K),pe);pi(z,K)}return null}function Se(q,z,F,K){for(var pe=null,Ce=null,ve=z,_e=z=0,ft=null;ve!==null&&_e<F.length;_e++){ve.index>_e?(ft=ve,ve=null):ft=ve.sibling;var Me=$(q,ve,F[_e],K);if(Me===null){ve===null&&(ve=ft);break}e&&ve&&Me.alternate===null&&a(q,ve),z=u(Me,z,_e),Ce===null?pe=Me:Ce.sibling=Me,Ce=Me,ve=ft}if(_e===F.length)return s(q,ve),ze&&hs(q,_e),pe;if(ve===null){for(;_e<F.length;_e++)ve=J(q,F[_e],K),ve!==null&&(z=u(ve,z,_e),Ce===null?pe=ve:Ce.sibling=ve,Ce=ve);return ze&&hs(q,_e),pe}for(ve=n(ve);_e<F.length;_e++)ft=P(ve,q,_e,F[_e],K),ft!==null&&(e&&ft.alternate!==null&&ve.delete(ft.key===null?_e:ft.key),z=u(ft,z,_e),Ce===null?pe=ft:Ce.sibling=ft,Ce=ft);return e&&ve.forEach(function(ns){return a(q,ns)}),ze&&hs(q,_e),pe}function be(q,z,F,K){if(F==null)throw Error(o(151));for(var pe=null,Ce=null,ve=z,_e=z=0,ft=null,Me=F.next();ve!==null&&!Me.done;_e++,Me=F.next()){ve.index>_e?(ft=ve,ve=null):ft=ve.sibling;var ns=$(q,ve,Me.value,K);if(ns===null){ve===null&&(ve=ft);break}e&&ve&&ns.alternate===null&&a(q,ve),z=u(ns,z,_e),Ce===null?pe=ns:Ce.sibling=ns,Ce=ns,ve=ft}if(Me.done)return s(q,ve),ze&&hs(q,_e),pe;if(ve===null){for(;!Me.done;_e++,Me=F.next())Me=J(q,Me.value,K),Me!==null&&(z=u(Me,z,_e),Ce===null?pe=Me:Ce.sibling=Me,Ce=Me);return ze&&hs(q,_e),pe}for(ve=n(ve);!Me.done;_e++,Me=F.next())Me=P(ve,q,_e,Me.value,K),Me!==null&&(e&&Me.alternate!==null&&ve.delete(Me.key===null?_e:Me.key),z=u(Me,z,_e),Ce===null?pe=Me:Ce.sibling=Me,Ce=Me);return e&&ve.forEach(function(Fx){return a(q,Fx)}),ze&&hs(q,_e),pe}function $e(q,z,F,K){if(typeof F=="object"&&F!==null&&F.type===y&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case j:e:{for(var pe=F.key;z!==null;){if(z.key===pe){if(pe=F.type,pe===y){if(z.tag===7){s(q,z.sibling),K=r(z,F.props.children),K.return=q,q=K;break e}}else if(z.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===ee&&lf(pe)===z.type){s(q,z.sibling),K=r(z,F.props),Wn(K,F),K.return=q,q=K;break e}s(q,z);break}else a(q,z);z=z.sibling}F.type===y?(K=ds(F.props.children,q.mode,K,F.key),K.return=q,q=K):(K=Jl(F.type,F.key,F.props,null,q.mode,K),Wn(K,F),K.return=q,q=K)}return x(q);case C:e:{for(pe=F.key;z!==null;){if(z.key===pe)if(z.tag===4&&z.stateNode.containerInfo===F.containerInfo&&z.stateNode.implementation===F.implementation){s(q,z.sibling),K=r(z,F.children||[]),K.return=q,q=K;break e}else{s(q,z);break}else a(q,z);z=z.sibling}K=Vr(F,q.mode,K),K.return=q,q=K}return x(q);case ee:return pe=F._init,F=pe(F._payload),$e(q,z,F,K)}if(ye(F))return Se(q,z,F,K);if(W(F)){if(pe=W(F),typeof pe!="function")throw Error(o(150));return F=pe.call(F),be(q,z,F,K)}if(typeof F.then=="function")return $e(q,z,mi(F),K);if(F.$$typeof===R)return $e(q,z,ti(q,F),K);pi(q,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,z!==null&&z.tag===6?(s(q,z.sibling),K=r(z,F),K.return=q,q=K):(s(q,z),K=Qr(F,q.mode,K),K.return=q,q=K),x(q)):s(q,z)}return function(q,z,F,K){try{In=0;var pe=$e(q,z,F,K);return sn=null,pe}catch(ve){if(ve===Pn||ve===si)throw ve;var Ce=zt(29,ve,null,q.mode);return Ce.lanes=K,Ce.return=q,Ce}finally{}}}var nn=rf(!0),cf=rf(!1),Zt=D(null),oa=null;function Pa(e){var a=e.alternate;te(it,it.current&1),te(Zt,e),oa===null&&(a===null||Ws.current!==null||a.memoizedState!==null)&&(oa=e)}function of(e){if(e.tag===22){if(te(it,it.current),te(Zt,e),oa===null){var a=e.alternate;a!==null&&a.memoizedState!==null&&(oa=e)}}else Ya()}function Ya(){te(it,it.current),te(Zt,Zt.current)}function wa(e){Q(Zt),oa===e&&(oa=null),Q(it)}var it=D(0);function gi(e){for(var a=e;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||go(s)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function wc(e,a,s,n){a=e.memoizedState,s=s(n,a),s=s==null?a:p({},a,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var kc={enqueueSetState:function(e,a,s){e=e._reactInternals;var n=Ft(),r=Fa(n);r.payload=a,s!=null&&(r.callback=s),a=Ha(e,r,n),a!==null&&(Ht(a,e,n),Gn(a,e,n))},enqueueReplaceState:function(e,a,s){e=e._reactInternals;var n=Ft(),r=Fa(n);r.tag=1,r.payload=a,s!=null&&(r.callback=s),a=Ha(e,r,n),a!==null&&(Ht(a,e,n),Gn(a,e,n))},enqueueForceUpdate:function(e,a){e=e._reactInternals;var s=Ft(),n=Fa(s);n.tag=2,a!=null&&(n.callback=a),a=Ha(e,n,s),a!==null&&(Ht(a,e,s),Gn(a,e,s))}};function uf(e,a,s,n,r,u,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,u,x):a.prototype&&a.prototype.isPureReactComponent?!Un(s,n)||!Un(r,u):!0}function df(e,a,s,n){e=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,n),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,n),a.state!==e&&kc.enqueueReplaceState(a,a.state,null)}function js(e,a){var s=a;if("ref"in a){s={};for(var n in a)n!=="ref"&&(s[n]=a[n])}if(e=e.defaultProps){s===a&&(s=p({},s));for(var r in e)s[r]===void 0&&(s[r]=e[r])}return s}var xi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function ff(e){xi(e)}function hf(e){console.error(e)}function mf(e){xi(e)}function vi(e,a){try{var s=e.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(n){setTimeout(function(){throw n})}}function pf(e,a,s){try{var n=e.onCaughtError;n(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Cc(e,a,s){return s=Fa(s),s.tag=3,s.payload={element:null},s.callback=function(){vi(e,a)},s}function gf(e){return e=Fa(e),e.tag=3,e}function xf(e,a,s,n){var r=s.type.getDerivedStateFromError;if(typeof r=="function"){var u=n.value;e.payload=function(){return r(u)},e.callback=function(){pf(a,s,n)}}var x=s.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(e.callback=function(){pf(a,s,n),typeof r!="function"&&(Ka===null?Ka=new Set([this]):Ka.add(this));var _=n.stack;this.componentDidCatch(n.value,{componentStack:_!==null?_:""})})}function Fg(e,a,s,n,r){if(s.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(a=s.alternate,a!==null&&Fn(a,s,r,!0),s=Zt.current,s!==null){switch(s.tag){case 13:return oa===null?Ic():s.alternate===null&&Ie===0&&(Ie=3),s.flags&=-257,s.flags|=65536,s.lanes=r,n===sc?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([n]):a.add(n),eo(e,n,r)),!1;case 22:return s.flags|=65536,n===sc?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([n])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([n]):s.add(n)),eo(e,n,r)),!1}throw Error(o(435,s.tag))}return eo(e,n,r),Ic(),!1}if(ze)return a=Zt.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=r,n!==Kr&&(e=Error(o(422),{cause:n}),Bn(Gt(e,s)))):(n!==Kr&&(a=Error(o(423),{cause:n}),Bn(Gt(a,s))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,n=Gt(n,s),r=Cc(e.stateNode,n,r),ic(e,r),Ie!==4&&(Ie=2)),!1;var u=Error(o(520),{cause:n});if(u=Gt(u,s),il===null?il=[u]:il.push(u),Ie!==4&&(Ie=2),a===null)return!0;n=Gt(n,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,e=r&-r,s.lanes|=e,e=Cc(s.stateNode,n,e),ic(s,e),!1;case 1:if(a=s.type,u=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Ka===null||!Ka.has(u))))return s.flags|=65536,r&=-r,s.lanes|=r,r=gf(r),xf(r,e,s,n),ic(s,r),!1}s=s.return}while(s!==null);return!1}var vf=Error(o(461)),ut=!1;function ht(e,a,s,n){a.child=e===null?cf(a,null,s,n):nn(a,e.child,s,n)}function yf(e,a,s,n,r){s=s.render;var u=a.ref;if("ref"in n){var x={};for(var _ in n)_!=="ref"&&(x[_]=n[_])}else x=n;return xs(a),n=dc(e,a,s,x,u,r),_=fc(),e!==null&&!ut?(hc(e,a,r),ka(e,a,r)):(ze&&_&&Xr(a),a.flags|=1,ht(e,a,n,r),a.child)}function jf(e,a,s,n,r){if(e===null){var u=s.type;return typeof u=="function"&&!Gr(u)&&u.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=u,Nf(e,a,u,n,r)):(e=Jl(s.type,null,n,a,a.mode,r),e.ref=a.ref,e.return=a,a.child=e)}if(u=e.child,!zc(e,r)){var x=u.memoizedProps;if(s=s.compare,s=s!==null?s:Un,s(x,n)&&e.ref===a.ref)return ka(e,a,r)}return a.flags|=1,e=ja(u,n),e.ref=a.ref,e.return=a,a.child=e}function Nf(e,a,s,n,r){if(e!==null){var u=e.memoizedProps;if(Un(u,n)&&e.ref===a.ref)if(ut=!1,a.pendingProps=n=u,zc(e,r))(e.flags&131072)!==0&&(ut=!0);else return a.lanes=e.lanes,ka(e,a,r)}return Tc(e,a,s,n,r)}function bf(e,a,s){var n=a.pendingProps,r=n.children,u=e!==null?e.memoizedState:null;if(n.mode==="hidden"){if((a.flags&128)!==0){if(n=u!==null?u.baseLanes|s:s,e!==null){for(r=a.child=e.child,u=0;r!==null;)u=u|r.lanes|r.childLanes,r=r.sibling;a.childLanes=u&~n}else a.childLanes=0,a.child=null;return _f(e,a,n,s)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},e!==null&&ai(a,u!==null?u.cachePool:null),u!==null?jd(a,u):cc(),of(a);else return a.lanes=a.childLanes=536870912,_f(e,a,u!==null?u.baseLanes|s:s,s)}else u!==null?(ai(a,u.cachePool),jd(a,u),Ya(),a.memoizedState=null):(e!==null&&ai(a,null),cc(),Ya());return ht(e,a,r,s),a.child}function _f(e,a,s,n){var r=ac();return r=r===null?null:{parent:lt._currentValue,pool:r},a.memoizedState={baseLanes:s,cachePool:r},e!==null&&ai(a,null),cc(),of(a),e!==null&&Fn(e,a,n,!0),null}function yi(e,a){var s=a.ref;if(s===null)e!==null&&e.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(o(284));(e===null||e.ref!==s)&&(a.flags|=4194816)}}function Tc(e,a,s,n,r){return xs(a),s=dc(e,a,s,n,void 0,r),n=fc(),e!==null&&!ut?(hc(e,a,r),ka(e,a,r)):(ze&&n&&Xr(a),a.flags|=1,ht(e,a,s,r),a.child)}function Sf(e,a,s,n,r,u){return xs(a),a.updateQueue=null,s=bd(a,n,s,r),Nd(e),n=fc(),e!==null&&!ut?(hc(e,a,u),ka(e,a,u)):(ze&&n&&Xr(a),a.flags|=1,ht(e,a,s,u),a.child)}function Ef(e,a,s,n,r){if(xs(a),a.stateNode===null){var u=Xs,x=s.contextType;typeof x=="object"&&x!==null&&(u=jt(x)),u=new s(n,u),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=kc,a.stateNode=u,u._reactInternals=a,u=a.stateNode,u.props=n,u.state=a.memoizedState,u.refs={},nc(a),x=s.contextType,u.context=typeof x=="object"&&x!==null?jt(x):Xs,u.state=a.memoizedState,x=s.getDerivedStateFromProps,typeof x=="function"&&(wc(a,s,x,n),u.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(x=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),x!==u.state&&kc.enqueueReplaceState(u,u.state,null),Vn(a,n,u,r),Qn(),u.state=a.memoizedState),typeof u.componentDidMount=="function"&&(a.flags|=4194308),n=!0}else if(e===null){u=a.stateNode;var _=a.memoizedProps,T=js(s,_);u.props=T;var H=u.context,X=s.contextType;x=Xs,typeof X=="object"&&X!==null&&(x=jt(X));var J=s.getDerivedStateFromProps;X=typeof J=="function"||typeof u.getSnapshotBeforeUpdate=="function",_=a.pendingProps!==_,X||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(_||H!==x)&&df(a,u,n,x),Ba=!1;var $=a.memoizedState;u.state=$,Vn(a,n,u,r),Qn(),H=a.memoizedState,_||$!==H||Ba?(typeof J=="function"&&(wc(a,s,J,n),H=a.memoizedState),(T=Ba||uf(a,s,T,n,$,H,x))?(X||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(a.flags|=4194308)):(typeof u.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=n,a.memoizedState=H),u.props=n,u.state=H,u.context=x,n=T):(typeof u.componentDidMount=="function"&&(a.flags|=4194308),n=!1)}else{u=a.stateNode,lc(e,a),x=a.memoizedProps,X=js(s,x),u.props=X,J=a.pendingProps,$=u.context,H=s.contextType,T=Xs,typeof H=="object"&&H!==null&&(T=jt(H)),_=s.getDerivedStateFromProps,(H=typeof _=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(x!==J||$!==T)&&df(a,u,n,T),Ba=!1,$=a.memoizedState,u.state=$,Vn(a,n,u,r),Qn();var P=a.memoizedState;x!==J||$!==P||Ba||e!==null&&e.dependencies!==null&&ei(e.dependencies)?(typeof _=="function"&&(wc(a,s,_,n),P=a.memoizedState),(X=Ba||uf(a,s,X,n,$,P,T)||e!==null&&e.dependencies!==null&&ei(e.dependencies))?(H||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(n,P,T),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(n,P,T)),typeof u.componentDidUpdate=="function"&&(a.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof u.componentDidUpdate!="function"||x===e.memoizedProps&&$===e.memoizedState||(a.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&$===e.memoizedState||(a.flags|=1024),a.memoizedProps=n,a.memoizedState=P),u.props=n,u.state=P,u.context=T,n=X):(typeof u.componentDidUpdate!="function"||x===e.memoizedProps&&$===e.memoizedState||(a.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&$===e.memoizedState||(a.flags|=1024),n=!1)}return u=n,yi(e,a),n=(a.flags&128)!==0,u||n?(u=a.stateNode,s=n&&typeof s.getDerivedStateFromError!="function"?null:u.render(),a.flags|=1,e!==null&&n?(a.child=nn(a,e.child,null,r),a.child=nn(a,null,s,r)):ht(e,a,s,r),a.memoizedState=u.state,e=a.child):e=ka(e,a,r),e}function wf(e,a,s,n){return qn(),a.flags|=256,ht(e,a,s,n),a.child}var Rc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ac(e){return{baseLanes:e,cachePool:fd()}}function Dc(e,a,s){return e=e!==null?e.childLanes&~s:0,a&&(e|=Kt),e}function kf(e,a,s){var n=a.pendingProps,r=!1,u=(a.flags&128)!==0,x;if((x=u)||(x=e!==null&&e.memoizedState===null?!1:(it.current&2)!==0),x&&(r=!0,a.flags&=-129),x=(a.flags&32)!==0,a.flags&=-33,e===null){if(ze){if(r?Pa(a):Ya(),ze){var _=Je,T;if(T=_){e:{for(T=_,_=ca;T.nodeType!==8;){if(!_){_=null;break e}if(T=ta(T.nextSibling),T===null){_=null;break e}}_=T}_!==null?(a.memoizedState={dehydrated:_,treeContext:fs!==null?{id:Na,overflow:ba}:null,retryLane:536870912,hydrationErrors:null},T=zt(18,null,null,0),T.stateNode=_,T.return=a,a.child=T,Et=a,Je=null,T=!0):T=!1}T||ps(a)}if(_=a.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return go(_)?a.lanes=32:a.lanes=536870912,null;wa(a)}return _=n.children,n=n.fallback,r?(Ya(),r=a.mode,_=ji({mode:"hidden",children:_},r),n=ds(n,r,s,null),_.return=a,n.return=a,_.sibling=n,a.child=_,r=a.child,r.memoizedState=Ac(s),r.childLanes=Dc(e,x,s),a.memoizedState=Rc,n):(Pa(a),Oc(a,_))}if(T=e.memoizedState,T!==null&&(_=T.dehydrated,_!==null)){if(u)a.flags&256?(Pa(a),a.flags&=-257,a=Mc(e,a,s)):a.memoizedState!==null?(Ya(),a.child=e.child,a.flags|=128,a=null):(Ya(),r=n.fallback,_=a.mode,n=ji({mode:"visible",children:n.children},_),r=ds(r,_,s,null),r.flags|=2,n.return=a,r.return=a,n.sibling=r,a.child=n,nn(a,e.child,null,s),n=a.child,n.memoizedState=Ac(s),n.childLanes=Dc(e,x,s),a.memoizedState=Rc,a=r);else if(Pa(a),go(_)){if(x=_.nextSibling&&_.nextSibling.dataset,x)var H=x.dgst;x=H,n=Error(o(419)),n.stack="",n.digest=x,Bn({value:n,source:null,stack:null}),a=Mc(e,a,s)}else if(ut||Fn(e,a,s,!1),x=(s&e.childLanes)!==0,ut||x){if(x=Qe,x!==null&&(n=s&-s,n=(n&42)!==0?1:gr(n),n=(n&(x.suspendedLanes|s))!==0?0:n,n!==0&&n!==T.retryLane))throw T.retryLane=n,Vs(e,n),Ht(x,e,n),vf;_.data==="$?"||Ic(),a=Mc(e,a,s)}else _.data==="$?"?(a.flags|=192,a.child=e.child,a=null):(e=T.treeContext,Je=ta(_.nextSibling),Et=a,ze=!0,ms=null,ca=!1,e!==null&&(Vt[Xt++]=Na,Vt[Xt++]=ba,Vt[Xt++]=fs,Na=e.id,ba=e.overflow,fs=a),a=Oc(a,n.children),a.flags|=4096);return a}return r?(Ya(),r=n.fallback,_=a.mode,T=e.child,H=T.sibling,n=ja(T,{mode:"hidden",children:n.children}),n.subtreeFlags=T.subtreeFlags&65011712,H!==null?r=ja(H,r):(r=ds(r,_,s,null),r.flags|=2),r.return=a,n.return=a,n.sibling=r,a.child=n,n=r,r=a.child,_=e.child.memoizedState,_===null?_=Ac(s):(T=_.cachePool,T!==null?(H=lt._currentValue,T=T.parent!==H?{parent:H,pool:H}:T):T=fd(),_={baseLanes:_.baseLanes|s,cachePool:T}),r.memoizedState=_,r.childLanes=Dc(e,x,s),a.memoizedState=Rc,n):(Pa(a),s=e.child,e=s.sibling,s=ja(s,{mode:"visible",children:n.children}),s.return=a,s.sibling=null,e!==null&&(x=a.deletions,x===null?(a.deletions=[e],a.flags|=16):x.push(e)),a.child=s,a.memoizedState=null,s)}function Oc(e,a){return a=ji({mode:"visible",children:a},e.mode),a.return=e,e.child=a}function ji(e,a){return e=zt(22,e,null,a),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Mc(e,a,s){return nn(a,e.child,null,s),e=Oc(a,a.pendingProps.children),e.flags|=2,a.memoizedState=null,e}function Cf(e,a,s){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a),Ir(e.return,a,s)}function Uc(e,a,s,n,r){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:r}:(u.isBackwards=a,u.rendering=null,u.renderingStartTime=0,u.last=n,u.tail=s,u.tailMode=r)}function Tf(e,a,s){var n=a.pendingProps,r=n.revealOrder,u=n.tail;if(ht(e,a,n.children,s),n=it.current,(n&2)!==0)n=n&1|2,a.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=a.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cf(e,s,a);else if(e.tag===19)Cf(e,s,a);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break e;for(;e.sibling===null;){if(e.return===null||e.return===a)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(te(it,n),r){case"forwards":for(s=a.child,r=null;s!==null;)e=s.alternate,e!==null&&gi(e)===null&&(r=s),s=s.sibling;s=r,s===null?(r=a.child,a.child=null):(r=s.sibling,s.sibling=null),Uc(a,!1,r,s,u);break;case"backwards":for(s=null,r=a.child,a.child=null;r!==null;){if(e=r.alternate,e!==null&&gi(e)===null){a.child=r;break}e=r.sibling,r.sibling=s,s=r,r=e}Uc(a,!0,s,null,u);break;case"together":Uc(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ka(e,a,s){if(e!==null&&(a.dependencies=e.dependencies),Za|=a.lanes,(s&a.childLanes)===0)if(e!==null){if(Fn(e,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(e!==null&&a.child!==e.child)throw Error(o(153));if(a.child!==null){for(e=a.child,s=ja(e,e.pendingProps),a.child=s,s.return=a;e.sibling!==null;)e=e.sibling,s=s.sibling=ja(e,e.pendingProps),s.return=a;s.sibling=null}return a.child}function zc(e,a){return(e.lanes&a)!==0?!0:(e=e.dependencies,!!(e!==null&&ei(e)))}function Hg(e,a,s){switch(a.tag){case 3:Ue(a,a.stateNode.containerInfo),qa(a,lt,e.memoizedState.cache),qn();break;case 27:case 5:ga(a);break;case 4:Ue(a,a.stateNode.containerInfo);break;case 10:qa(a,a.type,a.memoizedProps.value);break;case 13:var n=a.memoizedState;if(n!==null)return n.dehydrated!==null?(Pa(a),a.flags|=128,null):(s&a.child.childLanes)!==0?kf(e,a,s):(Pa(a),e=ka(e,a,s),e!==null?e.sibling:null);Pa(a);break;case 19:var r=(e.flags&128)!==0;if(n=(s&a.childLanes)!==0,n||(Fn(e,a,s,!1),n=(s&a.childLanes)!==0),r){if(n)return Tf(e,a,s);a.flags|=128}if(r=a.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),te(it,it.current),n)break;return null;case 22:case 23:return a.lanes=0,bf(e,a,s);case 24:qa(a,lt,e.memoizedState.cache)}return ka(e,a,s)}function Rf(e,a,s){if(e!==null)if(e.memoizedProps!==a.pendingProps)ut=!0;else{if(!zc(e,s)&&(a.flags&128)===0)return ut=!1,Hg(e,a,s);ut=(e.flags&131072)!==0}else ut=!1,ze&&(a.flags&1048576)!==0&&ld(a,Wl,a.index);switch(a.lanes=0,a.tag){case 16:e:{e=a.pendingProps;var n=a.elementType,r=n._init;if(n=r(n._payload),a.type=n,typeof n=="function")Gr(n)?(e=js(n,e),a.tag=1,a=Ef(null,a,n,e,s)):(a.tag=0,a=Tc(null,a,n,e,s));else{if(n!=null){if(r=n.$$typeof,r===M){a.tag=11,a=yf(null,a,n,e,s);break e}else if(r===Z){a.tag=14,a=jf(null,a,n,e,s);break e}}throw a=xe(n)||n,Error(o(306,a,""))}}return a;case 0:return Tc(e,a,a.type,a.pendingProps,s);case 1:return n=a.type,r=js(n,a.pendingProps),Ef(e,a,n,r,s);case 3:e:{if(Ue(a,a.stateNode.containerInfo),e===null)throw Error(o(387));n=a.pendingProps;var u=a.memoizedState;r=u.element,lc(e,a),Vn(a,n,null,s);var x=a.memoizedState;if(n=x.cache,qa(a,lt,n),n!==u.cache&&Wr(a,[lt],s,!0),Qn(),n=x.element,u.isDehydrated)if(u={element:n,isDehydrated:!1,cache:x.cache},a.updateQueue.baseState=u,a.memoizedState=u,a.flags&256){a=wf(e,a,n,s);break e}else if(n!==r){r=Gt(Error(o(424)),a),Bn(r),a=wf(e,a,n,s);break e}else{switch(e=a.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Je=ta(e.firstChild),Et=a,ze=!0,ms=null,ca=!0,s=cf(a,null,n,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(qn(),n===r){a=ka(e,a,s);break e}ht(e,a,n,s)}a=a.child}return a;case 26:return yi(e,a),e===null?(s=Mh(a.type,null,a.pendingProps,null))?a.memoizedState=s:ze||(s=a.type,e=a.pendingProps,n=Mi(Ne.current).createElement(s),n[yt]=a,n[kt]=e,pt(n,s,e),ot(n),a.stateNode=n):a.memoizedState=Mh(a.type,e.memoizedProps,a.pendingProps,e.memoizedState),null;case 27:return ga(a),e===null&&ze&&(n=a.stateNode=Ah(a.type,a.pendingProps,Ne.current),Et=a,ca=!0,r=Je,Wa(a.type)?(xo=r,Je=ta(n.firstChild)):Je=r),ht(e,a,a.pendingProps.children,s),yi(e,a),e===null&&(a.flags|=4194304),a.child;case 5:return e===null&&ze&&((r=n=Je)&&(n=px(n,a.type,a.pendingProps,ca),n!==null?(a.stateNode=n,Et=a,Je=ta(n.firstChild),ca=!1,r=!0):r=!1),r||ps(a)),ga(a),r=a.type,u=a.pendingProps,x=e!==null?e.memoizedProps:null,n=u.children,ho(r,u)?n=null:x!==null&&ho(r,x)&&(a.flags|=32),a.memoizedState!==null&&(r=dc(e,a,Og,null,null,s),pl._currentValue=r),yi(e,a),ht(e,a,n,s),a.child;case 6:return e===null&&ze&&((e=s=Je)&&(s=gx(s,a.pendingProps,ca),s!==null?(a.stateNode=s,Et=a,Je=null,e=!0):e=!1),e||ps(a)),null;case 13:return kf(e,a,s);case 4:return Ue(a,a.stateNode.containerInfo),n=a.pendingProps,e===null?a.child=nn(a,null,n,s):ht(e,a,n,s),a.child;case 11:return yf(e,a,a.type,a.pendingProps,s);case 7:return ht(e,a,a.pendingProps,s),a.child;case 8:return ht(e,a,a.pendingProps.children,s),a.child;case 12:return ht(e,a,a.pendingProps.children,s),a.child;case 10:return n=a.pendingProps,qa(a,a.type,n.value),ht(e,a,n.children,s),a.child;case 9:return r=a.type._context,n=a.pendingProps.children,xs(a),r=jt(r),n=n(r),a.flags|=1,ht(e,a,n,s),a.child;case 14:return jf(e,a,a.type,a.pendingProps,s);case 15:return Nf(e,a,a.type,a.pendingProps,s);case 19:return Tf(e,a,s);case 31:return n=a.pendingProps,s=a.mode,n={mode:n.mode,children:n.children},e===null?(s=ji(n,s),s.ref=a.ref,a.child=s,s.return=a,a=s):(s=ja(e.child,n),s.ref=a.ref,a.child=s,s.return=a,a=s),a;case 22:return bf(e,a,s);case 24:return xs(a),n=jt(lt),e===null?(r=ac(),r===null&&(r=Qe,u=ec(),r.pooledCache=u,u.refCount++,u!==null&&(r.pooledCacheLanes|=s),r=u),a.memoizedState={parent:n,cache:r},nc(a),qa(a,lt,r)):((e.lanes&s)!==0&&(lc(e,a),Vn(a,null,null,s),Qn()),r=e.memoizedState,u=a.memoizedState,r.parent!==n?(r={parent:n,cache:n},a.memoizedState=r,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=r),qa(a,lt,n)):(n=u.cache,qa(a,lt,n),n!==r.cache&&Wr(a,[lt],s,!0))),ht(e,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(o(156,a.tag))}function Ca(e){e.flags|=4}function Af(e,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Bh(a)){if(a=Zt.current,a!==null&&((De&4194048)===De?oa!==null:(De&62914560)!==De&&(De&536870912)===0||a!==oa))throw Yn=sc,hd;e.flags|=8192}}function Ni(e,a){a!==null&&(e.flags|=4),e.flags&16384&&(a=e.tag!==22?xa():536870912,e.lanes|=a,on|=a)}function el(e,a){if(!ze)switch(e.tailMode){case"hidden":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?a||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ze(e){var a=e.alternate!==null&&e.alternate.child===e.child,s=0,n=0;if(a)for(var r=e.child;r!==null;)s|=r.lanes|r.childLanes,n|=r.subtreeFlags&65011712,n|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)s|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=n,e.childLanes=s,a}function $g(e,a,s){var n=a.pendingProps;switch(Zr(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(a),null;case 1:return Ze(a),null;case 3:return s=a.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),a.memoizedState.cache!==n&&(a.flags|=2048),Sa(lt),ct(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ln(a)?Ca(a):e===null||e.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,cd())),Ze(a),null;case 26:return s=a.memoizedState,e===null?(Ca(a),s!==null?(Ze(a),Af(a,s)):(Ze(a),a.flags&=-16777217)):s?s!==e.memoizedState?(Ca(a),Ze(a),Af(a,s)):(Ze(a),a.flags&=-16777217):(e.memoizedProps!==n&&Ca(a),Ze(a),a.flags&=-16777217),null;case 27:wt(a),s=Ne.current;var r=a.type;if(e!==null&&a.stateNode!=null)e.memoizedProps!==n&&Ca(a);else{if(!n){if(a.stateNode===null)throw Error(o(166));return Ze(a),null}e=ie.current,Ln(a)?id(a):(e=Ah(r,n,s),a.stateNode=e,Ca(a))}return Ze(a),null;case 5:if(wt(a),s=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==n&&Ca(a);else{if(!n){if(a.stateNode===null)throw Error(o(166));return Ze(a),null}if(e=ie.current,Ln(a))id(a);else{switch(r=Mi(Ne.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof n.is=="string"?r.createElement("select",{is:n.is}):r.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e=typeof n.is=="string"?r.createElement(s,{is:n.is}):r.createElement(s)}}e[yt]=a,e[kt]=n;e:for(r=a.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}a.stateNode=e;e:switch(pt(e,s,n),s){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ca(a)}}return Ze(a),a.flags&=-16777217,null;case 6:if(e&&a.stateNode!=null)e.memoizedProps!==n&&Ca(a);else{if(typeof n!="string"&&a.stateNode===null)throw Error(o(166));if(e=Ne.current,Ln(a)){if(e=a.stateNode,s=a.memoizedProps,n=null,r=Et,r!==null)switch(r.tag){case 27:case 5:n=r.memoizedProps}e[yt]=a,e=!!(e.nodeValue===s||n!==null&&n.suppressHydrationWarning===!0||Sh(e.nodeValue,s)),e||ps(a)}else e=Mi(e).createTextNode(n),e[yt]=a,a.stateNode=e}return Ze(a),null;case 13:if(n=a.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Ln(a),n!==null&&n.dehydrated!==null){if(e===null){if(!r)throw Error(o(318));if(r=a.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(o(317));r[yt]=a}else qn(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ze(a),r=!1}else r=cd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return a.flags&256?(wa(a),a):(wa(a),null)}if(wa(a),(a.flags&128)!==0)return a.lanes=s,a;if(s=n!==null,e=e!==null&&e.memoizedState!==null,s){n=a.child,r=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(r=n.alternate.memoizedState.cachePool.pool);var u=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==r&&(n.flags|=2048)}return s!==e&&s&&(a.child.flags|=8192),Ni(a,a.updateQueue),Ze(a),null;case 4:return ct(),e===null&&ro(a.stateNode.containerInfo),Ze(a),null;case 10:return Sa(a.type),Ze(a),null;case 19:if(Q(it),r=a.memoizedState,r===null)return Ze(a),null;if(n=(a.flags&128)!==0,u=r.rendering,u===null)if(n)el(r,!1);else{if(Ie!==0||e!==null&&(e.flags&128)!==0)for(e=a.child;e!==null;){if(u=gi(e),u!==null){for(a.flags|=128,el(r,!1),e=u.updateQueue,a.updateQueue=e,Ni(a,e),a.subtreeFlags=0,e=s,s=a.child;s!==null;)nd(s,e),s=s.sibling;return te(it,it.current&1|2),a.child}e=e.sibling}r.tail!==null&&ce()>Si&&(a.flags|=128,n=!0,el(r,!1),a.lanes=4194304)}else{if(!n)if(e=gi(u),e!==null){if(a.flags|=128,n=!0,e=e.updateQueue,a.updateQueue=e,Ni(a,e),el(r,!0),r.tail===null&&r.tailMode==="hidden"&&!u.alternate&&!ze)return Ze(a),null}else 2*ce()-r.renderingStartTime>Si&&s!==536870912&&(a.flags|=128,n=!0,el(r,!1),a.lanes=4194304);r.isBackwards?(u.sibling=a.child,a.child=u):(e=r.last,e!==null?e.sibling=u:a.child=u,r.last=u)}return r.tail!==null?(a=r.tail,r.rendering=a,r.tail=a.sibling,r.renderingStartTime=ce(),a.sibling=null,e=it.current,te(it,n?e&1|2:e&1),a):(Ze(a),null);case 22:case 23:return wa(a),oc(),n=a.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(a.flags|=8192):n&&(a.flags|=8192),n?(s&536870912)!==0&&(a.flags&128)===0&&(Ze(a),a.subtreeFlags&6&&(a.flags|=8192)):Ze(a),s=a.updateQueue,s!==null&&Ni(a,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==s&&(a.flags|=2048),e!==null&&Q(vs),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),Sa(lt),Ze(a),null;case 25:return null;case 30:return null}throw Error(o(156,a.tag))}function Pg(e,a){switch(Zr(a),a.tag){case 1:return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 3:return Sa(lt),ct(),e=a.flags,(e&65536)!==0&&(e&128)===0?(a.flags=e&-65537|128,a):null;case 26:case 27:case 5:return wt(a),null;case 13:if(wa(a),e=a.memoizedState,e!==null&&e.dehydrated!==null){if(a.alternate===null)throw Error(o(340));qn()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 19:return Q(it),null;case 4:return ct(),null;case 10:return Sa(a.type),null;case 22:case 23:return wa(a),oc(),e!==null&&Q(vs),e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 24:return Sa(lt),null;case 25:return null;default:return null}}function Df(e,a){switch(Zr(a),a.tag){case 3:Sa(lt),ct();break;case 26:case 27:case 5:wt(a);break;case 4:ct();break;case 13:wa(a);break;case 19:Q(it);break;case 10:Sa(a.type);break;case 22:case 23:wa(a),oc(),e!==null&&Q(vs);break;case 24:Sa(lt)}}function tl(e,a){try{var s=a.updateQueue,n=s!==null?s.lastEffect:null;if(n!==null){var r=n.next;s=r;do{if((s.tag&e)===e){n=void 0;var u=s.create,x=s.inst;n=u(),x.destroy=n}s=s.next}while(s!==r)}}catch(_){Pe(a,a.return,_)}}function Ga(e,a,s){try{var n=a.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var u=r.next;n=u;do{if((n.tag&e)===e){var x=n.inst,_=x.destroy;if(_!==void 0){x.destroy=void 0,r=a;var T=s,H=_;try{H()}catch(X){Pe(r,T,X)}}}n=n.next}while(n!==u)}}catch(X){Pe(a,a.return,X)}}function Of(e){var a=e.updateQueue;if(a!==null){var s=e.stateNode;try{yd(a,s)}catch(n){Pe(e,e.return,n)}}}function Mf(e,a,s){s.props=js(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(n){Pe(e,a,n)}}function al(e,a){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof s=="function"?e.refCleanup=s(n):s.current=n}}catch(r){Pe(e,a,r)}}function ua(e,a){var s=e.ref,n=e.refCleanup;if(s!==null)if(typeof n=="function")try{n()}catch(r){Pe(e,a,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(r){Pe(e,a,r)}else s.current=null}function Uf(e){var a=e.type,s=e.memoizedProps,n=e.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break e;case"img":s.src?n.src=s.src:s.srcSet&&(n.srcset=s.srcSet)}}catch(r){Pe(e,e.return,r)}}function Lc(e,a,s){try{var n=e.stateNode;ux(n,e.type,s,a),n[kt]=a}catch(r){Pe(e,e.return,r)}}function zf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Wa(e.type)||e.tag===4}function qc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Wa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bc(e,a,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(e),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=Oi));else if(n!==4&&(n===27&&Wa(e.type)&&(s=e.stateNode,a=null),e=e.child,e!==null))for(Bc(e,a,s),e=e.sibling;e!==null;)Bc(e,a,s),e=e.sibling}function bi(e,a,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,a?s.insertBefore(e,a):s.appendChild(e);else if(n!==4&&(n===27&&Wa(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(bi(e,a,s),e=e.sibling;e!==null;)bi(e,a,s),e=e.sibling}function Lf(e){var a=e.stateNode,s=e.memoizedProps;try{for(var n=e.type,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);pt(a,n,s),a[yt]=e,a[kt]=s}catch(u){Pe(e,e.return,u)}}var Ta=!1,at=!1,Fc=!1,qf=typeof WeakSet=="function"?WeakSet:Set,dt=null;function Yg(e,a){if(e=e.containerInfo,uo=Fi,e=Xu(e),qr(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var r=n.anchorOffset,u=n.focusNode;n=n.focusOffset;try{s.nodeType,u.nodeType}catch{s=null;break e}var x=0,_=-1,T=-1,H=0,X=0,J=e,$=null;t:for(;;){for(var P;J!==s||r!==0&&J.nodeType!==3||(_=x+r),J!==u||n!==0&&J.nodeType!==3||(T=x+n),J.nodeType===3&&(x+=J.nodeValue.length),(P=J.firstChild)!==null;)$=J,J=P;for(;;){if(J===e)break t;if($===s&&++H===r&&(_=x),$===u&&++X===n&&(T=x),(P=J.nextSibling)!==null)break;J=$,$=J.parentNode}J=P}s=_===-1||T===-1?null:{start:_,end:T}}else s=null}s=s||{start:0,end:0}}else s=null;for(fo={focusedElem:e,selectionRange:s},Fi=!1,dt=a;dt!==null;)if(a=dt,e=a.child,(a.subtreeFlags&1024)!==0&&e!==null)e.return=a,dt=e;else for(;dt!==null;){switch(a=dt,u=a.alternate,e=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,s=a,r=u.memoizedProps,u=u.memoizedState,n=s.stateNode;try{var Se=js(s.type,r,s.elementType===s.type);e=n.getSnapshotBeforeUpdate(Se,u),n.__reactInternalSnapshotBeforeUpdate=e}catch(be){Pe(s,s.return,be)}}break;case 3:if((e&1024)!==0){if(e=a.stateNode.containerInfo,s=e.nodeType,s===9)po(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":po(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=a.sibling,e!==null){e.return=a.return,dt=e;break}dt=a.return}}function Bf(e,a,s){var n=s.flags;switch(s.tag){case 0:case 11:case 15:Qa(e,s),n&4&&tl(5,s);break;case 1:if(Qa(e,s),n&4)if(e=s.stateNode,a===null)try{e.componentDidMount()}catch(x){Pe(s,s.return,x)}else{var r=js(s.type,a.memoizedProps);a=a.memoizedState;try{e.componentDidUpdate(r,a,e.__reactInternalSnapshotBeforeUpdate)}catch(x){Pe(s,s.return,x)}}n&64&&Of(s),n&512&&al(s,s.return);break;case 3:if(Qa(e,s),n&64&&(e=s.updateQueue,e!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{yd(e,a)}catch(x){Pe(s,s.return,x)}}break;case 27:a===null&&n&4&&Lf(s);case 26:case 5:Qa(e,s),a===null&&n&4&&Uf(s),n&512&&al(s,s.return);break;case 12:Qa(e,s);break;case 13:Qa(e,s),n&4&&$f(e,s),n&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Wg.bind(null,s),xx(e,s))));break;case 22:if(n=s.memoizedState!==null||Ta,!n){a=a!==null&&a.memoizedState!==null||at,r=Ta;var u=at;Ta=n,(at=a)&&!u?Va(e,s,(s.subtreeFlags&8772)!==0):Qa(e,s),Ta=r,at=u}break;case 30:break;default:Qa(e,s)}}function Ff(e){var a=e.alternate;a!==null&&(e.alternate=null,Ff(a)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(a=e.stateNode,a!==null&&yr(a)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ve=null,Rt=!1;function Ra(e,a,s){for(s=s.child;s!==null;)Hf(e,a,s),s=s.sibling}function Hf(e,a,s){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(is,s)}catch{}switch(s.tag){case 26:at||ua(s,a),Ra(e,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:at||ua(s,a);var n=Ve,r=Rt;Wa(s.type)&&(Ve=s.stateNode,Rt=!1),Ra(e,a,s),dl(s.stateNode),Ve=n,Rt=r;break;case 5:at||ua(s,a);case 6:if(n=Ve,r=Rt,Ve=null,Ra(e,a,s),Ve=n,Rt=r,Ve!==null)if(Rt)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(s.stateNode)}catch(u){Pe(s,a,u)}else try{Ve.removeChild(s.stateNode)}catch(u){Pe(s,a,u)}break;case 18:Ve!==null&&(Rt?(e=Ve,Th(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),yl(e)):Th(Ve,s.stateNode));break;case 4:n=Ve,r=Rt,Ve=s.stateNode.containerInfo,Rt=!0,Ra(e,a,s),Ve=n,Rt=r;break;case 0:case 11:case 14:case 15:at||Ga(2,s,a),at||Ga(4,s,a),Ra(e,a,s);break;case 1:at||(ua(s,a),n=s.stateNode,typeof n.componentWillUnmount=="function"&&Mf(s,a,n)),Ra(e,a,s);break;case 21:Ra(e,a,s);break;case 22:at=(n=at)||s.memoizedState!==null,Ra(e,a,s),at=n;break;default:Ra(e,a,s)}}function $f(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{yl(e)}catch(s){Pe(a,a.return,s)}}function Gg(e){switch(e.tag){case 13:case 19:var a=e.stateNode;return a===null&&(a=e.stateNode=new qf),a;case 22:return e=e.stateNode,a=e._retryCache,a===null&&(a=e._retryCache=new qf),a;default:throw Error(o(435,e.tag))}}function Hc(e,a){var s=Gg(e);a.forEach(function(n){var r=ex.bind(null,e,n);s.has(n)||(s.add(n),n.then(r,r))})}function Lt(e,a){var s=a.deletions;if(s!==null)for(var n=0;n<s.length;n++){var r=s[n],u=e,x=a,_=x;e:for(;_!==null;){switch(_.tag){case 27:if(Wa(_.type)){Ve=_.stateNode,Rt=!1;break e}break;case 5:Ve=_.stateNode,Rt=!1;break e;case 3:case 4:Ve=_.stateNode.containerInfo,Rt=!0;break e}_=_.return}if(Ve===null)throw Error(o(160));Hf(u,x,r),Ve=null,Rt=!1,u=r.alternate,u!==null&&(u.return=null),r.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Pf(a,e),a=a.sibling}var ea=null;function Pf(e,a){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Lt(a,e),qt(e),n&4&&(Ga(3,e,e.return),tl(3,e),Ga(5,e,e.return));break;case 1:Lt(a,e),qt(e),n&512&&(at||s===null||ua(s,s.return)),n&64&&Ta&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?n:s.concat(n))));break;case 26:var r=ea;if(Lt(a,e),qt(e),n&512&&(at||s===null||ua(s,s.return)),n&4){var u=s!==null?s.memoizedState:null;if(n=e.memoizedState,s===null)if(n===null)if(e.stateNode===null){e:{n=e.type,s=e.memoizedProps,r=r.ownerDocument||r;t:switch(n){case"title":u=r.getElementsByTagName("title")[0],(!u||u[wn]||u[yt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=r.createElement(n),r.head.insertBefore(u,r.querySelector("head > title"))),pt(u,n,s),u[yt]=e,ot(u),n=u;break e;case"link":var x=Lh("link","href",r).get(n+(s.href||""));if(x){for(var _=0;_<x.length;_++)if(u=x[_],u.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&u.getAttribute("rel")===(s.rel==null?null:s.rel)&&u.getAttribute("title")===(s.title==null?null:s.title)&&u.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){x.splice(_,1);break t}}u=r.createElement(n),pt(u,n,s),r.head.appendChild(u);break;case"meta":if(x=Lh("meta","content",r).get(n+(s.content||""))){for(_=0;_<x.length;_++)if(u=x[_],u.getAttribute("content")===(s.content==null?null:""+s.content)&&u.getAttribute("name")===(s.name==null?null:s.name)&&u.getAttribute("property")===(s.property==null?null:s.property)&&u.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&u.getAttribute("charset")===(s.charSet==null?null:s.charSet)){x.splice(_,1);break t}}u=r.createElement(n),pt(u,n,s),r.head.appendChild(u);break;default:throw Error(o(468,n))}u[yt]=e,ot(u),n=u}e.stateNode=n}else qh(r,e.type,e.stateNode);else e.stateNode=zh(r,n,e.memoizedProps);else u!==n?(u===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):u.count--,n===null?qh(r,e.type,e.stateNode):zh(r,n,e.memoizedProps)):n===null&&e.stateNode!==null&&Lc(e,e.memoizedProps,s.memoizedProps)}break;case 27:Lt(a,e),qt(e),n&512&&(at||s===null||ua(s,s.return)),s!==null&&n&4&&Lc(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Lt(a,e),qt(e),n&512&&(at||s===null||ua(s,s.return)),e.flags&32){r=e.stateNode;try{Fs(r,"")}catch(P){Pe(e,e.return,P)}}n&4&&e.stateNode!=null&&(r=e.memoizedProps,Lc(e,r,s!==null?s.memoizedProps:r)),n&1024&&(Fc=!0);break;case 6:if(Lt(a,e),qt(e),n&4){if(e.stateNode===null)throw Error(o(162));n=e.memoizedProps,s=e.stateNode;try{s.nodeValue=n}catch(P){Pe(e,e.return,P)}}break;case 3:if(Li=null,r=ea,ea=Ui(a.containerInfo),Lt(a,e),ea=r,qt(e),n&4&&s!==null&&s.memoizedState.isDehydrated)try{yl(a.containerInfo)}catch(P){Pe(e,e.return,P)}Fc&&(Fc=!1,Yf(e));break;case 4:n=ea,ea=Ui(e.stateNode.containerInfo),Lt(a,e),qt(e),ea=n;break;case 12:Lt(a,e),qt(e);break;case 13:Lt(a,e),qt(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Vc=ce()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Hc(e,n)));break;case 22:r=e.memoizedState!==null;var T=s!==null&&s.memoizedState!==null,H=Ta,X=at;if(Ta=H||r,at=X||T,Lt(a,e),at=X,Ta=H,qt(e),n&8192)e:for(a=e.stateNode,a._visibility=r?a._visibility&-2:a._visibility|1,r&&(s===null||T||Ta||at||Ns(e)),s=null,a=e;;){if(a.tag===5||a.tag===26){if(s===null){T=s=a;try{if(u=T.stateNode,r)x=u.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{_=T.stateNode;var J=T.memoizedProps.style,$=J!=null&&J.hasOwnProperty("display")?J.display:null;_.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(P){Pe(T,T.return,P)}}}else if(a.tag===6){if(s===null){T=a;try{T.stateNode.nodeValue=r?"":T.memoizedProps}catch(P){Pe(T,T.return,P)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}n&4&&(n=e.updateQueue,n!==null&&(s=n.retryQueue,s!==null&&(n.retryQueue=null,Hc(e,s))));break;case 19:Lt(a,e),qt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Hc(e,n)));break;case 30:break;case 21:break;default:Lt(a,e),qt(e)}}function qt(e){var a=e.flags;if(a&2){try{for(var s,n=e.return;n!==null;){if(zf(n)){s=n;break}n=n.return}if(s==null)throw Error(o(160));switch(s.tag){case 27:var r=s.stateNode,u=qc(e);bi(e,u,r);break;case 5:var x=s.stateNode;s.flags&32&&(Fs(x,""),s.flags&=-33);var _=qc(e);bi(e,_,x);break;case 3:case 4:var T=s.stateNode.containerInfo,H=qc(e);Bc(e,H,T);break;default:throw Error(o(161))}}catch(X){Pe(e,e.return,X)}e.flags&=-3}a&4096&&(e.flags&=-4097)}function Yf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var a=e;Yf(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),e=e.sibling}}function Qa(e,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Bf(e,a.alternate,a),a=a.sibling}function Ns(e){for(e=e.child;e!==null;){var a=e;switch(a.tag){case 0:case 11:case 14:case 15:Ga(4,a,a.return),Ns(a);break;case 1:ua(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&Mf(a,a.return,s),Ns(a);break;case 27:dl(a.stateNode);case 26:case 5:ua(a,a.return),Ns(a);break;case 22:a.memoizedState===null&&Ns(a);break;case 30:Ns(a);break;default:Ns(a)}e=e.sibling}}function Va(e,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var n=a.alternate,r=e,u=a,x=u.flags;switch(u.tag){case 0:case 11:case 15:Va(r,u,s),tl(4,u);break;case 1:if(Va(r,u,s),n=u,r=n.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(H){Pe(n,n.return,H)}if(n=u,r=n.updateQueue,r!==null){var _=n.stateNode;try{var T=r.shared.hiddenCallbacks;if(T!==null)for(r.shared.hiddenCallbacks=null,r=0;r<T.length;r++)vd(T[r],_)}catch(H){Pe(n,n.return,H)}}s&&x&64&&Of(u),al(u,u.return);break;case 27:Lf(u);case 26:case 5:Va(r,u,s),s&&n===null&&x&4&&Uf(u),al(u,u.return);break;case 12:Va(r,u,s);break;case 13:Va(r,u,s),s&&x&4&&$f(r,u);break;case 22:u.memoizedState===null&&Va(r,u,s),al(u,u.return);break;case 30:break;default:Va(r,u,s)}a=a.sibling}}function $c(e,a){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(e=a.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Hn(s))}function Pc(e,a){e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&Hn(e))}function da(e,a,s,n){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Gf(e,a,s,n),a=a.sibling}function Gf(e,a,s,n){var r=a.flags;switch(a.tag){case 0:case 11:case 15:da(e,a,s,n),r&2048&&tl(9,a);break;case 1:da(e,a,s,n);break;case 3:da(e,a,s,n),r&2048&&(e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&Hn(e)));break;case 12:if(r&2048){da(e,a,s,n),e=a.stateNode;try{var u=a.memoizedProps,x=u.id,_=u.onPostCommit;typeof _=="function"&&_(x,a.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){Pe(a,a.return,T)}}else da(e,a,s,n);break;case 13:da(e,a,s,n);break;case 23:break;case 22:u=a.stateNode,x=a.alternate,a.memoizedState!==null?u._visibility&2?da(e,a,s,n):sl(e,a):u._visibility&2?da(e,a,s,n):(u._visibility|=2,ln(e,a,s,n,(a.subtreeFlags&10256)!==0)),r&2048&&$c(x,a);break;case 24:da(e,a,s,n),r&2048&&Pc(a.alternate,a);break;default:da(e,a,s,n)}}function ln(e,a,s,n,r){for(r=r&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var u=e,x=a,_=s,T=n,H=x.flags;switch(x.tag){case 0:case 11:case 15:ln(u,x,_,T,r),tl(8,x);break;case 23:break;case 22:var X=x.stateNode;x.memoizedState!==null?X._visibility&2?ln(u,x,_,T,r):sl(u,x):(X._visibility|=2,ln(u,x,_,T,r)),r&&H&2048&&$c(x.alternate,x);break;case 24:ln(u,x,_,T,r),r&&H&2048&&Pc(x.alternate,x);break;default:ln(u,x,_,T,r)}a=a.sibling}}function sl(e,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=e,n=a,r=n.flags;switch(n.tag){case 22:sl(s,n),r&2048&&$c(n.alternate,n);break;case 24:sl(s,n),r&2048&&Pc(n.alternate,n);break;default:sl(s,n)}a=a.sibling}}var nl=8192;function rn(e){if(e.subtreeFlags&nl)for(e=e.child;e!==null;)Qf(e),e=e.sibling}function Qf(e){switch(e.tag){case 26:rn(e),e.flags&nl&&e.memoizedState!==null&&Rx(ea,e.memoizedState,e.memoizedProps);break;case 5:rn(e);break;case 3:case 4:var a=ea;ea=Ui(e.stateNode.containerInfo),rn(e),ea=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=nl,nl=16777216,rn(e),nl=a):rn(e));break;default:rn(e)}}function Vf(e){var a=e.alternate;if(a!==null&&(e=a.child,e!==null)){a.child=null;do a=e.sibling,e.sibling=null,e=a;while(e!==null)}}function ll(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var n=a[s];dt=n,Zf(n,e)}Vf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Xf(e),e=e.sibling}function Xf(e){switch(e.tag){case 0:case 11:case 15:ll(e),e.flags&2048&&Ga(9,e,e.return);break;case 3:ll(e);break;case 12:ll(e);break;case 22:var a=e.stateNode;e.memoizedState!==null&&a._visibility&2&&(e.return===null||e.return.tag!==13)?(a._visibility&=-3,_i(e)):ll(e);break;default:ll(e)}}function _i(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var n=a[s];dt=n,Zf(n,e)}Vf(e)}for(e=e.child;e!==null;){switch(a=e,a.tag){case 0:case 11:case 15:Ga(8,a,a.return),_i(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,_i(a));break;default:_i(a)}e=e.sibling}}function Zf(e,a){for(;dt!==null;){var s=dt;switch(s.tag){case 0:case 11:case 15:Ga(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var n=s.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Hn(s.memoizedState.cache)}if(n=s.child,n!==null)n.return=s,dt=n;else e:for(s=e;dt!==null;){n=dt;var r=n.sibling,u=n.return;if(Ff(n),n===s){dt=null;break e}if(r!==null){r.return=u,dt=r;break e}dt=u}}}var Qg={getCacheForType:function(e){var a=jt(lt),s=a.data.get(e);return s===void 0&&(s=e(),a.data.set(e,s)),s}},Vg=typeof WeakMap=="function"?WeakMap:Map,Le=0,Qe=null,Te=null,De=0,qe=0,Bt=null,Xa=!1,cn=!1,Yc=!1,Aa=0,Ie=0,Za=0,bs=0,Gc=0,Kt=0,on=0,il=null,At=null,Qc=!1,Vc=0,Si=1/0,Ei=null,Ka=null,mt=0,Ja=null,un=null,dn=0,Xc=0,Zc=null,Kf=null,rl=0,Kc=null;function Ft(){if((Le&2)!==0&&De!==0)return De&-De;if(A.T!==null){var e=Js;return e!==0?e:so()}return du()}function Jf(){Kt===0&&(Kt=(De&536870912)===0||ze?vt():536870912);var e=Zt.current;return e!==null&&(e.flags|=32),Kt}function Ht(e,a,s){(e===Qe&&(qe===2||qe===9)||e.cancelPendingCommit!==null)&&(fn(e,0),Ia(e,De,Kt,!1)),Ua(e,s),((Le&2)===0||e!==Qe)&&(e===Qe&&((Le&2)===0&&(bs|=s),Ie===4&&Ia(e,De,Kt,!1)),fa(e))}function If(e,a,s){if((Le&6)!==0)throw Error(o(327));var n=!s&&(a&124)===0&&(a&e.expiredLanes)===0||Oe(e,a),r=n?Kg(e,a):Wc(e,a,!0),u=n;do{if(r===0){cn&&!n&&Ia(e,a,0,!1);break}else{if(s=e.current.alternate,u&&!Xg(s)){r=Wc(e,a,!1),u=!1;continue}if(r===2){if(u=a,e.errorRecoveryDisabledLanes&u)var x=0;else x=e.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){a=x;e:{var _=e;r=il;var T=_.current.memoizedState.isDehydrated;if(T&&(fn(_,x).flags|=256),x=Wc(_,x,!1),x!==2){if(Yc&&!T){_.errorRecoveryDisabledLanes|=u,bs|=u,r=4;break e}u=At,At=r,u!==null&&(At===null?At=u:At.push.apply(At,u))}r=x}if(u=!1,r!==2)continue}}if(r===1){fn(e,0),Ia(e,a,0,!0);break}e:{switch(n=e,u=r,u){case 0:case 1:throw Error(o(345));case 4:if((a&4194048)!==a)break;case 6:Ia(n,a,Kt,!Xa);break e;case 2:At=null;break;case 3:case 5:break;default:throw Error(o(329))}if((a&62914560)===a&&(r=Vc+300-ce(),10<r)){if(Ia(n,a,Kt,!Xa),oe(n,0,!0)!==0)break e;n.timeoutHandle=kh(Wf.bind(null,n,s,At,Ei,Qc,a,Kt,bs,on,Xa,u,2,-0,0),r);break e}Wf(n,s,At,Ei,Qc,a,Kt,bs,on,Xa,u,0,-0,0)}}break}while(!0);fa(e)}function Wf(e,a,s,n,r,u,x,_,T,H,X,J,$,P){if(e.timeoutHandle=-1,J=a.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(ml={stylesheets:null,count:0,unsuspend:Tx},Qf(a),J=Ax(),J!==null)){e.cancelPendingCommit=J(ih.bind(null,e,a,u,s,n,r,x,_,T,X,1,$,P)),Ia(e,u,x,!H);return}ih(e,a,u,s,n,r,x,_,T)}function Xg(e){for(var a=e;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var n=0;n<s.length;n++){var r=s[n],u=r.getSnapshot;r=r.value;try{if(!Ut(u(),r))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ia(e,a,s,n){a&=~Gc,a&=~bs,e.suspendedLanes|=a,e.pingedLanes&=~a,n&&(e.warmLanes|=a),n=e.expirationTimes;for(var r=a;0<r;){var u=31-St(r),x=1<<u;n[u]=-1,r&=~x}s!==0&&ou(e,s,a)}function wi(){return(Le&6)===0?(cl(0),!1):!0}function Jc(){if(Te!==null){if(qe===0)var e=Te.return;else e=Te,_a=gs=null,mc(e),sn=null,In=0,e=Te;for(;e!==null;)Df(e.alternate,e),e=e.return;Te=null}}function fn(e,a){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,fx(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Jc(),Qe=e,Te=s=ja(e.current,null),De=a,qe=0,Bt=null,Xa=!1,cn=Oe(e,a),Yc=!1,on=Kt=Gc=bs=Za=Ie=0,At=il=null,Qc=!1,(a&8)!==0&&(a|=a&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=a;0<n;){var r=31-St(n),u=1<<r;a|=e[r],n&=~u}return Aa=a,Xl(),s}function eh(e,a){ke=null,A.H=hi,a===Pn||a===si?(a=gd(),qe=3):a===hd?(a=gd(),qe=4):qe=a===vf?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Bt=a,Te===null&&(Ie=1,vi(e,Gt(a,e.current)))}function th(){var e=A.H;return A.H=hi,e===null?hi:e}function ah(){var e=A.A;return A.A=Qg,e}function Ic(){Ie=4,Xa||(De&4194048)!==De&&Zt.current!==null||(cn=!0),(Za&134217727)===0&&(bs&134217727)===0||Qe===null||Ia(Qe,De,Kt,!1)}function Wc(e,a,s){var n=Le;Le|=2;var r=th(),u=ah();(Qe!==e||De!==a)&&(Ei=null,fn(e,a)),a=!1;var x=Ie;e:do try{if(qe!==0&&Te!==null){var _=Te,T=Bt;switch(qe){case 8:Jc(),x=6;break e;case 3:case 2:case 9:case 6:Zt.current===null&&(a=!0);var H=qe;if(qe=0,Bt=null,hn(e,_,T,H),s&&cn){x=0;break e}break;default:H=qe,qe=0,Bt=null,hn(e,_,T,H)}}Zg(),x=Ie;break}catch(X){eh(e,X)}while(!0);return a&&e.shellSuspendCounter++,_a=gs=null,Le=n,A.H=r,A.A=u,Te===null&&(Qe=null,De=0,Xl()),x}function Zg(){for(;Te!==null;)sh(Te)}function Kg(e,a){var s=Le;Le|=2;var n=th(),r=ah();Qe!==e||De!==a?(Ei=null,Si=ce()+500,fn(e,a)):cn=Oe(e,a);e:do try{if(qe!==0&&Te!==null){a=Te;var u=Bt;t:switch(qe){case 1:qe=0,Bt=null,hn(e,a,u,1);break;case 2:case 9:if(md(u)){qe=0,Bt=null,nh(a);break}a=function(){qe!==2&&qe!==9||Qe!==e||(qe=7),fa(e)},u.then(a,a);break e;case 3:qe=7;break e;case 4:qe=5;break e;case 7:md(u)?(qe=0,Bt=null,nh(a)):(qe=0,Bt=null,hn(e,a,u,7));break;case 5:var x=null;switch(Te.tag){case 26:x=Te.memoizedState;case 5:case 27:var _=Te;if(!x||Bh(x)){qe=0,Bt=null;var T=_.sibling;if(T!==null)Te=T;else{var H=_.return;H!==null?(Te=H,ki(H)):Te=null}break t}}qe=0,Bt=null,hn(e,a,u,5);break;case 6:qe=0,Bt=null,hn(e,a,u,6);break;case 8:Jc(),Ie=6;break e;default:throw Error(o(462))}}Jg();break}catch(X){eh(e,X)}while(!0);return _a=gs=null,A.H=n,A.A=r,Le=s,Te!==null?0:(Qe=null,De=0,Xl(),Ie)}function Jg(){for(;Te!==null&&!L();)sh(Te)}function sh(e){var a=Rf(e.alternate,e,Aa);e.memoizedProps=e.pendingProps,a===null?ki(e):Te=a}function nh(e){var a=e,s=a.alternate;switch(a.tag){case 15:case 0:a=Sf(s,a,a.pendingProps,a.type,void 0,De);break;case 11:a=Sf(s,a,a.pendingProps,a.type.render,a.ref,De);break;case 5:mc(a);default:Df(s,a),a=Te=nd(a,Aa),a=Rf(s,a,Aa)}e.memoizedProps=e.pendingProps,a===null?ki(e):Te=a}function hn(e,a,s,n){_a=gs=null,mc(a),sn=null,In=0;var r=a.return;try{if(Fg(e,r,a,s,De)){Ie=1,vi(e,Gt(s,e.current)),Te=null;return}}catch(u){if(r!==null)throw Te=r,u;Ie=1,vi(e,Gt(s,e.current)),Te=null;return}a.flags&32768?(ze||n===1?e=!0:cn||(De&536870912)!==0?e=!1:(Xa=e=!0,(n===2||n===9||n===3||n===6)&&(n=Zt.current,n!==null&&n.tag===13&&(n.flags|=16384))),lh(a,e)):ki(a)}function ki(e){var a=e;do{if((a.flags&32768)!==0){lh(a,Xa);return}e=a.return;var s=$g(a.alternate,a,Aa);if(s!==null){Te=s;return}if(a=a.sibling,a!==null){Te=a;return}Te=a=e}while(a!==null);Ie===0&&(Ie=5)}function lh(e,a){do{var s=Pg(e.alternate,e);if(s!==null){s.flags&=32767,Te=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(e=e.sibling,e!==null)){Te=e;return}Te=e=s}while(e!==null);Ie=6,Te=null}function ih(e,a,s,n,r,u,x,_,T){e.cancelPendingCommit=null;do Ci();while(mt!==0);if((Le&6)!==0)throw Error(o(327));if(a!==null){if(a===e.current)throw Error(o(177));if(u=a.lanes|a.childLanes,u|=Pr,Tp(e,s,u,x,_,T),e===Qe&&(Te=Qe=null,De=0),un=a,Ja=e,dn=s,Xc=u,Zc=r,Kf=n,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,tx(xt,function(){return dh(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||n){n=A.T,A.T=null,r=V.p,V.p=2,x=Le,Le|=4;try{Yg(e,a,s)}finally{Le=x,V.p=r,A.T=n}}mt=1,rh(),ch(),oh()}}function rh(){if(mt===1){mt=0;var e=Ja,a=un,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=A.T,A.T=null;var n=V.p;V.p=2;var r=Le;Le|=4;try{Pf(a,e);var u=fo,x=Xu(e.containerInfo),_=u.focusedElem,T=u.selectionRange;if(x!==_&&_&&_.ownerDocument&&Vu(_.ownerDocument.documentElement,_)){if(T!==null&&qr(_)){var H=T.start,X=T.end;if(X===void 0&&(X=H),"selectionStart"in _)_.selectionStart=H,_.selectionEnd=Math.min(X,_.value.length);else{var J=_.ownerDocument||document,$=J&&J.defaultView||window;if($.getSelection){var P=$.getSelection(),Se=_.textContent.length,be=Math.min(T.start,Se),$e=T.end===void 0?be:Math.min(T.end,Se);!P.extend&&be>$e&&(x=$e,$e=be,be=x);var q=Qu(_,be),z=Qu(_,$e);if(q&&z&&(P.rangeCount!==1||P.anchorNode!==q.node||P.anchorOffset!==q.offset||P.focusNode!==z.node||P.focusOffset!==z.offset)){var F=J.createRange();F.setStart(q.node,q.offset),P.removeAllRanges(),be>$e?(P.addRange(F),P.extend(z.node,z.offset)):(F.setEnd(z.node,z.offset),P.addRange(F))}}}}for(J=[],P=_;P=P.parentNode;)P.nodeType===1&&J.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<J.length;_++){var K=J[_];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Fi=!!uo,fo=uo=null}finally{Le=r,V.p=n,A.T=s}}e.current=a,mt=2}}function ch(){if(mt===2){mt=0;var e=Ja,a=un,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=A.T,A.T=null;var n=V.p;V.p=2;var r=Le;Le|=4;try{Bf(e,a.alternate,a)}finally{Le=r,V.p=n,A.T=s}}mt=3}}function oh(){if(mt===4||mt===3){mt=0,ne();var e=Ja,a=un,s=dn,n=Kf;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?mt=5:(mt=0,un=Ja=null,uh(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Ka=null),xr(s),a=a.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(is,a,void 0,(a.current.flags&128)===128)}catch{}if(n!==null){a=A.T,r=V.p,V.p=2,A.T=null;try{for(var u=e.onRecoverableError,x=0;x<n.length;x++){var _=n[x];u(_.value,{componentStack:_.stack})}}finally{A.T=a,V.p=r}}(dn&3)!==0&&Ci(),fa(e),r=e.pendingLanes,(s&4194090)!==0&&(r&42)!==0?e===Kc?rl++:(rl=0,Kc=e):rl=0,cl(0)}}function uh(e,a){(e.pooledCacheLanes&=a)===0&&(a=e.pooledCache,a!=null&&(e.pooledCache=null,Hn(a)))}function Ci(e){return rh(),ch(),oh(),dh()}function dh(){if(mt!==5)return!1;var e=Ja,a=Xc;Xc=0;var s=xr(dn),n=A.T,r=V.p;try{V.p=32>s?32:s,A.T=null,s=Zc,Zc=null;var u=Ja,x=dn;if(mt=0,un=Ja=null,dn=0,(Le&6)!==0)throw Error(o(331));var _=Le;if(Le|=4,Xf(u.current),Gf(u,u.current,x,s),Le=_,cl(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(is,u)}catch{}return!0}finally{V.p=r,A.T=n,uh(e,a)}}function fh(e,a,s){a=Gt(s,a),a=Cc(e.stateNode,a,2),e=Ha(e,a,2),e!==null&&(Ua(e,2),fa(e))}function Pe(e,a,s){if(e.tag===3)fh(e,e,s);else for(;a!==null;){if(a.tag===3){fh(a,e,s);break}else if(a.tag===1){var n=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ka===null||!Ka.has(n))){e=Gt(s,e),s=gf(2),n=Ha(a,s,2),n!==null&&(xf(s,n,a,e),Ua(n,2),fa(n));break}}a=a.return}}function eo(e,a,s){var n=e.pingCache;if(n===null){n=e.pingCache=new Vg;var r=new Set;n.set(a,r)}else r=n.get(a),r===void 0&&(r=new Set,n.set(a,r));r.has(s)||(Yc=!0,r.add(s),e=Ig.bind(null,e,a,s),a.then(e,e))}function Ig(e,a,s){var n=e.pingCache;n!==null&&n.delete(a),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Qe===e&&(De&s)===s&&(Ie===4||Ie===3&&(De&62914560)===De&&300>ce()-Vc?(Le&2)===0&&fn(e,0):Gc|=s,on===De&&(on=0)),fa(e)}function hh(e,a){a===0&&(a=xa()),e=Vs(e,a),e!==null&&(Ua(e,a),fa(e))}function Wg(e){var a=e.memoizedState,s=0;a!==null&&(s=a.retryLane),hh(e,s)}function ex(e,a){var s=0;switch(e.tag){case 13:var n=e.stateNode,r=e.memoizedState;r!==null&&(s=r.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(o(314))}n!==null&&n.delete(a),hh(e,s)}function tx(e,a){return de(e,a)}var Ti=null,mn=null,to=!1,Ri=!1,ao=!1,_s=0;function fa(e){e!==mn&&e.next===null&&(mn===null?Ti=mn=e:mn=mn.next=e),Ri=!0,to||(to=!0,sx())}function cl(e,a){if(!ao&&Ri){ao=!0;do for(var s=!1,n=Ti;n!==null;){if(e!==0){var r=n.pendingLanes;if(r===0)var u=0;else{var x=n.suspendedLanes,_=n.pingedLanes;u=(1<<31-St(42|e)+1)-1,u&=r&~(x&~_),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(s=!0,xh(n,u))}else u=De,u=oe(n,n===Qe?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(u&3)===0||Oe(n,u)||(s=!0,xh(n,u));n=n.next}while(s);ao=!1}}function ax(){mh()}function mh(){Ri=to=!1;var e=0;_s!==0&&(dx()&&(e=_s),_s=0);for(var a=ce(),s=null,n=Ti;n!==null;){var r=n.next,u=ph(n,a);u===0?(n.next=null,s===null?Ti=r:s.next=r,r===null&&(mn=s)):(s=n,(e!==0||(u&3)!==0)&&(Ri=!0)),n=r}cl(e)}function ph(e,a){for(var s=e.suspendedLanes,n=e.pingedLanes,r=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var x=31-St(u),_=1<<x,T=r[x];T===-1?((_&s)===0||(_&n)!==0)&&(r[x]=ra(_,a)):T<=a&&(e.expiredLanes|=_),u&=~_}if(a=Qe,s=De,s=oe(e,e===a?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,s===0||e===a&&(qe===2||qe===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&fe(n),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Oe(e,s)){if(a=s&-s,a===e.callbackPriority)return a;switch(n!==null&&fe(n),xr(s)){case 2:case 8:s=ia;break;case 32:s=xt;break;case 268435456:s=En;break;default:s=xt}return n=gh.bind(null,e),s=de(s,n),e.callbackPriority=a,e.callbackNode=s,a}return n!==null&&n!==null&&fe(n),e.callbackPriority=2,e.callbackNode=null,2}function gh(e,a){if(mt!==0&&mt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Ci()&&e.callbackNode!==s)return null;var n=De;return n=oe(e,e===Qe?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(If(e,n,a),ph(e,ce()),e.callbackNode!=null&&e.callbackNode===s?gh.bind(null,e):null)}function xh(e,a){if(Ci())return null;If(e,a,!0)}function sx(){hx(function(){(Le&6)!==0?de(Ge,ax):mh()})}function so(){return _s===0&&(_s=vt()),_s}function vh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Hl(""+e)}function yh(e,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,e.id&&s.setAttribute("form",e.id),a.parentNode.insertBefore(s,a),e=new FormData(e),s.parentNode.removeChild(s),e}function nx(e,a,s,n,r){if(a==="submit"&&s&&s.stateNode===r){var u=vh((r[kt]||null).action),x=n.submitter;x&&(a=(a=x[kt]||null)?vh(a.formAction):x.getAttribute("formAction"),a!==null&&(u=a,x=null));var _=new Gl("action","action",null,n,r);e.push({event:_,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(_s!==0){var T=x?yh(r,x):new FormData(r);_c(s,{pending:!0,data:T,method:r.method,action:u},null,T)}}else typeof u=="function"&&(_.preventDefault(),T=x?yh(r,x):new FormData(r),_c(s,{pending:!0,data:T,method:r.method,action:u},u,T))},currentTarget:r}]})}}for(var no=0;no<$r.length;no++){var lo=$r[no],lx=lo.toLowerCase(),ix=lo[0].toUpperCase()+lo.slice(1);Wt(lx,"on"+ix)}Wt(Ju,"onAnimationEnd"),Wt(Iu,"onAnimationIteration"),Wt(Wu,"onAnimationStart"),Wt("dblclick","onDoubleClick"),Wt("focusin","onFocus"),Wt("focusout","onBlur"),Wt(_g,"onTransitionRun"),Wt(Sg,"onTransitionStart"),Wt(Eg,"onTransitionCancel"),Wt(ed,"onTransitionEnd"),Ls("onMouseEnter",["mouseout","mouseover"]),Ls("onMouseLeave",["mouseout","mouseover"]),Ls("onPointerEnter",["pointerout","pointerover"]),Ls("onPointerLeave",["pointerout","pointerover"]),rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rs("onBeforeInput",["compositionend","keypress","textInput","paste"]),rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ol));function jh(e,a){a=(a&4)!==0;for(var s=0;s<e.length;s++){var n=e[s],r=n.event;n=n.listeners;e:{var u=void 0;if(a)for(var x=n.length-1;0<=x;x--){var _=n[x],T=_.instance,H=_.currentTarget;if(_=_.listener,T!==u&&r.isPropagationStopped())break e;u=_,r.currentTarget=H;try{u(r)}catch(X){xi(X)}r.currentTarget=null,u=T}else for(x=0;x<n.length;x++){if(_=n[x],T=_.instance,H=_.currentTarget,_=_.listener,T!==u&&r.isPropagationStopped())break e;u=_,r.currentTarget=H;try{u(r)}catch(X){xi(X)}r.currentTarget=null,u=T}}}}function Re(e,a){var s=a[vr];s===void 0&&(s=a[vr]=new Set);var n=e+"__bubble";s.has(n)||(Nh(a,e,2,!1),s.add(n))}function io(e,a,s){var n=0;a&&(n|=4),Nh(s,e,n,a)}var Ai="_reactListening"+Math.random().toString(36).slice(2);function ro(e){if(!e[Ai]){e[Ai]=!0,hu.forEach(function(s){s!=="selectionchange"&&(rx.has(s)||io(s,!1,e),io(s,!0,e))});var a=e.nodeType===9?e:e.ownerDocument;a===null||a[Ai]||(a[Ai]=!0,io("selectionchange",!1,a))}}function Nh(e,a,s,n){switch(Gh(a)){case 2:var r=Mx;break;case 8:r=Ux;break;default:r=bo}s=r.bind(null,a,s,e),r=void 0,!Tr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(r=!0),n?r!==void 0?e.addEventListener(a,s,{capture:!0,passive:r}):e.addEventListener(a,s,!0):r!==void 0?e.addEventListener(a,s,{passive:r}):e.addEventListener(a,s,!1)}function co(e,a,s,n,r){var u=n;if((a&1)===0&&(a&2)===0&&n!==null)e:for(;;){if(n===null)return;var x=n.tag;if(x===3||x===4){var _=n.stateNode.containerInfo;if(_===r)break;if(x===4)for(x=n.return;x!==null;){var T=x.tag;if((T===3||T===4)&&x.stateNode.containerInfo===r)return;x=x.return}for(;_!==null;){if(x=Ms(_),x===null)return;if(T=x.tag,T===5||T===6||T===26||T===27){n=u=x;continue e}_=_.parentNode}}n=n.return}ku(function(){var H=u,X=kr(s),J=[];e:{var $=td.get(e);if($!==void 0){var P=Gl,Se=e;switch(e){case"keypress":if(Pl(s)===0)break e;case"keydown":case"keyup":P=tg;break;case"focusin":Se="focus",P=Or;break;case"focusout":Se="blur",P=Or;break;case"beforeblur":case"afterblur":P=Or;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=Ru;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=Pp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=ng;break;case Ju:case Iu:case Wu:P=Qp;break;case ed:P=ig;break;case"scroll":case"scrollend":P=Hp;break;case"wheel":P=cg;break;case"copy":case"cut":case"paste":P=Xp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=Du;break;case"toggle":case"beforetoggle":P=ug}var be=(a&4)!==0,$e=!be&&(e==="scroll"||e==="scrollend"),q=be?$!==null?$+"Capture":null:$;be=[];for(var z=H,F;z!==null;){var K=z;if(F=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||F===null||q===null||(K=Cn(z,q),K!=null&&be.push(ul(z,K,F))),$e)break;z=z.return}0<be.length&&($=new P($,Se,null,s,X),J.push({event:$,listeners:be}))}}if((a&7)===0){e:{if($=e==="mouseover"||e==="pointerover",P=e==="mouseout"||e==="pointerout",$&&s!==wr&&(Se=s.relatedTarget||s.fromElement)&&(Ms(Se)||Se[Os]))break e;if((P||$)&&($=X.window===X?X:($=X.ownerDocument)?$.defaultView||$.parentWindow:window,P?(Se=s.relatedTarget||s.toElement,P=H,Se=Se?Ms(Se):null,Se!==null&&($e=h(Se),be=Se.tag,Se!==$e||be!==5&&be!==27&&be!==6)&&(Se=null)):(P=null,Se=H),P!==Se)){if(be=Ru,K="onMouseLeave",q="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(be=Du,K="onPointerLeave",q="onPointerEnter",z="pointer"),$e=P==null?$:kn(P),F=Se==null?$:kn(Se),$=new be(K,z+"leave",P,s,X),$.target=$e,$.relatedTarget=F,K=null,Ms(X)===H&&(be=new be(q,z+"enter",Se,s,X),be.target=F,be.relatedTarget=$e,K=be),$e=K,P&&Se)t:{for(be=P,q=Se,z=0,F=be;F;F=pn(F))z++;for(F=0,K=q;K;K=pn(K))F++;for(;0<z-F;)be=pn(be),z--;for(;0<F-z;)q=pn(q),F--;for(;z--;){if(be===q||q!==null&&be===q.alternate)break t;be=pn(be),q=pn(q)}be=null}else be=null;P!==null&&bh(J,$,P,be,!1),Se!==null&&$e!==null&&bh(J,$e,Se,be,!0)}}e:{if($=H?kn(H):window,P=$.nodeName&&$.nodeName.toLowerCase(),P==="select"||P==="input"&&$.type==="file")var pe=Fu;else if(qu($))if(Hu)pe=jg;else{pe=vg;var Ce=xg}else P=$.nodeName,!P||P.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?H&&Er(H.elementType)&&(pe=Fu):pe=yg;if(pe&&(pe=pe(e,H))){Bu(J,pe,s,X);break e}Ce&&Ce(e,$,H),e==="focusout"&&H&&$.type==="number"&&H.memoizedProps.value!=null&&Sr($,"number",$.value)}switch(Ce=H?kn(H):window,e){case"focusin":(qu(Ce)||Ce.contentEditable==="true")&&(Ys=Ce,Br=H,zn=null);break;case"focusout":zn=Br=Ys=null;break;case"mousedown":Fr=!0;break;case"contextmenu":case"mouseup":case"dragend":Fr=!1,Zu(J,s,X);break;case"selectionchange":if(bg)break;case"keydown":case"keyup":Zu(J,s,X)}var ve;if(Ur)e:{switch(e){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Ps?zu(e,s)&&(_e="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(_e="onCompositionStart");_e&&(Ou&&s.locale!=="ko"&&(Ps||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Ps&&(ve=Cu()):(La=X,Rr="value"in La?La.value:La.textContent,Ps=!0)),Ce=Di(H,_e),0<Ce.length&&(_e=new Au(_e,e,null,s,X),J.push({event:_e,listeners:Ce}),ve?_e.data=ve:(ve=Lu(s),ve!==null&&(_e.data=ve)))),(ve=fg?hg(e,s):mg(e,s))&&(_e=Di(H,"onBeforeInput"),0<_e.length&&(Ce=new Au("onBeforeInput","beforeinput",null,s,X),J.push({event:Ce,listeners:_e}),Ce.data=ve)),nx(J,e,H,s,X)}jh(J,a)})}function ul(e,a,s){return{instance:e,listener:a,currentTarget:s}}function Di(e,a){for(var s=a+"Capture",n=[];e!==null;){var r=e,u=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||u===null||(r=Cn(e,s),r!=null&&n.unshift(ul(e,r,u)),r=Cn(e,a),r!=null&&n.push(ul(e,r,u))),e.tag===3)return n;e=e.return}return[]}function pn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function bh(e,a,s,n,r){for(var u=a._reactName,x=[];s!==null&&s!==n;){var _=s,T=_.alternate,H=_.stateNode;if(_=_.tag,T!==null&&T===n)break;_!==5&&_!==26&&_!==27||H===null||(T=H,r?(H=Cn(s,u),H!=null&&x.unshift(ul(s,H,T))):r||(H=Cn(s,u),H!=null&&x.push(ul(s,H,T)))),s=s.return}x.length!==0&&e.push({event:a,listeners:x})}var cx=/\r\n?/g,ox=/\u0000|\uFFFD/g;function _h(e){return(typeof e=="string"?e:""+e).replace(cx,`
`).replace(ox,"")}function Sh(e,a){return a=_h(a),_h(e)===a}function Oi(){}function He(e,a,s,n,r,u){switch(s){case"children":typeof n=="string"?a==="body"||a==="textarea"&&n===""||Fs(e,n):(typeof n=="number"||typeof n=="bigint")&&a!=="body"&&Fs(e,""+n);break;case"className":ql(e,"class",n);break;case"tabIndex":ql(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":ql(e,s,n);break;case"style":Eu(e,n,u);break;case"data":if(a!=="object"){ql(e,"data",n);break}case"src":case"href":if(n===""&&(a!=="a"||s!=="href")){e.removeAttribute(s);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(s);break}n=Hl(""+n),e.setAttribute(s,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(s==="formAction"?(a!=="input"&&He(e,a,"name",r.name,r,null),He(e,a,"formEncType",r.formEncType,r,null),He(e,a,"formMethod",r.formMethod,r,null),He(e,a,"formTarget",r.formTarget,r,null)):(He(e,a,"encType",r.encType,r,null),He(e,a,"method",r.method,r,null),He(e,a,"target",r.target,r,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(s);break}n=Hl(""+n),e.setAttribute(s,n);break;case"onClick":n!=null&&(e.onclick=Oi);break;case"onScroll":n!=null&&Re("scroll",e);break;case"onScrollEnd":n!=null&&Re("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(o(61));if(s=n.__html,s!=null){if(r.children!=null)throw Error(o(60));e.innerHTML=s}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}s=Hl(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(s,""+n):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":n===!0?e.setAttribute(s,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(s,n):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(s,n):e.removeAttribute(s);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(s):e.setAttribute(s,n);break;case"popover":Re("beforetoggle",e),Re("toggle",e),Ll(e,"popover",n);break;case"xlinkActuate":va(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":va(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":va(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":va(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":va(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":va(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":va(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":va(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":va(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Ll(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Bp.get(s)||s,Ll(e,s,n))}}function oo(e,a,s,n,r,u){switch(s){case"style":Eu(e,n,u);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(o(61));if(s=n.__html,s!=null){if(r.children!=null)throw Error(o(60));e.innerHTML=s}}break;case"children":typeof n=="string"?Fs(e,n):(typeof n=="number"||typeof n=="bigint")&&Fs(e,""+n);break;case"onScroll":n!=null&&Re("scroll",e);break;case"onScrollEnd":n!=null&&Re("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mu.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(r=s.endsWith("Capture"),a=s.slice(2,r?s.length-7:void 0),u=e[kt]||null,u=u!=null?u[s]:null,typeof u=="function"&&e.removeEventListener(a,u,r),typeof n=="function")){typeof u!="function"&&u!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(a,n,r);break e}s in e?e[s]=n:n===!0?e.setAttribute(s,""):Ll(e,s,n)}}}function pt(e,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",e),Re("load",e);var n=!1,r=!1,u;for(u in s)if(s.hasOwnProperty(u)){var x=s[u];if(x!=null)switch(u){case"src":n=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,a));default:He(e,a,u,x,s,null)}}r&&He(e,a,"srcSet",s.srcSet,s,null),n&&He(e,a,"src",s.src,s,null);return;case"input":Re("invalid",e);var _=u=x=r=null,T=null,H=null;for(n in s)if(s.hasOwnProperty(n)){var X=s[n];if(X!=null)switch(n){case"name":r=X;break;case"type":x=X;break;case"checked":T=X;break;case"defaultChecked":H=X;break;case"value":u=X;break;case"defaultValue":_=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(o(137,a));break;default:He(e,a,n,X,s,null)}}Nu(e,u,_,T,H,x,r,!1),Bl(e);return;case"select":Re("invalid",e),n=x=u=null;for(r in s)if(s.hasOwnProperty(r)&&(_=s[r],_!=null))switch(r){case"value":u=_;break;case"defaultValue":x=_;break;case"multiple":n=_;default:He(e,a,r,_,s,null)}a=u,s=x,e.multiple=!!n,a!=null?Bs(e,!!n,a,!1):s!=null&&Bs(e,!!n,s,!0);return;case"textarea":Re("invalid",e),u=r=n=null;for(x in s)if(s.hasOwnProperty(x)&&(_=s[x],_!=null))switch(x){case"value":n=_;break;case"defaultValue":r=_;break;case"children":u=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(o(91));break;default:He(e,a,x,_,s,null)}_u(e,n,r,u),Bl(e);return;case"option":for(T in s)if(s.hasOwnProperty(T)&&(n=s[T],n!=null))switch(T){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:He(e,a,T,n,s,null)}return;case"dialog":Re("beforetoggle",e),Re("toggle",e),Re("cancel",e),Re("close",e);break;case"iframe":case"object":Re("load",e);break;case"video":case"audio":for(n=0;n<ol.length;n++)Re(ol[n],e);break;case"image":Re("error",e),Re("load",e);break;case"details":Re("toggle",e);break;case"embed":case"source":case"link":Re("error",e),Re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in s)if(s.hasOwnProperty(H)&&(n=s[H],n!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,a));default:He(e,a,H,n,s,null)}return;default:if(Er(a)){for(X in s)s.hasOwnProperty(X)&&(n=s[X],n!==void 0&&oo(e,a,X,n,s,void 0));return}}for(_ in s)s.hasOwnProperty(_)&&(n=s[_],n!=null&&He(e,a,_,n,s,null))}function ux(e,a,s,n){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,u=null,x=null,_=null,T=null,H=null,X=null;for(P in s){var J=s[P];if(s.hasOwnProperty(P)&&J!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":T=J;default:n.hasOwnProperty(P)||He(e,a,P,null,n,J)}}for(var $ in n){var P=n[$];if(J=s[$],n.hasOwnProperty($)&&(P!=null||J!=null))switch($){case"type":u=P;break;case"name":r=P;break;case"checked":H=P;break;case"defaultChecked":X=P;break;case"value":x=P;break;case"defaultValue":_=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(o(137,a));break;default:P!==J&&He(e,a,$,P,n,J)}}_r(e,x,_,T,H,X,u,r);return;case"select":P=x=_=$=null;for(u in s)if(T=s[u],s.hasOwnProperty(u)&&T!=null)switch(u){case"value":break;case"multiple":P=T;default:n.hasOwnProperty(u)||He(e,a,u,null,n,T)}for(r in n)if(u=n[r],T=s[r],n.hasOwnProperty(r)&&(u!=null||T!=null))switch(r){case"value":$=u;break;case"defaultValue":_=u;break;case"multiple":x=u;default:u!==T&&He(e,a,r,u,n,T)}a=_,s=x,n=P,$!=null?Bs(e,!!s,$,!1):!!n!=!!s&&(a!=null?Bs(e,!!s,a,!0):Bs(e,!!s,s?[]:"",!1));return;case"textarea":P=$=null;for(_ in s)if(r=s[_],s.hasOwnProperty(_)&&r!=null&&!n.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:He(e,a,_,null,n,r)}for(x in n)if(r=n[x],u=s[x],n.hasOwnProperty(x)&&(r!=null||u!=null))switch(x){case"value":$=r;break;case"defaultValue":P=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(o(91));break;default:r!==u&&He(e,a,x,r,n,u)}bu(e,$,P);return;case"option":for(var Se in s)if($=s[Se],s.hasOwnProperty(Se)&&$!=null&&!n.hasOwnProperty(Se))switch(Se){case"selected":e.selected=!1;break;default:He(e,a,Se,null,n,$)}for(T in n)if($=n[T],P=s[T],n.hasOwnProperty(T)&&$!==P&&($!=null||P!=null))switch(T){case"selected":e.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:He(e,a,T,$,n,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in s)$=s[be],s.hasOwnProperty(be)&&$!=null&&!n.hasOwnProperty(be)&&He(e,a,be,null,n,$);for(H in n)if($=n[H],P=s[H],n.hasOwnProperty(H)&&$!==P&&($!=null||P!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(o(137,a));break;default:He(e,a,H,$,n,P)}return;default:if(Er(a)){for(var $e in s)$=s[$e],s.hasOwnProperty($e)&&$!==void 0&&!n.hasOwnProperty($e)&&oo(e,a,$e,void 0,n,$);for(X in n)$=n[X],P=s[X],!n.hasOwnProperty(X)||$===P||$===void 0&&P===void 0||oo(e,a,X,$,n,P);return}}for(var q in s)$=s[q],s.hasOwnProperty(q)&&$!=null&&!n.hasOwnProperty(q)&&He(e,a,q,null,n,$);for(J in n)$=n[J],P=s[J],!n.hasOwnProperty(J)||$===P||$==null&&P==null||He(e,a,J,$,n,P)}var uo=null,fo=null;function Mi(e){return e.nodeType===9?e:e.ownerDocument}function Eh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wh(e,a){if(e===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&a==="foreignObject"?0:e}function ho(e,a){return e==="textarea"||e==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var mo=null;function dx(){var e=window.event;return e&&e.type==="popstate"?e===mo?!1:(mo=e,!0):(mo=null,!1)}var kh=typeof setTimeout=="function"?setTimeout:void 0,fx=typeof clearTimeout=="function"?clearTimeout:void 0,Ch=typeof Promise=="function"?Promise:void 0,hx=typeof queueMicrotask=="function"?queueMicrotask:typeof Ch<"u"?function(e){return Ch.resolve(null).then(e).catch(mx)}:kh;function mx(e){setTimeout(function(){throw e})}function Wa(e){return e==="head"}function Th(e,a){var s=a,n=0,r=0;do{var u=s.nextSibling;if(e.removeChild(s),u&&u.nodeType===8)if(s=u.data,s==="/$"){if(0<n&&8>n){s=n;var x=e.ownerDocument;if(s&1&&dl(x.documentElement),s&2&&dl(x.body),s&4)for(s=x.head,dl(s),x=s.firstChild;x;){var _=x.nextSibling,T=x.nodeName;x[wn]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&x.rel.toLowerCase()==="stylesheet"||s.removeChild(x),x=_}}if(r===0){e.removeChild(u),yl(a);return}r--}else s==="$"||s==="$?"||s==="$!"?r++:n=s.charCodeAt(0)-48;else n=0;s=u}while(s);yl(a)}function po(e){var a=e.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":po(s),yr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function px(e,a,s,n){for(;e.nodeType===1;){var r=s;if(e.nodeName.toLowerCase()!==a.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[wn])switch(a){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(a==="input"&&e.type==="hidden"){var u=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=ta(e.nextSibling),e===null)break}return null}function gx(e,a,s){if(a==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=ta(e.nextSibling),e===null))return null;return e}function go(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function xx(e,a){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")a();else{var n=function(){a(),s.removeEventListener("DOMContentLoaded",n)};s.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function ta(e){for(;e!=null;e=e.nextSibling){var a=e.nodeType;if(a===1||a===3)break;if(a===8){if(a=e.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return e}var xo=null;function Rh(e){e=e.previousSibling;for(var a=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(a===0)return e;a--}else s==="/$"&&a++}e=e.previousSibling}return null}function Ah(e,a,s){switch(a=Mi(s),e){case"html":if(e=a.documentElement,!e)throw Error(o(452));return e;case"head":if(e=a.head,!e)throw Error(o(453));return e;case"body":if(e=a.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function dl(e){for(var a=e.attributes;a.length;)e.removeAttributeNode(a[0]);yr(e)}var Jt=new Map,Dh=new Set;function Ui(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Da=V.d;V.d={f:vx,r:yx,D:jx,C:Nx,L:bx,m:_x,X:Ex,S:Sx,M:wx};function vx(){var e=Da.f(),a=wi();return e||a}function yx(e){var a=Us(e);a!==null&&a.tag===5&&a.type==="form"?Jd(a):Da.r(e)}var gn=typeof document>"u"?null:document;function Oh(e,a,s){var n=gn;if(n&&typeof a=="string"&&a){var r=Yt(a);r='link[rel="'+e+'"][href="'+r+'"]',typeof s=="string"&&(r+='[crossorigin="'+s+'"]'),Dh.has(r)||(Dh.add(r),e={rel:e,crossOrigin:s,href:a},n.querySelector(r)===null&&(a=n.createElement("link"),pt(a,"link",e),ot(a),n.head.appendChild(a)))}}function jx(e){Da.D(e),Oh("dns-prefetch",e,null)}function Nx(e,a){Da.C(e,a),Oh("preconnect",e,a)}function bx(e,a,s){Da.L(e,a,s);var n=gn;if(n&&e&&a){var r='link[rel="preload"][as="'+Yt(a)+'"]';a==="image"&&s&&s.imageSrcSet?(r+='[imagesrcset="'+Yt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(r+='[imagesizes="'+Yt(s.imageSizes)+'"]')):r+='[href="'+Yt(e)+'"]';var u=r;switch(a){case"style":u=xn(e);break;case"script":u=vn(e)}Jt.has(u)||(e=p({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:e,as:a},s),Jt.set(u,e),n.querySelector(r)!==null||a==="style"&&n.querySelector(fl(u))||a==="script"&&n.querySelector(hl(u))||(a=n.createElement("link"),pt(a,"link",e),ot(a),n.head.appendChild(a)))}}function _x(e,a){Da.m(e,a);var s=gn;if(s&&e){var n=a&&typeof a.as=="string"?a.as:"script",r='link[rel="modulepreload"][as="'+Yt(n)+'"][href="'+Yt(e)+'"]',u=r;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=vn(e)}if(!Jt.has(u)&&(e=p({rel:"modulepreload",href:e},a),Jt.set(u,e),s.querySelector(r)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(hl(u)))return}n=s.createElement("link"),pt(n,"link",e),ot(n),s.head.appendChild(n)}}}function Sx(e,a,s){Da.S(e,a,s);var n=gn;if(n&&e){var r=zs(n).hoistableStyles,u=xn(e);a=a||"default";var x=r.get(u);if(!x){var _={loading:0,preload:null};if(x=n.querySelector(fl(u)))_.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":a},s),(s=Jt.get(u))&&vo(e,s);var T=x=n.createElement("link");ot(T),pt(T,"link",e),T._p=new Promise(function(H,X){T.onload=H,T.onerror=X}),T.addEventListener("load",function(){_.loading|=1}),T.addEventListener("error",function(){_.loading|=2}),_.loading|=4,zi(x,a,n)}x={type:"stylesheet",instance:x,count:1,state:_},r.set(u,x)}}}function Ex(e,a){Da.X(e,a);var s=gn;if(s&&e){var n=zs(s).hoistableScripts,r=vn(e),u=n.get(r);u||(u=s.querySelector(hl(r)),u||(e=p({src:e,async:!0},a),(a=Jt.get(r))&&yo(e,a),u=s.createElement("script"),ot(u),pt(u,"link",e),s.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},n.set(r,u))}}function wx(e,a){Da.M(e,a);var s=gn;if(s&&e){var n=zs(s).hoistableScripts,r=vn(e),u=n.get(r);u||(u=s.querySelector(hl(r)),u||(e=p({src:e,async:!0,type:"module"},a),(a=Jt.get(r))&&yo(e,a),u=s.createElement("script"),ot(u),pt(u,"link",e),s.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},n.set(r,u))}}function Mh(e,a,s,n){var r=(r=Ne.current)?Ui(r):null;if(!r)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=xn(s.href),s=zs(r).hoistableStyles,n=s.get(a),n||(n={type:"style",instance:null,count:0,state:null},s.set(a,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=xn(s.href);var u=zs(r).hoistableStyles,x=u.get(e);if(x||(r=r.ownerDocument||r,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,x),(u=r.querySelector(fl(e)))&&!u._p&&(x.instance=u,x.state.loading=5),Jt.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Jt.set(e,s),u||kx(r,e,s,x.state))),a&&n===null)throw Error(o(528,""));return x}if(a&&n!==null)throw Error(o(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=vn(s),s=zs(r).hoistableScripts,n=s.get(a),n||(n={type:"script",instance:null,count:0,state:null},s.set(a,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function xn(e){return'href="'+Yt(e)+'"'}function fl(e){return'link[rel="stylesheet"]['+e+"]"}function Uh(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function kx(e,a,s,n){e.querySelector('link[rel="preload"][as="style"]['+a+"]")?n.loading=1:(a=e.createElement("link"),n.preload=a,a.addEventListener("load",function(){return n.loading|=1}),a.addEventListener("error",function(){return n.loading|=2}),pt(a,"link",s),ot(a),e.head.appendChild(a))}function vn(e){return'[src="'+Yt(e)+'"]'}function hl(e){return"script[async]"+e}function zh(e,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var n=e.querySelector('style[data-href~="'+Yt(s.href)+'"]');if(n)return a.instance=n,ot(n),n;var r=p({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),ot(n),pt(n,"style",r),zi(n,s.precedence,e),a.instance=n;case"stylesheet":r=xn(s.href);var u=e.querySelector(fl(r));if(u)return a.state.loading|=4,a.instance=u,ot(u),u;n=Uh(s),(r=Jt.get(r))&&vo(n,r),u=(e.ownerDocument||e).createElement("link"),ot(u);var x=u;return x._p=new Promise(function(_,T){x.onload=_,x.onerror=T}),pt(u,"link",n),a.state.loading|=4,zi(u,s.precedence,e),a.instance=u;case"script":return u=vn(s.src),(r=e.querySelector(hl(u)))?(a.instance=r,ot(r),r):(n=s,(r=Jt.get(u))&&(n=p({},s),yo(n,r)),e=e.ownerDocument||e,r=e.createElement("script"),ot(r),pt(r,"link",n),e.head.appendChild(r),a.instance=r);case"void":return null;default:throw Error(o(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(n=a.instance,a.state.loading|=4,zi(n,s.precedence,e));return a.instance}function zi(e,a,s){for(var n=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=n.length?n[n.length-1]:null,u=r,x=0;x<n.length;x++){var _=n[x];if(_.dataset.precedence===a)u=_;else if(u!==r)break}u?u.parentNode.insertBefore(e,u.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(e,a.firstChild))}function vo(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.title==null&&(e.title=a.title)}function yo(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.integrity==null&&(e.integrity=a.integrity)}var Li=null;function Lh(e,a,s){if(Li===null){var n=new Map,r=Li=new Map;r.set(s,n)}else r=Li,n=r.get(s),n||(n=new Map,r.set(s,n));if(n.has(e))return n;for(n.set(e,null),s=s.getElementsByTagName(e),r=0;r<s.length;r++){var u=s[r];if(!(u[wn]||u[yt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var x=u.getAttribute(a)||"";x=e+x;var _=n.get(x);_?_.push(u):n.set(x,[u])}}return n}function qh(e,a,s){e=e.ownerDocument||e,e.head.insertBefore(s,a==="title"?e.querySelector("head > title"):null)}function Cx(e,a,s){if(s===1||a.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return e=a.disabled,typeof a.precedence=="string"&&e==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Bh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ml=null;function Tx(){}function Rx(e,a,s){if(ml===null)throw Error(o(475));var n=ml;if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var r=xn(s.href),u=e.querySelector(fl(r));if(u){e=u._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(n.count++,n=qi.bind(n),e.then(n,n)),a.state.loading|=4,a.instance=u,ot(u);return}u=e.ownerDocument||e,s=Uh(s),(r=Jt.get(r))&&vo(s,r),u=u.createElement("link"),ot(u);var x=u;x._p=new Promise(function(_,T){x.onload=_,x.onerror=T}),pt(u,"link",s),a.instance=u}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,e),(e=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=qi.bind(n),e.addEventListener("load",a),e.addEventListener("error",a))}}function Ax(){if(ml===null)throw Error(o(475));var e=ml;return e.stylesheets&&e.count===0&&jo(e,e.stylesheets),0<e.count?function(a){var s=setTimeout(function(){if(e.stylesheets&&jo(e,e.stylesheets),e.unsuspend){var n=e.unsuspend;e.unsuspend=null,n()}},6e4);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s)}}:null}function qi(){if(this.count--,this.count===0){if(this.stylesheets)jo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Bi=null;function jo(e,a){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Bi=new Map,a.forEach(Dx,e),Bi=null,qi.call(e))}function Dx(e,a){if(!(a.state.loading&4)){var s=Bi.get(e);if(s)var n=s.get(null);else{s=new Map,Bi.set(e,s);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<r.length;u++){var x=r[u];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(s.set(x.dataset.precedence,x),n=x)}n&&s.set(null,n)}r=a.instance,x=r.getAttribute("data-precedence"),u=s.get(x)||n,u===n&&s.set(null,r),s.set(x,r),this.count++,n=qi.bind(this),r.addEventListener("load",n),r.addEventListener("error",n),u?u.parentNode.insertBefore(r,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),a.state.loading|=4}}var pl={$$typeof:R,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function Ox(e,a,s,n,r,u,x,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ds(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ds(0),this.hiddenUpdates=Ds(null),this.identifierPrefix=n,this.onUncaughtError=r,this.onCaughtError=u,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Fh(e,a,s,n,r,u,x,_,T,H,X,J){return e=new Ox(e,a,s,x,_,T,H,J),a=1,u===!0&&(a|=24),u=zt(3,null,null,a),e.current=u,u.stateNode=e,a=ec(),a.refCount++,e.pooledCache=a,a.refCount++,u.memoizedState={element:n,isDehydrated:s,cache:a},nc(u),e}function Hh(e){return e?(e=Xs,e):Xs}function $h(e,a,s,n,r,u){r=Hh(r),n.context===null?n.context=r:n.pendingContext=r,n=Fa(a),n.payload={element:s},u=u===void 0?null:u,u!==null&&(n.callback=u),s=Ha(e,n,a),s!==null&&(Ht(s,e,a),Gn(s,e,a))}function Ph(e,a){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<a?s:a}}function No(e,a){Ph(e,a),(e=e.alternate)&&Ph(e,a)}function Yh(e){if(e.tag===13){var a=Vs(e,67108864);a!==null&&Ht(a,e,67108864),No(e,67108864)}}var Fi=!0;function Mx(e,a,s,n){var r=A.T;A.T=null;var u=V.p;try{V.p=2,bo(e,a,s,n)}finally{V.p=u,A.T=r}}function Ux(e,a,s,n){var r=A.T;A.T=null;var u=V.p;try{V.p=8,bo(e,a,s,n)}finally{V.p=u,A.T=r}}function bo(e,a,s,n){if(Fi){var r=_o(n);if(r===null)co(e,a,n,Hi,s),Qh(e,n);else if(Lx(r,e,a,s,n))n.stopPropagation();else if(Qh(e,n),a&4&&-1<zx.indexOf(e)){for(;r!==null;){var u=Us(r);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var x=le(u.pendingLanes);if(x!==0){var _=u;for(_.pendingLanes|=2,_.entangledLanes|=2;x;){var T=1<<31-St(x);_.entanglements[1]|=T,x&=~T}fa(u),(Le&6)===0&&(Si=ce()+500,cl(0))}}break;case 13:_=Vs(u,2),_!==null&&Ht(_,u,2),wi(),No(u,2)}if(u=_o(n),u===null&&co(e,a,n,Hi,s),u===r)break;r=u}r!==null&&n.stopPropagation()}else co(e,a,n,null,s)}}function _o(e){return e=kr(e),So(e)}var Hi=null;function So(e){if(Hi=null,e=Ms(e),e!==null){var a=h(e);if(a===null)e=null;else{var s=a.tag;if(s===13){if(e=g(a),e!==null)return e;e=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;e=null}else a!==e&&(e=null)}}return Hi=e,null}function Gh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Be()){case Ge:return 2;case ia:return 8;case xt:case Ml:return 32;case En:return 268435456;default:return 32}default:return 32}}var Eo=!1,es=null,ts=null,as=null,gl=new Map,xl=new Map,ss=[],zx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qh(e,a){switch(e){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":gl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(a.pointerId)}}function vl(e,a,s,n,r,u){return e===null||e.nativeEvent!==u?(e={blockedOn:a,domEventName:s,eventSystemFlags:n,nativeEvent:u,targetContainers:[r]},a!==null&&(a=Us(a),a!==null&&Yh(a)),e):(e.eventSystemFlags|=n,a=e.targetContainers,r!==null&&a.indexOf(r)===-1&&a.push(r),e)}function Lx(e,a,s,n,r){switch(a){case"focusin":return es=vl(es,e,a,s,n,r),!0;case"dragenter":return ts=vl(ts,e,a,s,n,r),!0;case"mouseover":return as=vl(as,e,a,s,n,r),!0;case"pointerover":var u=r.pointerId;return gl.set(u,vl(gl.get(u)||null,e,a,s,n,r)),!0;case"gotpointercapture":return u=r.pointerId,xl.set(u,vl(xl.get(u)||null,e,a,s,n,r)),!0}return!1}function Vh(e){var a=Ms(e.target);if(a!==null){var s=h(a);if(s!==null){if(a=s.tag,a===13){if(a=g(s),a!==null){e.blockedOn=a,Rp(e.priority,function(){if(s.tag===13){var n=Ft();n=gr(n);var r=Vs(s,n);r!==null&&Ht(r,s,n),No(s,n)}});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $i(e){if(e.blockedOn!==null)return!1;for(var a=e.targetContainers;0<a.length;){var s=_o(e.nativeEvent);if(s===null){s=e.nativeEvent;var n=new s.constructor(s.type,s);wr=n,s.target.dispatchEvent(n),wr=null}else return a=Us(s),a!==null&&Yh(a),e.blockedOn=s,!1;a.shift()}return!0}function Xh(e,a,s){$i(e)&&s.delete(a)}function qx(){Eo=!1,es!==null&&$i(es)&&(es=null),ts!==null&&$i(ts)&&(ts=null),as!==null&&$i(as)&&(as=null),gl.forEach(Xh),xl.forEach(Xh)}function Pi(e,a){e.blockedOn===a&&(e.blockedOn=null,Eo||(Eo=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,qx)))}var Yi=null;function Zh(e){Yi!==e&&(Yi=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Yi===e&&(Yi=null);for(var a=0;a<e.length;a+=3){var s=e[a],n=e[a+1],r=e[a+2];if(typeof n!="function"){if(So(n||s)===null)continue;break}var u=Us(s);u!==null&&(e.splice(a,3),a-=3,_c(u,{pending:!0,data:r,method:s.method,action:n},n,r))}}))}function yl(e){function a(T){return Pi(T,e)}es!==null&&Pi(es,e),ts!==null&&Pi(ts,e),as!==null&&Pi(as,e),gl.forEach(a),xl.forEach(a);for(var s=0;s<ss.length;s++){var n=ss[s];n.blockedOn===e&&(n.blockedOn=null)}for(;0<ss.length&&(s=ss[0],s.blockedOn===null);)Vh(s),s.blockedOn===null&&ss.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(n=0;n<s.length;n+=3){var r=s[n],u=s[n+1],x=r[kt]||null;if(typeof u=="function")x||Zh(s);else if(x){var _=null;if(u&&u.hasAttribute("formAction")){if(r=u,x=u[kt]||null)_=x.formAction;else if(So(r)!==null)continue}else _=x.action;typeof _=="function"?s[n+1]=_:(s.splice(n,3),n-=3),Zh(s)}}}function wo(e){this._internalRoot=e}Gi.prototype.render=wo.prototype.render=function(e){var a=this._internalRoot;if(a===null)throw Error(o(409));var s=a.current,n=Ft();$h(s,n,e,a,null,null)},Gi.prototype.unmount=wo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var a=e.containerInfo;$h(e.current,2,null,e,null,null),wi(),a[Os]=null}};function Gi(e){this._internalRoot=e}Gi.prototype.unstable_scheduleHydration=function(e){if(e){var a=du();e={blockedOn:null,target:e,priority:a};for(var s=0;s<ss.length&&a!==0&&a<ss[s].priority;s++);ss.splice(s,0,e),s===0&&Vh(e)}};var Kh=i.version;if(Kh!=="19.1.0")throw Error(o(527,Kh,"19.1.0"));V.findDOMNode=function(e){var a=e._reactInternals;if(a===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=m(a),e=e!==null?f(e):null,e=e===null?null:e.stateNode,e};var Bx={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qi.isDisabled&&Qi.supportsFiber)try{is=Qi.inject(Bx),_t=Qi}catch{}}return Nl.createRoot=function(e,a){if(!d(e))throw Error(o(299));var s=!1,n="",r=ff,u=hf,x=mf,_=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(r=a.onUncaughtError),a.onCaughtError!==void 0&&(u=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(_=a.unstable_transitionCallbacks)),a=Fh(e,1,!1,null,null,s,n,r,u,x,_,null),e[Os]=a.current,ro(e),new wo(a)},Nl.hydrateRoot=function(e,a,s){if(!d(e))throw Error(o(299));var n=!1,r="",u=ff,x=hf,_=mf,T=null,H=null;return s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(r=s.identifierPrefix),s.onUncaughtError!==void 0&&(u=s.onUncaughtError),s.onCaughtError!==void 0&&(x=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(T=s.unstable_transitionCallbacks),s.formState!==void 0&&(H=s.formState)),a=Fh(e,1,!0,a,s??null,n,r,u,x,_,T,H),a.context=Hh(null),s=a.current,n=Ft(),n=gr(n),r=Fa(n),r.callback=null,Ha(s,r,n),s=n,a.current.lanes=s,Ua(a,s),fa(a),e[Os]=a.current,ro(e),new Gi(a)},Nl.version="19.1.0",Nl}var im;function Kx(){if(im)return To.exports;im=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(i){console.error(i)}}return l(),To.exports=Zx(),To.exports}var Jx=Kx(),bl={},rm;function Ix(){if(rm)return bl;rm=1,Object.defineProperty(bl,"__esModule",{value:!0}),bl.parse=g,bl.serialize=f;const l=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,i=/^[\u0021-\u003A\u003C-\u007E]*$/,c=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,d=Object.prototype.toString,h=(()=>{const j=function(){};return j.prototype=Object.create(null),j})();function g(j,C){const y=new h,E=j.length;if(E<2)return y;const k=C?.decode||p;let O=0;do{const U=j.indexOf("=",O);if(U===-1)break;const R=j.indexOf(";",O),M=R===-1?E:R;if(U>M){O=j.lastIndexOf(";",U-1)+1;continue}const S=v(j,O,U),B=m(j,U,S),Z=j.slice(S,B);if(y[Z]===void 0){let ee=v(j,U+1,M),re=m(j,M,ee);const ge=k(j.slice(ee,re));y[Z]=ge}O=M+1}while(O<E);return y}function v(j,C,y){do{const E=j.charCodeAt(C);if(E!==32&&E!==9)return C}while(++C<y);return y}function m(j,C,y){for(;C>y;){const E=j.charCodeAt(--C);if(E!==32&&E!==9)return C+1}return y}function f(j,C,y){const E=y?.encode||encodeURIComponent;if(!l.test(j))throw new TypeError(`argument name is invalid: ${j}`);const k=E(C);if(!i.test(k))throw new TypeError(`argument val is invalid: ${C}`);let O=j+"="+k;if(!y)return O;if(y.maxAge!==void 0){if(!Number.isInteger(y.maxAge))throw new TypeError(`option maxAge is invalid: ${y.maxAge}`);O+="; Max-Age="+y.maxAge}if(y.domain){if(!c.test(y.domain))throw new TypeError(`option domain is invalid: ${y.domain}`);O+="; Domain="+y.domain}if(y.path){if(!o.test(y.path))throw new TypeError(`option path is invalid: ${y.path}`);O+="; Path="+y.path}if(y.expires){if(!N(y.expires)||!Number.isFinite(y.expires.valueOf()))throw new TypeError(`option expires is invalid: ${y.expires}`);O+="; Expires="+y.expires.toUTCString()}if(y.httpOnly&&(O+="; HttpOnly"),y.secure&&(O+="; Secure"),y.partitioned&&(O+="; Partitioned"),y.priority)switch(typeof y.priority=="string"?y.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${y.priority}`)}if(y.sameSite)switch(typeof y.sameSite=="string"?y.sameSite.toLowerCase():y.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${y.sameSite}`)}return O}function p(j){if(j.indexOf("%")===-1)return j;try{return decodeURIComponent(j)}catch{return j}}function N(j){return d.call(j)==="[object Date]"}return bl}Ix();var cm="popstate";function Wx(l={}){function i(o,d){let{pathname:h,search:g,hash:v}=o.location;return Fo("",{pathname:h,search:g,hash:v},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function c(o,d){return typeof d=="string"?d:wl(d)}return tv(i,c,null,l)}function Xe(l,i){if(l===!1||l===null||typeof l>"u")throw new Error(i)}function It(l,i){if(!l){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function ev(){return Math.random().toString(36).substring(2,10)}function om(l,i){return{usr:l.state,key:l.key,idx:i}}function Fo(l,i,c=null,o){return{pathname:typeof l=="string"?l:l.pathname,search:"",hash:"",...typeof i=="string"?jn(i):i,state:c,key:i&&i.key||o||ev()}}function wl({pathname:l="/",search:i="",hash:c=""}){return i&&i!=="?"&&(l+=i.charAt(0)==="?"?i:"?"+i),c&&c!=="#"&&(l+=c.charAt(0)==="#"?c:"#"+c),l}function jn(l){let i={};if(l){let c=l.indexOf("#");c>=0&&(i.hash=l.substring(c),l=l.substring(0,c));let o=l.indexOf("?");o>=0&&(i.search=l.substring(o),l=l.substring(0,o)),l&&(i.pathname=l)}return i}function tv(l,i,c,o={}){let{window:d=document.defaultView,v5Compat:h=!1}=o,g=d.history,v="POP",m=null,f=p();f==null&&(f=0,g.replaceState({...g.state,idx:f},""));function p(){return(g.state||{idx:null}).idx}function N(){v="POP";let k=p(),O=k==null?null:k-f;f=k,m&&m({action:v,location:E.location,delta:O})}function j(k,O){v="PUSH";let U=Fo(E.location,k,O);f=p()+1;let R=om(U,f),M=E.createHref(U);try{g.pushState(R,"",M)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;d.location.assign(M)}h&&m&&m({action:v,location:E.location,delta:1})}function C(k,O){v="REPLACE";let U=Fo(E.location,k,O);f=p();let R=om(U,f),M=E.createHref(U);g.replaceState(R,"",M),h&&m&&m({action:v,location:E.location,delta:0})}function y(k){return av(k)}let E={get action(){return v},get location(){return l(d,g)},listen(k){if(m)throw new Error("A history only accepts one active listener");return d.addEventListener(cm,N),m=k,()=>{d.removeEventListener(cm,N),m=null}},createHref(k){return i(d,k)},createURL:y,encodeLocation(k){let O=y(k);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:j,replace:C,go(k){return g.go(k)}};return E}function av(l,i=!1){let c="http://localhost";typeof window<"u"&&(c=window.location.origin!=="null"?window.location.origin:window.location.href),Xe(c,"No window.location.(origin|href) available to create URL");let o=typeof l=="string"?l:wl(l);return o=o.replace(/ $/,"%20"),!i&&o.startsWith("//")&&(o=c+o),new URL(o,c)}function Tm(l,i,c="/"){return sv(l,i,c,!1)}function sv(l,i,c,o){let d=typeof i=="string"?jn(i):i,h=Ma(d.pathname||"/",c);if(h==null)return null;let g=Rm(l);nv(g);let v=null;for(let m=0;v==null&&m<g.length;++m){let f=pv(h);v=hv(g[m],f,o)}return v}function Rm(l,i=[],c=[],o=""){let d=(h,g,v)=>{let m={relativePath:v===void 0?h.path||"":v,caseSensitive:h.caseSensitive===!0,childrenIndex:g,route:h};m.relativePath.startsWith("/")&&(Xe(m.relativePath.startsWith(o),`Absolute route path "${m.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(o.length));let f=Oa([o,m.relativePath]),p=c.concat(m);h.children&&h.children.length>0&&(Xe(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Rm(h.children,i,p,f)),!(h.path==null&&!h.index)&&i.push({path:f,score:dv(f,h.index),routesMeta:p})};return l.forEach((h,g)=>{if(h.path===""||!h.path?.includes("?"))d(h,g);else for(let v of Am(h.path))d(h,g,v)}),i}function Am(l){let i=l.split("/");if(i.length===0)return[];let[c,...o]=i,d=c.endsWith("?"),h=c.replace(/\?$/,"");if(o.length===0)return d?[h,""]:[h];let g=Am(o.join("/")),v=[];return v.push(...g.map(m=>m===""?h:[h,m].join("/"))),d&&v.push(...g),v.map(m=>l.startsWith("/")&&m===""?"/":m)}function nv(l){l.sort((i,c)=>i.score!==c.score?c.score-i.score:fv(i.routesMeta.map(o=>o.childrenIndex),c.routesMeta.map(o=>o.childrenIndex)))}var lv=/^:[\w-]+$/,iv=3,rv=2,cv=1,ov=10,uv=-2,um=l=>l==="*";function dv(l,i){let c=l.split("/"),o=c.length;return c.some(um)&&(o+=uv),i&&(o+=rv),c.filter(d=>!um(d)).reduce((d,h)=>d+(lv.test(h)?iv:h===""?cv:ov),o)}function fv(l,i){return l.length===i.length&&l.slice(0,-1).every((o,d)=>o===i[d])?l[l.length-1]-i[i.length-1]:0}function hv(l,i,c=!1){let{routesMeta:o}=l,d={},h="/",g=[];for(let v=0;v<o.length;++v){let m=o[v],f=v===o.length-1,p=h==="/"?i:i.slice(h.length)||"/",N=er({path:m.relativePath,caseSensitive:m.caseSensitive,end:f},p),j=m.route;if(!N&&f&&c&&!o[o.length-1].route.index&&(N=er({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},p)),!N)return null;Object.assign(d,N.params),g.push({params:d,pathname:Oa([h,N.pathname]),pathnameBase:yv(Oa([h,N.pathnameBase])),route:j}),N.pathnameBase!=="/"&&(h=Oa([h,N.pathnameBase]))}return g}function er(l,i){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[c,o]=mv(l.path,l.caseSensitive,l.end),d=i.match(c);if(!d)return null;let h=d[0],g=h.replace(/(.)\/+$/,"$1"),v=d.slice(1);return{params:o.reduce((f,{paramName:p,isOptional:N},j)=>{if(p==="*"){let y=v[j]||"";g=h.slice(0,h.length-y.length).replace(/(.)\/+$/,"$1")}const C=v[j];return N&&!C?f[p]=void 0:f[p]=(C||"").replace(/%2F/g,"/"),f},{}),pathname:h,pathnameBase:g,pattern:l}}function mv(l,i=!1,c=!0){It(l==="*"||!l.endsWith("*")||l.endsWith("/*"),`Route path "${l}" will be treated as if it were "${l.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${l.replace(/\*$/,"/*")}".`);let o=[],d="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(g,v,m)=>(o.push({paramName:v,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return l.endsWith("*")?(o.push({paramName:"*"}),d+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):c?d+="\\/*$":l!==""&&l!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,i?void 0:"i"),o]}function pv(l){try{return l.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return It(!1,`The URL path "${l}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${i}).`),l}}function Ma(l,i){if(i==="/")return l;if(!l.toLowerCase().startsWith(i.toLowerCase()))return null;let c=i.endsWith("/")?i.length-1:i.length,o=l.charAt(c);return o&&o!=="/"?null:l.slice(c)||"/"}function gv(l,i="/"){let{pathname:c,search:o="",hash:d=""}=typeof l=="string"?jn(l):l;return{pathname:c?c.startsWith("/")?c:xv(c,i):i,search:jv(o),hash:Nv(d)}}function xv(l,i){let c=i.replace(/\/+$/,"").split("/");return l.split("/").forEach(d=>{d===".."?c.length>1&&c.pop():d!=="."&&c.push(d)}),c.length>1?c.join("/"):"/"}function Oo(l,i,c,o){return`Cannot include a '${l}' character in a manually specified \`to.${i}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${c}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vv(l){return l.filter((i,c)=>c===0||i.route.path&&i.route.path.length>0)}function Wo(l){let i=vv(l);return i.map((c,o)=>o===i.length-1?c.pathname:c.pathnameBase)}function eu(l,i,c,o=!1){let d;typeof l=="string"?d=jn(l):(d={...l},Xe(!d.pathname||!d.pathname.includes("?"),Oo("?","pathname","search",d)),Xe(!d.pathname||!d.pathname.includes("#"),Oo("#","pathname","hash",d)),Xe(!d.search||!d.search.includes("#"),Oo("#","search","hash",d)));let h=l===""||d.pathname==="",g=h?"/":d.pathname,v;if(g==null)v=c;else{let N=i.length-1;if(!o&&g.startsWith("..")){let j=g.split("/");for(;j[0]==="..";)j.shift(),N-=1;d.pathname=j.join("/")}v=N>=0?i[N]:"/"}let m=gv(d,v),f=g&&g!=="/"&&g.endsWith("/"),p=(h||g===".")&&c.endsWith("/");return!m.pathname.endsWith("/")&&(f||p)&&(m.pathname+="/"),m}var Oa=l=>l.join("/").replace(/\/\/+/g,"/"),yv=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),jv=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,Nv=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l;function bv(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}var Dm=["POST","PUT","PATCH","DELETE"];new Set(Dm);var _v=["GET",...Dm];new Set(_v);var Nn=b.createContext(null);Nn.displayName="DataRouter";var nr=b.createContext(null);nr.displayName="DataRouterState";var Om=b.createContext({isTransitioning:!1});Om.displayName="ViewTransition";var Sv=b.createContext(new Map);Sv.displayName="Fetchers";var Ev=b.createContext(null);Ev.displayName="Await";var aa=b.createContext(null);aa.displayName="Navigation";var Rl=b.createContext(null);Rl.displayName="Location";var sa=b.createContext({outlet:null,matches:[],isDataRoute:!1});sa.displayName="Route";var tu=b.createContext(null);tu.displayName="RouteError";function wv(l,{relative:i}={}){Xe(bn(),"useHref() may be used only in the context of a <Router> component.");let{basename:c,navigator:o}=b.useContext(aa),{hash:d,pathname:h,search:g}=Al(l,{relative:i}),v=h;return c!=="/"&&(v=h==="/"?c:Oa([c,h])),o.createHref({pathname:v,search:g,hash:d})}function bn(){return b.useContext(Rl)!=null}function na(){return Xe(bn(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Rl).location}var Mm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Um(l){b.useContext(aa).static||b.useLayoutEffect(l)}function pa(){let{isDataRoute:l}=b.useContext(sa);return l?Fv():kv()}function kv(){Xe(bn(),"useNavigate() may be used only in the context of a <Router> component.");let l=b.useContext(Nn),{basename:i,navigator:c}=b.useContext(aa),{matches:o}=b.useContext(sa),{pathname:d}=na(),h=JSON.stringify(Wo(o)),g=b.useRef(!1);return Um(()=>{g.current=!0}),b.useCallback((m,f={})=>{if(It(g.current,Mm),!g.current)return;if(typeof m=="number"){c.go(m);return}let p=eu(m,JSON.parse(h),d,f.relative==="path");l==null&&i!=="/"&&(p.pathname=p.pathname==="/"?i:Oa([i,p.pathname])),(f.replace?c.replace:c.push)(p,f.state,f)},[i,c,h,d,l])}b.createContext(null);function Cv(){let{matches:l}=b.useContext(sa),i=l[l.length-1];return i?i.params:{}}function Al(l,{relative:i}={}){let{matches:c}=b.useContext(sa),{pathname:o}=na(),d=JSON.stringify(Wo(c));return b.useMemo(()=>eu(l,JSON.parse(d),o,i==="path"),[l,d,o,i])}function Tv(l,i){return zm(l,i)}function zm(l,i,c,o){Xe(bn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=b.useContext(aa),{matches:h}=b.useContext(sa),g=h[h.length-1],v=g?g.params:{},m=g?g.pathname:"/",f=g?g.pathnameBase:"/",p=g&&g.route;{let O=p&&p.path||"";Lm(m,!p||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let N=na(),j;if(i){let O=typeof i=="string"?jn(i):i;Xe(f==="/"||O.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${O.pathname}" was given in the \`location\` prop.`),j=O}else j=N;let C=j.pathname||"/",y=C;if(f!=="/"){let O=f.replace(/^\//,"").split("/");y="/"+C.replace(/^\//,"").split("/").slice(O.length).join("/")}let E=Tm(l,{pathname:y});It(p||E!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),It(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=Mv(E&&E.map(O=>Object.assign({},O,{params:Object.assign({},v,O.params),pathname:Oa([f,d.encodeLocation?d.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?f:Oa([f,d.encodeLocation?d.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),h,c,o);return i&&k?b.createElement(Rl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},k):k}function Rv(){let l=Bv(),i=bv(l)?`${l.status} ${l.statusText}`:l instanceof Error?l.message:JSON.stringify(l),c=l instanceof Error?l.stack:null,o="rgba(200,200,200, 0.5)",d={padding:"0.5rem",backgroundColor:o},h={padding:"2px 4px",backgroundColor:o},g=null;return console.error("Error handled by React Router default ErrorBoundary:",l),g=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:h},"ErrorBoundary")," or"," ",b.createElement("code",{style:h},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},i),c?b.createElement("pre",{style:d},c):null,g)}var Av=b.createElement(Rv,null),Dv=class extends b.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,i){return i.location!==l.location||i.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:i.error,location:i.location,revalidation:l.revalidation||i.revalidation}}componentDidCatch(l,i){console.error("React Router caught the following error during render",l,i)}render(){return this.state.error!==void 0?b.createElement(sa.Provider,{value:this.props.routeContext},b.createElement(tu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ov({routeContext:l,match:i,children:c}){let o=b.useContext(Nn);return o&&o.static&&o.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=i.route.id),b.createElement(sa.Provider,{value:l},c)}function Mv(l,i=[],c=null,o=null){if(l==null){if(!c)return null;if(c.errors)l=c.matches;else if(i.length===0&&!c.initialized&&c.matches.length>0)l=c.matches;else return null}let d=l,h=c?.errors;if(h!=null){let m=d.findIndex(f=>f.route.id&&h?.[f.route.id]!==void 0);Xe(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),d=d.slice(0,Math.min(d.length,m+1))}let g=!1,v=-1;if(c)for(let m=0;m<d.length;m++){let f=d[m];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(v=m),f.route.id){let{loaderData:p,errors:N}=c,j=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!N||N[f.route.id]===void 0);if(f.route.lazy||j){g=!0,v>=0?d=d.slice(0,v+1):d=[d[0]];break}}}return d.reduceRight((m,f,p)=>{let N,j=!1,C=null,y=null;c&&(N=h&&f.route.id?h[f.route.id]:void 0,C=f.route.errorElement||Av,g&&(v<0&&p===0?(Lm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,y=null):v===p&&(j=!0,y=f.route.hydrateFallbackElement||null)));let E=i.concat(d.slice(0,p+1)),k=()=>{let O;return N?O=C:j?O=y:f.route.Component?O=b.createElement(f.route.Component,null):f.route.element?O=f.route.element:O=m,b.createElement(Ov,{match:f,routeContext:{outlet:m,matches:E,isDataRoute:c!=null},children:O})};return c&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?b.createElement(Dv,{location:c.location,revalidation:c.revalidation,component:C,error:N,children:k(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):k()},null)}function au(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Uv(l){let i=b.useContext(Nn);return Xe(i,au(l)),i}function zv(l){let i=b.useContext(nr);return Xe(i,au(l)),i}function Lv(l){let i=b.useContext(sa);return Xe(i,au(l)),i}function su(l){let i=Lv(l),c=i.matches[i.matches.length-1];return Xe(c.route.id,`${l} can only be used on routes that contain a unique "id"`),c.route.id}function qv(){return su("useRouteId")}function Bv(){let l=b.useContext(tu),i=zv("useRouteError"),c=su("useRouteError");return l!==void 0?l:i.errors?.[c]}function Fv(){let{router:l}=Uv("useNavigate"),i=su("useNavigate"),c=b.useRef(!1);return Um(()=>{c.current=!0}),b.useCallback(async(d,h={})=>{It(c.current,Mm),c.current&&(typeof d=="number"?l.navigate(d):await l.navigate(d,{fromRouteId:i,...h}))},[l,i])}var dm={};function Lm(l,i,c){!i&&!dm[l]&&(dm[l]=!0,It(!1,c))}b.memo(Hv);function Hv({routes:l,future:i,state:c}){return zm(l,void 0,c,i)}function El({to:l,replace:i,state:c,relative:o}){Xe(bn(),"<Navigate> may be used only in the context of a <Router> component.");let{static:d}=b.useContext(aa);It(!d,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=b.useContext(sa),{pathname:g}=na(),v=pa(),m=eu(l,Wo(h),g,o==="path"),f=JSON.stringify(m);return b.useEffect(()=>{v(JSON.parse(f),{replace:i,state:c,relative:o})},[v,f,o,i,c]),null}function gt(l){Xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $v({basename:l="/",children:i=null,location:c,navigationType:o="POP",navigator:d,static:h=!1}){Xe(!bn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=l.replace(/^\/*/,"/"),v=b.useMemo(()=>({basename:g,navigator:d,static:h,future:{}}),[g,d,h]);typeof c=="string"&&(c=jn(c));let{pathname:m="/",search:f="",hash:p="",state:N=null,key:j="default"}=c,C=b.useMemo(()=>{let y=Ma(m,g);return y==null?null:{location:{pathname:y,search:f,hash:p,state:N,key:j},navigationType:o}},[g,m,f,p,N,j,o]);return It(C!=null,`<Router basename="${g}"> is not able to match the URL "${m}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:b.createElement(aa.Provider,{value:v},b.createElement(Rl.Provider,{children:i,value:C}))}function Pv({children:l,location:i}){return Tv(Ho(l),i)}function Ho(l,i=[]){let c=[];return b.Children.forEach(l,(o,d)=>{if(!b.isValidElement(o))return;let h=[...i,d];if(o.type===b.Fragment){c.push.apply(c,Ho(o.props.children,h));return}Xe(o.type===gt,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xe(!o.props.index||!o.props.children,"An index route cannot have child routes.");let g={id:o.props.id||h.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(g.children=Ho(o.props.children,h)),c.push(g)}),c}var Zi="get",Ki="application/x-www-form-urlencoded";function lr(l){return l!=null&&typeof l.tagName=="string"}function Yv(l){return lr(l)&&l.tagName.toLowerCase()==="button"}function Gv(l){return lr(l)&&l.tagName.toLowerCase()==="form"}function Qv(l){return lr(l)&&l.tagName.toLowerCase()==="input"}function Vv(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function Xv(l,i){return l.button===0&&(!i||i==="_self")&&!Vv(l)}function $o(l=""){return new URLSearchParams(typeof l=="string"||Array.isArray(l)||l instanceof URLSearchParams?l:Object.keys(l).reduce((i,c)=>{let o=l[c];return i.concat(Array.isArray(o)?o.map(d=>[c,d]):[[c,o]])},[]))}function Zv(l,i){let c=$o(l);return i&&i.forEach((o,d)=>{c.has(d)||i.getAll(d).forEach(h=>{c.append(d,h)})}),c}var Vi=null;function Kv(){if(Vi===null)try{new FormData(document.createElement("form"),0),Vi=!1}catch{Vi=!0}return Vi}var Jv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mo(l){return l!=null&&!Jv.has(l)?(It(!1,`"${l}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ki}"`),null):l}function Iv(l,i){let c,o,d,h,g;if(Gv(l)){let v=l.getAttribute("action");o=v?Ma(v,i):null,c=l.getAttribute("method")||Zi,d=Mo(l.getAttribute("enctype"))||Ki,h=new FormData(l)}else if(Yv(l)||Qv(l)&&(l.type==="submit"||l.type==="image")){let v=l.form;if(v==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=l.getAttribute("formaction")||v.getAttribute("action");if(o=m?Ma(m,i):null,c=l.getAttribute("formmethod")||v.getAttribute("method")||Zi,d=Mo(l.getAttribute("formenctype"))||Mo(v.getAttribute("enctype"))||Ki,h=new FormData(v,l),!Kv()){let{name:f,type:p,value:N}=l;if(p==="image"){let j=f?`${f}.`:"";h.append(`${j}x`,"0"),h.append(`${j}y`,"0")}else f&&h.append(f,N)}}else{if(lr(l))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');c=Zi,o=null,d=Ki,g=l}return h&&d==="text/plain"&&(g=h,h=void 0),{action:o,method:c.toLowerCase(),encType:d,formData:h,body:g}}function nu(l,i){if(l===!1||l===null||typeof l>"u")throw new Error(i)}async function Wv(l,i){if(l.id in i)return i[l.id];try{let c=await import(l.module);return i[l.id]=c,c}catch(c){return console.error(`Error loading route module \`${l.module}\`, reloading page...`),console.error(c),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ey(l){return l==null?!1:l.href==null?l.rel==="preload"&&typeof l.imageSrcSet=="string"&&typeof l.imageSizes=="string":typeof l.rel=="string"&&typeof l.href=="string"}async function ty(l,i,c){let o=await Promise.all(l.map(async d=>{let h=i.routes[d.route.id];if(h){let g=await Wv(h,c);return g.links?g.links():[]}return[]}));return ly(o.flat(1).filter(ey).filter(d=>d.rel==="stylesheet"||d.rel==="preload").map(d=>d.rel==="stylesheet"?{...d,rel:"prefetch",as:"style"}:{...d,rel:"prefetch"}))}function fm(l,i,c,o,d,h){let g=(m,f)=>c[f]?m.route.id!==c[f].route.id:!0,v=(m,f)=>c[f].pathname!==m.pathname||c[f].route.path?.endsWith("*")&&c[f].params["*"]!==m.params["*"];return h==="assets"?i.filter((m,f)=>g(m,f)||v(m,f)):h==="data"?i.filter((m,f)=>{let p=o.routes[m.route.id];if(!p||!p.hasLoader)return!1;if(g(m,f)||v(m,f))return!0;if(m.route.shouldRevalidate){let N=m.route.shouldRevalidate({currentUrl:new URL(d.pathname+d.search+d.hash,window.origin),currentParams:c[0]?.params||{},nextUrl:new URL(l,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof N=="boolean")return N}return!0}):[]}function ay(l,i,{includeHydrateFallback:c}={}){return sy(l.map(o=>{let d=i.routes[o.route.id];if(!d)return[];let h=[d.module];return d.clientActionModule&&(h=h.concat(d.clientActionModule)),d.clientLoaderModule&&(h=h.concat(d.clientLoaderModule)),c&&d.hydrateFallbackModule&&(h=h.concat(d.hydrateFallbackModule)),d.imports&&(h=h.concat(d.imports)),h}).flat(1))}function sy(l){return[...new Set(l)]}function ny(l){let i={},c=Object.keys(l).sort();for(let o of c)i[o]=l[o];return i}function ly(l,i){let c=new Set;return new Set(i),l.reduce((o,d)=>{let h=JSON.stringify(ny(d));return c.has(h)||(c.add(h),o.push({key:h,link:d})),o},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var iy=new Set([100,101,204,205]);function ry(l,i){let c=typeof l=="string"?new URL(l,typeof window>"u"?"server://singlefetch/":window.location.origin):l;return c.pathname==="/"?c.pathname="_root.data":i&&Ma(c.pathname,i)==="/"?c.pathname=`${i.replace(/\/$/,"")}/_root.data`:c.pathname=`${c.pathname.replace(/\/$/,"")}.data`,c}function qm(){let l=b.useContext(Nn);return nu(l,"You must render this element inside a <DataRouterContext.Provider> element"),l}function cy(){let l=b.useContext(nr);return nu(l,"You must render this element inside a <DataRouterStateContext.Provider> element"),l}var lu=b.createContext(void 0);lu.displayName="FrameworkContext";function Bm(){let l=b.useContext(lu);return nu(l,"You must render this element inside a <HydratedRouter> element"),l}function oy(l,i){let c=b.useContext(lu),[o,d]=b.useState(!1),[h,g]=b.useState(!1),{onFocus:v,onBlur:m,onMouseEnter:f,onMouseLeave:p,onTouchStart:N}=i,j=b.useRef(null);b.useEffect(()=>{if(l==="render"&&g(!0),l==="viewport"){let E=O=>{O.forEach(U=>{g(U.isIntersecting)})},k=new IntersectionObserver(E,{threshold:.5});return j.current&&k.observe(j.current),()=>{k.disconnect()}}},[l]),b.useEffect(()=>{if(o){let E=setTimeout(()=>{g(!0)},100);return()=>{clearTimeout(E)}}},[o]);let C=()=>{d(!0)},y=()=>{d(!1),g(!1)};return c?l!=="intent"?[h,j,{}]:[h,j,{onFocus:_l(v,C),onBlur:_l(m,y),onMouseEnter:_l(f,C),onMouseLeave:_l(p,y),onTouchStart:_l(N,C)}]:[!1,j,{}]}function _l(l,i){return c=>{l&&l(c),c.defaultPrevented||i(c)}}function uy({page:l,...i}){let{router:c}=qm(),o=b.useMemo(()=>Tm(c.routes,l,c.basename),[c.routes,l,c.basename]);return o?b.createElement(fy,{page:l,matches:o,...i}):null}function dy(l){let{manifest:i,routeModules:c}=Bm(),[o,d]=b.useState([]);return b.useEffect(()=>{let h=!1;return ty(l,i,c).then(g=>{h||d(g)}),()=>{h=!0}},[l,i,c]),o}function fy({page:l,matches:i,...c}){let o=na(),{manifest:d,routeModules:h}=Bm(),{basename:g}=qm(),{loaderData:v,matches:m}=cy(),f=b.useMemo(()=>fm(l,i,m,d,o,"data"),[l,i,m,d,o]),p=b.useMemo(()=>fm(l,i,m,d,o,"assets"),[l,i,m,d,o]),N=b.useMemo(()=>{if(l===o.pathname+o.search+o.hash)return[];let y=new Set,E=!1;if(i.forEach(O=>{let U=d.routes[O.route.id];!U||!U.hasLoader||(!f.some(R=>R.route.id===O.route.id)&&O.route.id in v&&h[O.route.id]?.shouldRevalidate||U.hasClientLoader?E=!0:y.add(O.route.id))}),y.size===0)return[];let k=ry(l,g);return E&&y.size>0&&k.searchParams.set("_routes",i.filter(O=>y.has(O.route.id)).map(O=>O.route.id).join(",")),[k.pathname+k.search]},[g,v,o,d,f,i,l,h]),j=b.useMemo(()=>ay(p,d),[p,d]),C=dy(p);return b.createElement(b.Fragment,null,N.map(y=>b.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...c})),j.map(y=>b.createElement("link",{key:y,rel:"modulepreload",href:y,...c})),C.map(({key:y,link:E})=>b.createElement("link",{key:y,...E})))}function hy(...l){return i=>{l.forEach(c=>{typeof c=="function"?c(i):c!=null&&(c.current=i)})}}var Fm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Fm&&(window.__reactRouterVersion="7.6.3")}catch{}function my({basename:l,children:i,window:c}){let o=b.useRef();o.current==null&&(o.current=Wx({window:c,v5Compat:!0}));let d=o.current,[h,g]=b.useState({action:d.action,location:d.location}),v=b.useCallback(m=>{b.startTransition(()=>g(m))},[g]);return b.useLayoutEffect(()=>d.listen(v),[d,v]),b.createElement($v,{basename:l,children:i,location:h.location,navigationType:h.action,navigator:d})}var Hm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,et=b.forwardRef(function({onClick:i,discover:c="render",prefetch:o="none",relative:d,reloadDocument:h,replace:g,state:v,target:m,to:f,preventScrollReset:p,viewTransition:N,...j},C){let{basename:y}=b.useContext(aa),E=typeof f=="string"&&Hm.test(f),k,O=!1;if(typeof f=="string"&&E&&(k=f,Fm))try{let re=new URL(window.location.href),ge=f.startsWith("//")?new URL(re.protocol+f):new URL(f),se=Ma(ge.pathname,y);ge.origin===re.origin&&se!=null?f=se+ge.search+ge.hash:O=!0}catch{It(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=wv(f,{relative:d}),[R,M,S]=oy(o,j),B=vy(f,{replace:g,state:v,target:m,preventScrollReset:p,relative:d,viewTransition:N});function Z(re){i&&i(re),re.defaultPrevented||B(re)}let ee=b.createElement("a",{...j,...S,href:k||U,onClick:O||h?i:Z,ref:hy(C,M),target:m,"data-discover":!E&&c==="render"?"true":void 0});return R&&!E?b.createElement(b.Fragment,null,ee,b.createElement(uy,{page:U})):ee});et.displayName="Link";var py=b.forwardRef(function({"aria-current":i="page",caseSensitive:c=!1,className:o="",end:d=!1,style:h,to:g,viewTransition:v,children:m,...f},p){let N=Al(g,{relative:f.relative}),j=na(),C=b.useContext(nr),{navigator:y,basename:E}=b.useContext(aa),k=C!=null&&Sy(N)&&v===!0,O=y.encodeLocation?y.encodeLocation(N).pathname:N.pathname,U=j.pathname,R=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;c||(U=U.toLowerCase(),R=R?R.toLowerCase():null,O=O.toLowerCase()),R&&E&&(R=Ma(R,E)||R);const M=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let S=U===O||!d&&U.startsWith(O)&&U.charAt(M)==="/",B=R!=null&&(R===O||!d&&R.startsWith(O)&&R.charAt(O.length)==="/"),Z={isActive:S,isPending:B,isTransitioning:k},ee=S?i:void 0,re;typeof o=="function"?re=o(Z):re=[o,S?"active":null,B?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let ge=typeof h=="function"?h(Z):h;return b.createElement(et,{...f,"aria-current":ee,className:re,ref:p,style:ge,to:g,viewTransition:v},typeof m=="function"?m(Z):m)});py.displayName="NavLink";var gy=b.forwardRef(({discover:l="render",fetcherKey:i,navigate:c,reloadDocument:o,replace:d,state:h,method:g=Zi,action:v,onSubmit:m,relative:f,preventScrollReset:p,viewTransition:N,...j},C)=>{let y=by(),E=_y(v,{relative:f}),k=g.toLowerCase()==="get"?"get":"post",O=typeof v=="string"&&Hm.test(v),U=R=>{if(m&&m(R),R.defaultPrevented)return;R.preventDefault();let M=R.nativeEvent.submitter,S=M?.getAttribute("formmethod")||g;y(M||R.currentTarget,{fetcherKey:i,method:S,navigate:c,replace:d,state:h,relative:f,preventScrollReset:p,viewTransition:N})};return b.createElement("form",{ref:C,method:k,action:E,onSubmit:o?m:U,...j,"data-discover":!O&&l==="render"?"true":void 0})});gy.displayName="Form";function xy(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $m(l){let i=b.useContext(Nn);return Xe(i,xy(l)),i}function vy(l,{target:i,replace:c,state:o,preventScrollReset:d,relative:h,viewTransition:g}={}){let v=pa(),m=na(),f=Al(l,{relative:h});return b.useCallback(p=>{if(Xv(p,i)){p.preventDefault();let N=c!==void 0?c:wl(m)===wl(f);v(l,{replace:N,state:o,preventScrollReset:d,relative:h,viewTransition:g})}},[m,v,f,c,o,i,l,d,h,g])}function yy(l){It(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let i=b.useRef($o(l)),c=b.useRef(!1),o=na(),d=b.useMemo(()=>Zv(o.search,c.current?null:i.current),[o.search]),h=pa(),g=b.useCallback((v,m)=>{const f=$o(typeof v=="function"?v(d):v);c.current=!0,h("?"+f,m)},[h,d]);return[d,g]}var jy=0,Ny=()=>`__${String(++jy)}__`;function by(){let{router:l}=$m("useSubmit"),{basename:i}=b.useContext(aa),c=qv();return b.useCallback(async(o,d={})=>{let{action:h,method:g,encType:v,formData:m,body:f}=Iv(o,i);if(d.navigate===!1){let p=d.fetcherKey||Ny();await l.fetch(p,c,d.action||h,{preventScrollReset:d.preventScrollReset,formData:m,body:f,formMethod:d.method||g,formEncType:d.encType||v,flushSync:d.flushSync})}else await l.navigate(d.action||h,{preventScrollReset:d.preventScrollReset,formData:m,body:f,formMethod:d.method||g,formEncType:d.encType||v,replace:d.replace,state:d.state,fromRouteId:c,flushSync:d.flushSync,viewTransition:d.viewTransition})},[l,i,c])}function _y(l,{relative:i}={}){let{basename:c}=b.useContext(aa),o=b.useContext(sa);Xe(o,"useFormAction must be used inside a RouteContext");let[d]=o.matches.slice(-1),h={...Al(l||".",{relative:i})},g=na();if(l==null){h.search=g.search;let v=new URLSearchParams(h.search),m=v.getAll("index");if(m.some(p=>p==="")){v.delete("index"),m.filter(N=>N).forEach(N=>v.append("index",N));let p=v.toString();h.search=p?`?${p}`:""}}return(!l||l===".")&&d.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),c!=="/"&&(h.pathname=h.pathname==="/"?c:Oa([c,h.pathname])),wl(h)}function Sy(l,i={}){let c=b.useContext(Om);Xe(c!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=$m("useViewTransitionState"),d=Al(l,{relative:i.relative});if(!c.isTransitioning)return!1;let h=Ma(c.currentLocation.pathname,o)||c.currentLocation.pathname,g=Ma(c.nextLocation.pathname,o)||c.nextLocation.pathname;return er(d.pathname,g)!=null||er(d.pathname,h)!=null}[...iy];class me{static TOKEN_KEY="authToken";static USER_KEY="user";static AUTH_KEY="isAuthenticated";static LOGIN_TIME_KEY="loginTime";static setAuthData(i,c){try{return localStorage.setItem(this.TOKEN_KEY,i),localStorage.setItem(this.USER_KEY,JSON.stringify(c)),localStorage.setItem(this.AUTH_KEY,"true"),localStorage.setItem(this.LOGIN_TIME_KEY,new Date().toISOString()),console.log(" Auth data stored successfully"),!0}catch(o){return console.error(" Failed to store auth data:",o),!1}}static getToken(){try{return localStorage.getItem(this.TOKEN_KEY)}catch(i){return console.error("Error getting token:",i),null}}static getUser(){try{const i=localStorage.getItem(this.USER_KEY);return i?JSON.parse(i):null}catch(i){return console.error("Error getting user data:",i),null}}static isAuthenticated(){try{const i=!!this.getToken(),c=localStorage.getItem(this.AUTH_KEY)==="true",o=!!this.getUser();return i&&c&&o&&!this.isTokenExpired()}catch(i){return console.error("Error checking authentication:",i),!1}}static isTokenExpired(){try{const i=localStorage.getItem(this.LOGIN_TIME_KEY);if(!i)return!0;const c=new Date(i);return(new Date-c)/(1e3*60*60)>24}catch(i){return console.error("Error checking token expiration:",i),!0}}static getUserRole(){try{const i=this.getUser();return i?i.primary_role?i.primary_role:i.roles&&i.roles.length>0?i.roles.find(o=>o.role==="organizer")?"organizer":i.roles[0].role:"attendee":null}catch(i){return console.error("Error getting user role:",i),null}}static hasRole(i){try{const c=this.getUser();return c?c.primary_role===i?!0:c.roles&&c.roles.length>0?c.roles.some(o=>o.role===i):!1:!1}catch(c){return console.error("Error checking user role:",c),!1}}static getDashboardRoute(){switch(this.getUserRole()){case"organizer":return"/organizer-dashboard";case"attendee":return"/attendee-dashboard";case"admin":return"/admin-dashboard";default:return"/attendee-dashboard"}}static getAuthHeader(){const i=this.getToken();return i?{Authorization:`Bearer ${i}`}:{}}static getOrganizerId(){try{const i=this.getUser();if(!i)return null;if(i.roles&&Array.isArray(i.roles)){const c=i.roles.find(o=>o.role==="organizer");if(c&&c.organizer_id)return c.organizer_id}return i.organizer_id||null}catch(i){return console.error("Error getting organizer ID:",i),null}}static clearAuthData(){try{return localStorage.removeItem(this.TOKEN_KEY),localStorage.removeItem(this.USER_KEY),localStorage.removeItem(this.AUTH_KEY),localStorage.removeItem(this.LOGIN_TIME_KEY),console.log(" Auth data cleared successfully"),!0}catch(i){return console.error(" Failed to clear auth data:",i),!1}}static logout(i=null){this.clearAuthData(),i?i("/login",{replace:!0}):window.location.href="/login"}static async refreshUserData(i){try{if(!this.getToken())return!1;const o=await i({headers:this.getAuthHeader()});return o.data&&o.data.user?(localStorage.setItem(this.USER_KEY,JSON.stringify(o.data.user)),!0):!1}catch(c){return console.error("Error refreshing user data:",c),!1}}static checkAndHandleExpiration(i=null){return this.isAuthenticated()&&this.isTokenExpired()?(console.log(" Token expired, logging out..."),this.logout(i),!0):!1}static getUserDisplayName(){try{const i=this.getUser();if(!i)return"User";if(i.roles&&i.roles.length>0){const c=i.roles[0];if(c.full_name)return c.full_name}return i.email?i.email.split("@")[0]:"User"}catch(i){return console.error("Error getting user display name:",i),"User"}}static getAuthSummary(){return{isAuthenticated:this.isAuthenticated(),hasToken:!!this.getToken(),hasUser:!!this.getUser(),userRole:this.getUserRole(),isExpired:this.isTokenExpired(),loginTime:localStorage.getItem(this.LOGIN_TIME_KEY),userEmail:this.getUser()?.email,dashboardRoute:this.getDashboardRoute()}}}const ma=()=>{const[l,i]=b.useState(!1),[c,o]=b.useState(!1),[d,h]=b.useState(!1),[g,v]=b.useState(null),m=na(),f=pa();b.useEffect(()=>{const U=()=>{const M=me.isAuthenticated(),S=me.getUser();h(M),v(S)};U();const R=setInterval(U,1e3);return()=>clearInterval(R)},[m]),b.useEffect(()=>{const U=R=>{c&&!R.target.closest(".user-menu")&&o(!1)};return document.addEventListener("mousedown",U),()=>{document.removeEventListener("mousedown",U)}},[c]);const p=()=>{i(!l)},N=()=>{o(!c)},j=()=>{me.logout(f),o(!1)},C=()=>g?g.username?g.username:g.name?g.name:g.email?g.email.split("@")[0]:"User":"User",y=()=>g?g.primary_role||g.roles&&g.roles[0]?.role||"attendee":"",E=()=>me.getDashboardRoute(),k=()=>{const U=y(),R=[{to:"/",icon:"fas fa-home",text:"Home"},{to:"/eventslist",icon:"fas fa-calendar",text:"Events"}],M={admin:[{to:"/admin-dashboard",icon:"fas fa-tachometer-alt",text:"Dashboard"},{to:"/admin-dashboard",icon:"fas fa-users-cog",text:"User Management"},{to:"/admin-dashboard",icon:"fas fa-chart-bar",text:"Analytics"},{to:"/admin-dashboard",icon:"fas fa-cog",text:"System Settings"}],organizer:[{to:"/organizer-dashboard",icon:"fas fa-tachometer-alt",text:"Dashboard"}],attendee:[{to:"/attendee-dashboard",icon:"fas fa-tachometer-alt",text:"Dashboard"}]};return[...R,...M[U]||M.attendee]},O=m.pathname==="/eventdetails";return t.jsxs("header",{className:"header",children:[t.jsxs("div",{className:"logo",children:[t.jsx("i",{className:"fas fa-calendar-alt"}),"Eventify"]}),t.jsx("button",{className:"menu-toggle",onClick:p,children:t.jsx("i",{className:l?"fas fa-times":"fas fa-bars"})}),t.jsx("nav",{className:l?"active":"",children:d?k().map((U,R)=>t.jsxs(et,{to:U.to,className:"nav-link",children:[t.jsx("i",{className:U.icon}),U.text]},R)):t.jsxs(t.Fragment,{children:[t.jsxs(et,{to:"/",className:"nav-link",children:[t.jsx("i",{className:"fas fa-home"}),"Home"]}),t.jsxs(et,{to:"/eventslist",className:"nav-link",children:[t.jsx("i",{className:"fas fa-calendar"}),"Events"]})]})}),!O&&t.jsx("div",{className:"auth-section",children:d?t.jsxs("div",{className:"user-menu",children:[t.jsxs("button",{className:"user-profile-btn",onClick:N,"aria-expanded":c,children:[t.jsx("div",{className:"user-avatar",children:t.jsx("i",{className:"fas fa-user"})}),t.jsxs("div",{className:"user-info",children:[t.jsx("span",{className:"user-name",children:C()}),t.jsx("span",{className:"user-role",children:y()})]}),t.jsx("i",{className:`fas fa-chevron-down dropdown-arrow ${c?"open":""}`})]}),c&&t.jsxs("div",{className:"profile-dropdown",children:[t.jsxs("div",{className:"dropdown-header",children:[t.jsx("div",{className:"user-avatar-large",children:t.jsx("i",{className:"fas fa-user"})}),t.jsxs("div",{className:"user-details",children:[t.jsx("h4",{children:C()}),t.jsx("p",{children:g?.email}),t.jsx("span",{className:"role-badge",children:y()})]})]}),t.jsx("div",{className:"dropdown-divider"}),t.jsxs("div",{className:"dropdown-menu",children:[t.jsxs(et,{to:"/profile",className:"dropdown-item",onClick:()=>o(!1),children:[t.jsx("i",{className:"fas fa-user-edit"}),"My Profile"]}),t.jsxs(et,{to:E(),className:"dropdown-item",onClick:()=>o(!1),children:[t.jsx("i",{className:"fas fa-tachometer-alt"}),"Dashboard"]}),t.jsxs(et,{to:"/settings",className:"dropdown-item",onClick:()=>o(!1),children:[t.jsx("i",{className:"fas fa-cog"}),"Settings"]}),t.jsx("div",{className:"dropdown-divider"}),t.jsxs("button",{className:"dropdown-item logout-btn",onClick:j,children:[t.jsx("i",{className:"fas fa-sign-out-alt"}),"Logout"]})]})]})]}):t.jsxs("div",{className:"auth-buttons",children:[t.jsxs(et,{to:"/login",className:"login-btn-header",children:[t.jsx("i",{className:"fas fa-sign-in-alt"}),"Login"]}),t.jsxs(et,{to:"/signup",className:"signup-btn-header",children:[t.jsx("i",{className:"fas fa-user-plus"}),"Sign Up"]})]})})]})},Ey=()=>{const[l,i]=b.useState({days:45,hours:12,minutes:30,seconds:25});return b.useEffect(()=>{const c=setInterval(()=>{l.seconds>0?i({...l,seconds:l.seconds-1}):l.minutes>0?i({...l,minutes:l.minutes-1,seconds:59}):l.hours>0?i({...l,hours:l.hours-1,minutes:59,seconds:59}):l.days>0&&i({...l,days:l.days-1,hours:23,minutes:59,seconds:59})},1e3);return()=>clearInterval(c)},[l]),t.jsxs("div",{className:"hero-section",children:[t.jsxs("div",{className:"hero-background",children:[t.jsx("div",{className:"bg-circle circle-1"}),t.jsx("div",{className:"bg-circle circle-2"})]}),t.jsxs("div",{className:"hero-container",children:[t.jsxs("div",{className:"hero-left",children:[t.jsxs("div",{className:"hero-badge",children:[t.jsx("i",{className:"fas fa-star"}),"Innovation Summit 2025"]}),t.jsx("h1",{className:"hero-title",children:"Shape the Future of Business"}),t.jsx("p",{className:"hero-description",children:"Join industry leaders and innovators for the most impactful business summit of the year. Discover cutting-edge strategies and network with visionaries."}),t.jsxs("div",{className:"hero-buttons",children:[t.jsxs("button",{className:"btn-primary",children:[t.jsx("i",{className:"fas fa-ticket-alt"}),"Register Now"]}),t.jsxs("button",{className:"btn-secondary",children:[t.jsx("i",{className:"fas fa-play-circle"}),"Watch Preview"]})]})]}),t.jsxs("div",{className:"hero-right",children:[t.jsxs("div",{className:"event-card",children:[t.jsxs("div",{className:"event-header",children:[t.jsx("h3",{children:"Innovation Summit 2025"}),t.jsx("span",{className:"event-status",children:"Early Bird"})]}),t.jsxs("div",{className:"event-details",children:[t.jsxs("div",{className:"detail-item",children:[t.jsx("i",{className:"fas fa-calendar"}),t.jsx("span",{children:"March 15-17, 2025"})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("i",{className:"fas fa-map-marker-alt"}),t.jsx("span",{children:"Silicon Valley Convention Center"})]}),t.jsxs("div",{className:"detail-item",children:[t.jsx("i",{className:"fas fa-users"}),t.jsx("span",{children:"2,500+ Attendees"})]})]})]}),t.jsxs("div",{className:"countdown-card",children:[t.jsx("h4",{children:"Event Starts In"}),t.jsxs("div",{className:"countdown-grid",children:[t.jsxs("div",{className:"countdown-item",children:[t.jsx("span",{className:"countdown-number",children:l.days}),t.jsx("span",{className:"countdown-label",children:"Days"})]}),t.jsxs("div",{className:"countdown-item",children:[t.jsx("span",{className:"countdown-number",children:l.hours}),t.jsx("span",{className:"countdown-label",children:"Hours"})]}),t.jsxs("div",{className:"countdown-item",children:[t.jsx("span",{className:"countdown-number",children:l.minutes}),t.jsx("span",{className:"countdown-label",children:"Min"})]}),t.jsxs("div",{className:"countdown-item",children:[t.jsx("span",{className:"countdown-number",children:l.seconds}),t.jsx("span",{className:"countdown-label",children:"Sec"})]})]})]})]})]})]})};function Pm(l,i){return function(){return l.apply(i,arguments)}}const{toString:wy}=Object.prototype,{getPrototypeOf:iu}=Object,{iterator:ir,toStringTag:Ym}=Symbol,rr=(l=>i=>{const c=wy.call(i);return l[c]||(l[c]=c.slice(8,-1).toLowerCase())})(Object.create(null)),la=l=>(l=l.toLowerCase(),i=>rr(i)===l),cr=l=>i=>typeof i===l,{isArray:_n}=Array,kl=cr("undefined");function ky(l){return l!==null&&!kl(l)&&l.constructor!==null&&!kl(l.constructor)&&Dt(l.constructor.isBuffer)&&l.constructor.isBuffer(l)}const Gm=la("ArrayBuffer");function Cy(l){let i;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?i=ArrayBuffer.isView(l):i=l&&l.buffer&&Gm(l.buffer),i}const Ty=cr("string"),Dt=cr("function"),Qm=cr("number"),or=l=>l!==null&&typeof l=="object",Ry=l=>l===!0||l===!1,Ji=l=>{if(rr(l)!=="object")return!1;const i=iu(l);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Ym in l)&&!(ir in l)},Ay=la("Date"),Dy=la("File"),Oy=la("Blob"),My=la("FileList"),Uy=l=>or(l)&&Dt(l.pipe),zy=l=>{let i;return l&&(typeof FormData=="function"&&l instanceof FormData||Dt(l.append)&&((i=rr(l))==="formdata"||i==="object"&&Dt(l.toString)&&l.toString()==="[object FormData]"))},Ly=la("URLSearchParams"),[qy,By,Fy,Hy]=["ReadableStream","Request","Response","Headers"].map(la),$y=l=>l.trim?l.trim():l.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Dl(l,i,{allOwnKeys:c=!1}={}){if(l===null||typeof l>"u")return;let o,d;if(typeof l!="object"&&(l=[l]),_n(l))for(o=0,d=l.length;o<d;o++)i.call(null,l[o],o,l);else{const h=c?Object.getOwnPropertyNames(l):Object.keys(l),g=h.length;let v;for(o=0;o<g;o++)v=h[o],i.call(null,l[v],v,l)}}function Vm(l,i){i=i.toLowerCase();const c=Object.keys(l);let o=c.length,d;for(;o-- >0;)if(d=c[o],i===d.toLowerCase())return d;return null}const ws=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Xm=l=>!kl(l)&&l!==ws;function Po(){const{caseless:l}=Xm(this)&&this||{},i={},c=(o,d)=>{const h=l&&Vm(i,d)||d;Ji(i[h])&&Ji(o)?i[h]=Po(i[h],o):Ji(o)?i[h]=Po({},o):_n(o)?i[h]=o.slice():i[h]=o};for(let o=0,d=arguments.length;o<d;o++)arguments[o]&&Dl(arguments[o],c);return i}const Py=(l,i,c,{allOwnKeys:o}={})=>(Dl(i,(d,h)=>{c&&Dt(d)?l[h]=Pm(d,c):l[h]=d},{allOwnKeys:o}),l),Yy=l=>(l.charCodeAt(0)===65279&&(l=l.slice(1)),l),Gy=(l,i,c,o)=>{l.prototype=Object.create(i.prototype,o),l.prototype.constructor=l,Object.defineProperty(l,"super",{value:i.prototype}),c&&Object.assign(l.prototype,c)},Qy=(l,i,c,o)=>{let d,h,g;const v={};if(i=i||{},l==null)return i;do{for(d=Object.getOwnPropertyNames(l),h=d.length;h-- >0;)g=d[h],(!o||o(g,l,i))&&!v[g]&&(i[g]=l[g],v[g]=!0);l=c!==!1&&iu(l)}while(l&&(!c||c(l,i))&&l!==Object.prototype);return i},Vy=(l,i,c)=>{l=String(l),(c===void 0||c>l.length)&&(c=l.length),c-=i.length;const o=l.indexOf(i,c);return o!==-1&&o===c},Xy=l=>{if(!l)return null;if(_n(l))return l;let i=l.length;if(!Qm(i))return null;const c=new Array(i);for(;i-- >0;)c[i]=l[i];return c},Zy=(l=>i=>l&&i instanceof l)(typeof Uint8Array<"u"&&iu(Uint8Array)),Ky=(l,i)=>{const o=(l&&l[ir]).call(l);let d;for(;(d=o.next())&&!d.done;){const h=d.value;i.call(l,h[0],h[1])}},Jy=(l,i)=>{let c;const o=[];for(;(c=l.exec(i))!==null;)o.push(c);return o},Iy=la("HTMLFormElement"),Wy=l=>l.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(c,o,d){return o.toUpperCase()+d}),hm=(({hasOwnProperty:l})=>(i,c)=>l.call(i,c))(Object.prototype),ej=la("RegExp"),Zm=(l,i)=>{const c=Object.getOwnPropertyDescriptors(l),o={};Dl(c,(d,h)=>{let g;(g=i(d,h,l))!==!1&&(o[h]=g||d)}),Object.defineProperties(l,o)},tj=l=>{Zm(l,(i,c)=>{if(Dt(l)&&["arguments","caller","callee"].indexOf(c)!==-1)return!1;const o=l[c];if(Dt(o)){if(i.enumerable=!1,"writable"in i){i.writable=!1;return}i.set||(i.set=()=>{throw Error("Can not rewrite read-only method '"+c+"'")})}})},aj=(l,i)=>{const c={},o=d=>{d.forEach(h=>{c[h]=!0})};return _n(l)?o(l):o(String(l).split(i)),c},sj=()=>{},nj=(l,i)=>l!=null&&Number.isFinite(l=+l)?l:i;function lj(l){return!!(l&&Dt(l.append)&&l[Ym]==="FormData"&&l[ir])}const ij=l=>{const i=new Array(10),c=(o,d)=>{if(or(o)){if(i.indexOf(o)>=0)return;if(!("toJSON"in o)){i[d]=o;const h=_n(o)?[]:{};return Dl(o,(g,v)=>{const m=c(g,d+1);!kl(m)&&(h[v]=m)}),i[d]=void 0,h}}return o};return c(l,0)},rj=la("AsyncFunction"),cj=l=>l&&(or(l)||Dt(l))&&Dt(l.then)&&Dt(l.catch),Km=((l,i)=>l?setImmediate:i?((c,o)=>(ws.addEventListener("message",({source:d,data:h})=>{d===ws&&h===c&&o.length&&o.shift()()},!1),d=>{o.push(d),ws.postMessage(c,"*")}))(`axios@${Math.random()}`,[]):c=>setTimeout(c))(typeof setImmediate=="function",Dt(ws.postMessage)),oj=typeof queueMicrotask<"u"?queueMicrotask.bind(ws):typeof process<"u"&&process.nextTick||Km,uj=l=>l!=null&&Dt(l[ir]),G={isArray:_n,isArrayBuffer:Gm,isBuffer:ky,isFormData:zy,isArrayBufferView:Cy,isString:Ty,isNumber:Qm,isBoolean:Ry,isObject:or,isPlainObject:Ji,isReadableStream:qy,isRequest:By,isResponse:Fy,isHeaders:Hy,isUndefined:kl,isDate:Ay,isFile:Dy,isBlob:Oy,isRegExp:ej,isFunction:Dt,isStream:Uy,isURLSearchParams:Ly,isTypedArray:Zy,isFileList:My,forEach:Dl,merge:Po,extend:Py,trim:$y,stripBOM:Yy,inherits:Gy,toFlatObject:Qy,kindOf:rr,kindOfTest:la,endsWith:Vy,toArray:Xy,forEachEntry:Ky,matchAll:Jy,isHTMLForm:Iy,hasOwnProperty:hm,hasOwnProp:hm,reduceDescriptors:Zm,freezeMethods:tj,toObjectSet:aj,toCamelCase:Wy,noop:sj,toFiniteNumber:nj,findKey:Vm,global:ws,isContextDefined:Xm,isSpecCompliantForm:lj,toJSONObject:ij,isAsyncFn:rj,isThenable:cj,setImmediate:Km,asap:oj,isIterable:uj};function Ee(l,i,c,o,d){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=l,this.name="AxiosError",i&&(this.code=i),c&&(this.config=c),o&&(this.request=o),d&&(this.response=d,this.status=d.status?d.status:null)}G.inherits(Ee,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}});const Jm=Ee.prototype,Im={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(l=>{Im[l]={value:l}});Object.defineProperties(Ee,Im);Object.defineProperty(Jm,"isAxiosError",{value:!0});Ee.from=(l,i,c,o,d,h)=>{const g=Object.create(Jm);return G.toFlatObject(l,g,function(m){return m!==Error.prototype},v=>v!=="isAxiosError"),Ee.call(g,l.message,i,c,o,d),g.cause=l,g.name=l.name,h&&Object.assign(g,h),g};const dj=null;function Yo(l){return G.isPlainObject(l)||G.isArray(l)}function Wm(l){return G.endsWith(l,"[]")?l.slice(0,-2):l}function mm(l,i,c){return l?l.concat(i).map(function(d,h){return d=Wm(d),!c&&h?"["+d+"]":d}).join(c?".":""):i}function fj(l){return G.isArray(l)&&!l.some(Yo)}const hj=G.toFlatObject(G,{},null,function(i){return/^is[A-Z]/.test(i)});function ur(l,i,c){if(!G.isObject(l))throw new TypeError("target must be an object");i=i||new FormData,c=G.toFlatObject(c,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,k){return!G.isUndefined(k[E])});const o=c.metaTokens,d=c.visitor||p,h=c.dots,g=c.indexes,m=(c.Blob||typeof Blob<"u"&&Blob)&&G.isSpecCompliantForm(i);if(!G.isFunction(d))throw new TypeError("visitor must be a function");function f(y){if(y===null)return"";if(G.isDate(y))return y.toISOString();if(G.isBoolean(y))return y.toString();if(!m&&G.isBlob(y))throw new Ee("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(y)||G.isTypedArray(y)?m&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function p(y,E,k){let O=y;if(y&&!k&&typeof y=="object"){if(G.endsWith(E,"{}"))E=o?E:E.slice(0,-2),y=JSON.stringify(y);else if(G.isArray(y)&&fj(y)||(G.isFileList(y)||G.endsWith(E,"[]"))&&(O=G.toArray(y)))return E=Wm(E),O.forEach(function(R,M){!(G.isUndefined(R)||R===null)&&i.append(g===!0?mm([E],M,h):g===null?E:E+"[]",f(R))}),!1}return Yo(y)?!0:(i.append(mm(k,E,h),f(y)),!1)}const N=[],j=Object.assign(hj,{defaultVisitor:p,convertValue:f,isVisitable:Yo});function C(y,E){if(!G.isUndefined(y)){if(N.indexOf(y)!==-1)throw Error("Circular reference detected in "+E.join("."));N.push(y),G.forEach(y,function(O,U){(!(G.isUndefined(O)||O===null)&&d.call(i,O,G.isString(U)?U.trim():U,E,j))===!0&&C(O,E?E.concat(U):[U])}),N.pop()}}if(!G.isObject(l))throw new TypeError("data must be an object");return C(l),i}function pm(l){const i={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(l).replace(/[!'()~]|%20|%00/g,function(o){return i[o]})}function ru(l,i){this._pairs=[],l&&ur(l,this,i)}const ep=ru.prototype;ep.append=function(i,c){this._pairs.push([i,c])};ep.toString=function(i){const c=i?function(o){return i.call(this,o,pm)}:pm;return this._pairs.map(function(d){return c(d[0])+"="+c(d[1])},"").join("&")};function mj(l){return encodeURIComponent(l).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function tp(l,i,c){if(!i)return l;const o=c&&c.encode||mj;G.isFunction(c)&&(c={serialize:c});const d=c&&c.serialize;let h;if(d?h=d(i,c):h=G.isURLSearchParams(i)?i.toString():new ru(i,c).toString(o),h){const g=l.indexOf("#");g!==-1&&(l=l.slice(0,g)),l+=(l.indexOf("?")===-1?"?":"&")+h}return l}class gm{constructor(){this.handlers=[]}use(i,c,o){return this.handlers.push({fulfilled:i,rejected:c,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(i){this.handlers[i]&&(this.handlers[i]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(i){G.forEach(this.handlers,function(o){o!==null&&i(o)})}}const ap={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},pj=typeof URLSearchParams<"u"?URLSearchParams:ru,gj=typeof FormData<"u"?FormData:null,xj=typeof Blob<"u"?Blob:null,vj={isBrowser:!0,classes:{URLSearchParams:pj,FormData:gj,Blob:xj},protocols:["http","https","file","blob","url","data"]},cu=typeof window<"u"&&typeof document<"u",Go=typeof navigator=="object"&&navigator||void 0,yj=cu&&(!Go||["ReactNative","NativeScript","NS"].indexOf(Go.product)<0),jj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Nj=cu&&window.location.href||"http://localhost",bj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:cu,hasStandardBrowserEnv:yj,hasStandardBrowserWebWorkerEnv:jj,navigator:Go,origin:Nj},Symbol.toStringTag,{value:"Module"})),bt={...bj,...vj};function _j(l,i){return ur(l,new bt.classes.URLSearchParams,Object.assign({visitor:function(c,o,d,h){return bt.isNode&&G.isBuffer(c)?(this.append(o,c.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)}},i))}function Sj(l){return G.matchAll(/\w+|\[(\w*)]/g,l).map(i=>i[0]==="[]"?"":i[1]||i[0])}function Ej(l){const i={},c=Object.keys(l);let o;const d=c.length;let h;for(o=0;o<d;o++)h=c[o],i[h]=l[h];return i}function sp(l){function i(c,o,d,h){let g=c[h++];if(g==="__proto__")return!0;const v=Number.isFinite(+g),m=h>=c.length;return g=!g&&G.isArray(d)?d.length:g,m?(G.hasOwnProp(d,g)?d[g]=[d[g],o]:d[g]=o,!v):((!d[g]||!G.isObject(d[g]))&&(d[g]=[]),i(c,o,d[g],h)&&G.isArray(d[g])&&(d[g]=Ej(d[g])),!v)}if(G.isFormData(l)&&G.isFunction(l.entries)){const c={};return G.forEachEntry(l,(o,d)=>{i(Sj(o),d,c,0)}),c}return null}function wj(l,i,c){if(G.isString(l))try{return(i||JSON.parse)(l),G.trim(l)}catch(o){if(o.name!=="SyntaxError")throw o}return(c||JSON.stringify)(l)}const Ol={transitional:ap,adapter:["xhr","http","fetch"],transformRequest:[function(i,c){const o=c.getContentType()||"",d=o.indexOf("application/json")>-1,h=G.isObject(i);if(h&&G.isHTMLForm(i)&&(i=new FormData(i)),G.isFormData(i))return d?JSON.stringify(sp(i)):i;if(G.isArrayBuffer(i)||G.isBuffer(i)||G.isStream(i)||G.isFile(i)||G.isBlob(i)||G.isReadableStream(i))return i;if(G.isArrayBufferView(i))return i.buffer;if(G.isURLSearchParams(i))return c.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),i.toString();let v;if(h){if(o.indexOf("application/x-www-form-urlencoded")>-1)return _j(i,this.formSerializer).toString();if((v=G.isFileList(i))||o.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return ur(v?{"files[]":i}:i,m&&new m,this.formSerializer)}}return h||d?(c.setContentType("application/json",!1),wj(i)):i}],transformResponse:[function(i){const c=this.transitional||Ol.transitional,o=c&&c.forcedJSONParsing,d=this.responseType==="json";if(G.isResponse(i)||G.isReadableStream(i))return i;if(i&&G.isString(i)&&(o&&!this.responseType||d)){const g=!(c&&c.silentJSONParsing)&&d;try{return JSON.parse(i)}catch(v){if(g)throw v.name==="SyntaxError"?Ee.from(v,Ee.ERR_BAD_RESPONSE,this,null,this.response):v}}return i}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:bt.classes.FormData,Blob:bt.classes.Blob},validateStatus:function(i){return i>=200&&i<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],l=>{Ol.headers[l]={}});const kj=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Cj=l=>{const i={};let c,o,d;return l&&l.split(`
`).forEach(function(g){d=g.indexOf(":"),c=g.substring(0,d).trim().toLowerCase(),o=g.substring(d+1).trim(),!(!c||i[c]&&kj[c])&&(c==="set-cookie"?i[c]?i[c].push(o):i[c]=[o]:i[c]=i[c]?i[c]+", "+o:o)}),i},xm=Symbol("internals");function Sl(l){return l&&String(l).trim().toLowerCase()}function Ii(l){return l===!1||l==null?l:G.isArray(l)?l.map(Ii):String(l)}function Tj(l){const i=Object.create(null),c=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=c.exec(l);)i[o[1]]=o[2];return i}const Rj=l=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(l.trim());function Uo(l,i,c,o,d){if(G.isFunction(o))return o.call(this,i,c);if(d&&(i=c),!!G.isString(i)){if(G.isString(o))return i.indexOf(o)!==-1;if(G.isRegExp(o))return o.test(i)}}function Aj(l){return l.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(i,c,o)=>c.toUpperCase()+o)}function Dj(l,i){const c=G.toCamelCase(" "+i);["get","set","has"].forEach(o=>{Object.defineProperty(l,o+c,{value:function(d,h,g){return this[o].call(this,i,d,h,g)},configurable:!0})})}let Ot=class{constructor(i){i&&this.set(i)}set(i,c,o){const d=this;function h(v,m,f){const p=Sl(m);if(!p)throw new Error("header name must be a non-empty string");const N=G.findKey(d,p);(!N||d[N]===void 0||f===!0||f===void 0&&d[N]!==!1)&&(d[N||m]=Ii(v))}const g=(v,m)=>G.forEach(v,(f,p)=>h(f,p,m));if(G.isPlainObject(i)||i instanceof this.constructor)g(i,c);else if(G.isString(i)&&(i=i.trim())&&!Rj(i))g(Cj(i),c);else if(G.isObject(i)&&G.isIterable(i)){let v={},m,f;for(const p of i){if(!G.isArray(p))throw TypeError("Object iterator must return a key-value pair");v[f=p[0]]=(m=v[f])?G.isArray(m)?[...m,p[1]]:[m,p[1]]:p[1]}g(v,c)}else i!=null&&h(c,i,o);return this}get(i,c){if(i=Sl(i),i){const o=G.findKey(this,i);if(o){const d=this[o];if(!c)return d;if(c===!0)return Tj(d);if(G.isFunction(c))return c.call(this,d,o);if(G.isRegExp(c))return c.exec(d);throw new TypeError("parser must be boolean|regexp|function")}}}has(i,c){if(i=Sl(i),i){const o=G.findKey(this,i);return!!(o&&this[o]!==void 0&&(!c||Uo(this,this[o],o,c)))}return!1}delete(i,c){const o=this;let d=!1;function h(g){if(g=Sl(g),g){const v=G.findKey(o,g);v&&(!c||Uo(o,o[v],v,c))&&(delete o[v],d=!0)}}return G.isArray(i)?i.forEach(h):h(i),d}clear(i){const c=Object.keys(this);let o=c.length,d=!1;for(;o--;){const h=c[o];(!i||Uo(this,this[h],h,i,!0))&&(delete this[h],d=!0)}return d}normalize(i){const c=this,o={};return G.forEach(this,(d,h)=>{const g=G.findKey(o,h);if(g){c[g]=Ii(d),delete c[h];return}const v=i?Aj(h):String(h).trim();v!==h&&delete c[h],c[v]=Ii(d),o[v]=!0}),this}concat(...i){return this.constructor.concat(this,...i)}toJSON(i){const c=Object.create(null);return G.forEach(this,(o,d)=>{o!=null&&o!==!1&&(c[d]=i&&G.isArray(o)?o.join(", "):o)}),c}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([i,c])=>i+": "+c).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(i){return i instanceof this?i:new this(i)}static concat(i,...c){const o=new this(i);return c.forEach(d=>o.set(d)),o}static accessor(i){const o=(this[xm]=this[xm]={accessors:{}}).accessors,d=this.prototype;function h(g){const v=Sl(g);o[v]||(Dj(d,g),o[v]=!0)}return G.isArray(i)?i.forEach(h):h(i),this}};Ot.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);G.reduceDescriptors(Ot.prototype,({value:l},i)=>{let c=i[0].toUpperCase()+i.slice(1);return{get:()=>l,set(o){this[c]=o}}});G.freezeMethods(Ot);function zo(l,i){const c=this||Ol,o=i||c,d=Ot.from(o.headers);let h=o.data;return G.forEach(l,function(v){h=v.call(c,h,d.normalize(),i?i.status:void 0)}),d.normalize(),h}function np(l){return!!(l&&l.__CANCEL__)}function Sn(l,i,c){Ee.call(this,l??"canceled",Ee.ERR_CANCELED,i,c),this.name="CanceledError"}G.inherits(Sn,Ee,{__CANCEL__:!0});function lp(l,i,c){const o=c.config.validateStatus;!c.status||!o||o(c.status)?l(c):i(new Ee("Request failed with status code "+c.status,[Ee.ERR_BAD_REQUEST,Ee.ERR_BAD_RESPONSE][Math.floor(c.status/100)-4],c.config,c.request,c))}function Oj(l){const i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(l);return i&&i[1]||""}function Mj(l,i){l=l||10;const c=new Array(l),o=new Array(l);let d=0,h=0,g;return i=i!==void 0?i:1e3,function(m){const f=Date.now(),p=o[h];g||(g=f),c[d]=m,o[d]=f;let N=h,j=0;for(;N!==d;)j+=c[N++],N=N%l;if(d=(d+1)%l,d===h&&(h=(h+1)%l),f-g<i)return;const C=p&&f-p;return C?Math.round(j*1e3/C):void 0}}function Uj(l,i){let c=0,o=1e3/i,d,h;const g=(f,p=Date.now())=>{c=p,d=null,h&&(clearTimeout(h),h=null),l.apply(null,f)};return[(...f)=>{const p=Date.now(),N=p-c;N>=o?g(f,p):(d=f,h||(h=setTimeout(()=>{h=null,g(d)},o-N)))},()=>d&&g(d)]}const tr=(l,i,c=3)=>{let o=0;const d=Mj(50,250);return Uj(h=>{const g=h.loaded,v=h.lengthComputable?h.total:void 0,m=g-o,f=d(m),p=g<=v;o=g;const N={loaded:g,total:v,progress:v?g/v:void 0,bytes:m,rate:f||void 0,estimated:f&&v&&p?(v-g)/f:void 0,event:h,lengthComputable:v!=null,[i?"download":"upload"]:!0};l(N)},c)},vm=(l,i)=>{const c=l!=null;return[o=>i[0]({lengthComputable:c,total:l,loaded:o}),i[1]]},ym=l=>(...i)=>G.asap(()=>l(...i)),zj=bt.hasStandardBrowserEnv?((l,i)=>c=>(c=new URL(c,bt.origin),l.protocol===c.protocol&&l.host===c.host&&(i||l.port===c.port)))(new URL(bt.origin),bt.navigator&&/(msie|trident)/i.test(bt.navigator.userAgent)):()=>!0,Lj=bt.hasStandardBrowserEnv?{write(l,i,c,o,d,h){const g=[l+"="+encodeURIComponent(i)];G.isNumber(c)&&g.push("expires="+new Date(c).toGMTString()),G.isString(o)&&g.push("path="+o),G.isString(d)&&g.push("domain="+d),h===!0&&g.push("secure"),document.cookie=g.join("; ")},read(l){const i=document.cookie.match(new RegExp("(^|;\\s*)("+l+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove(l){this.write(l,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function qj(l){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(l)}function Bj(l,i){return i?l.replace(/\/?\/$/,"")+"/"+i.replace(/^\/+/,""):l}function ip(l,i,c){let o=!qj(i);return l&&(o||c==!1)?Bj(l,i):i}const jm=l=>l instanceof Ot?{...l}:l;function Cs(l,i){i=i||{};const c={};function o(f,p,N,j){return G.isPlainObject(f)&&G.isPlainObject(p)?G.merge.call({caseless:j},f,p):G.isPlainObject(p)?G.merge({},p):G.isArray(p)?p.slice():p}function d(f,p,N,j){if(G.isUndefined(p)){if(!G.isUndefined(f))return o(void 0,f,N,j)}else return o(f,p,N,j)}function h(f,p){if(!G.isUndefined(p))return o(void 0,p)}function g(f,p){if(G.isUndefined(p)){if(!G.isUndefined(f))return o(void 0,f)}else return o(void 0,p)}function v(f,p,N){if(N in i)return o(f,p);if(N in l)return o(void 0,f)}const m={url:h,method:h,data:h,baseURL:g,transformRequest:g,transformResponse:g,paramsSerializer:g,timeout:g,timeoutMessage:g,withCredentials:g,withXSRFToken:g,adapter:g,responseType:g,xsrfCookieName:g,xsrfHeaderName:g,onUploadProgress:g,onDownloadProgress:g,decompress:g,maxContentLength:g,maxBodyLength:g,beforeRedirect:g,transport:g,httpAgent:g,httpsAgent:g,cancelToken:g,socketPath:g,responseEncoding:g,validateStatus:v,headers:(f,p,N)=>d(jm(f),jm(p),N,!0)};return G.forEach(Object.keys(Object.assign({},l,i)),function(p){const N=m[p]||d,j=N(l[p],i[p],p);G.isUndefined(j)&&N!==v||(c[p]=j)}),c}const rp=l=>{const i=Cs({},l);let{data:c,withXSRFToken:o,xsrfHeaderName:d,xsrfCookieName:h,headers:g,auth:v}=i;i.headers=g=Ot.from(g),i.url=tp(ip(i.baseURL,i.url,i.allowAbsoluteUrls),l.params,l.paramsSerializer),v&&g.set("Authorization","Basic "+btoa((v.username||"")+":"+(v.password?unescape(encodeURIComponent(v.password)):"")));let m;if(G.isFormData(c)){if(bt.hasStandardBrowserEnv||bt.hasStandardBrowserWebWorkerEnv)g.setContentType(void 0);else if((m=g.getContentType())!==!1){const[f,...p]=m?m.split(";").map(N=>N.trim()).filter(Boolean):[];g.setContentType([f||"multipart/form-data",...p].join("; "))}}if(bt.hasStandardBrowserEnv&&(o&&G.isFunction(o)&&(o=o(i)),o||o!==!1&&zj(i.url))){const f=d&&h&&Lj.read(h);f&&g.set(d,f)}return i},Fj=typeof XMLHttpRequest<"u",Hj=Fj&&function(l){return new Promise(function(c,o){const d=rp(l);let h=d.data;const g=Ot.from(d.headers).normalize();let{responseType:v,onUploadProgress:m,onDownloadProgress:f}=d,p,N,j,C,y;function E(){C&&C(),y&&y(),d.cancelToken&&d.cancelToken.unsubscribe(p),d.signal&&d.signal.removeEventListener("abort",p)}let k=new XMLHttpRequest;k.open(d.method.toUpperCase(),d.url,!0),k.timeout=d.timeout;function O(){if(!k)return;const R=Ot.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),S={data:!v||v==="text"||v==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:R,config:l,request:k};lp(function(Z){c(Z),E()},function(Z){o(Z),E()},S),k=null}"onloadend"in k?k.onloadend=O:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(O)},k.onabort=function(){k&&(o(new Ee("Request aborted",Ee.ECONNABORTED,l,k)),k=null)},k.onerror=function(){o(new Ee("Network Error",Ee.ERR_NETWORK,l,k)),k=null},k.ontimeout=function(){let M=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded";const S=d.transitional||ap;d.timeoutErrorMessage&&(M=d.timeoutErrorMessage),o(new Ee(M,S.clarifyTimeoutError?Ee.ETIMEDOUT:Ee.ECONNABORTED,l,k)),k=null},h===void 0&&g.setContentType(null),"setRequestHeader"in k&&G.forEach(g.toJSON(),function(M,S){k.setRequestHeader(S,M)}),G.isUndefined(d.withCredentials)||(k.withCredentials=!!d.withCredentials),v&&v!=="json"&&(k.responseType=d.responseType),f&&([j,y]=tr(f,!0),k.addEventListener("progress",j)),m&&k.upload&&([N,C]=tr(m),k.upload.addEventListener("progress",N),k.upload.addEventListener("loadend",C)),(d.cancelToken||d.signal)&&(p=R=>{k&&(o(!R||R.type?new Sn(null,l,k):R),k.abort(),k=null)},d.cancelToken&&d.cancelToken.subscribe(p),d.signal&&(d.signal.aborted?p():d.signal.addEventListener("abort",p)));const U=Oj(d.url);if(U&&bt.protocols.indexOf(U)===-1){o(new Ee("Unsupported protocol "+U+":",Ee.ERR_BAD_REQUEST,l));return}k.send(h||null)})},$j=(l,i)=>{const{length:c}=l=l?l.filter(Boolean):[];if(i||c){let o=new AbortController,d;const h=function(f){if(!d){d=!0,v();const p=f instanceof Error?f:this.reason;o.abort(p instanceof Ee?p:new Sn(p instanceof Error?p.message:p))}};let g=i&&setTimeout(()=>{g=null,h(new Ee(`timeout ${i} of ms exceeded`,Ee.ETIMEDOUT))},i);const v=()=>{l&&(g&&clearTimeout(g),g=null,l.forEach(f=>{f.unsubscribe?f.unsubscribe(h):f.removeEventListener("abort",h)}),l=null)};l.forEach(f=>f.addEventListener("abort",h));const{signal:m}=o;return m.unsubscribe=()=>G.asap(v),m}},Pj=function*(l,i){let c=l.byteLength;if(c<i){yield l;return}let o=0,d;for(;o<c;)d=o+i,yield l.slice(o,d),o=d},Yj=async function*(l,i){for await(const c of Gj(l))yield*Pj(c,i)},Gj=async function*(l){if(l[Symbol.asyncIterator]){yield*l;return}const i=l.getReader();try{for(;;){const{done:c,value:o}=await i.read();if(c)break;yield o}}finally{await i.cancel()}},Nm=(l,i,c,o)=>{const d=Yj(l,i);let h=0,g,v=m=>{g||(g=!0,o&&o(m))};return new ReadableStream({async pull(m){try{const{done:f,value:p}=await d.next();if(f){v(),m.close();return}let N=p.byteLength;if(c){let j=h+=N;c(j)}m.enqueue(new Uint8Array(p))}catch(f){throw v(f),f}},cancel(m){return v(m),d.return()}},{highWaterMark:2})},dr=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",cp=dr&&typeof ReadableStream=="function",Qj=dr&&(typeof TextEncoder=="function"?(l=>i=>l.encode(i))(new TextEncoder):async l=>new Uint8Array(await new Response(l).arrayBuffer())),op=(l,...i)=>{try{return!!l(...i)}catch{return!1}},Vj=cp&&op(()=>{let l=!1;const i=new Request(bt.origin,{body:new ReadableStream,method:"POST",get duplex(){return l=!0,"half"}}).headers.has("Content-Type");return l&&!i}),bm=64*1024,Qo=cp&&op(()=>G.isReadableStream(new Response("").body)),ar={stream:Qo&&(l=>l.body)};dr&&(l=>{["text","arrayBuffer","blob","formData","stream"].forEach(i=>{!ar[i]&&(ar[i]=G.isFunction(l[i])?c=>c[i]():(c,o)=>{throw new Ee(`Response type '${i}' is not supported`,Ee.ERR_NOT_SUPPORT,o)})})})(new Response);const Xj=async l=>{if(l==null)return 0;if(G.isBlob(l))return l.size;if(G.isSpecCompliantForm(l))return(await new Request(bt.origin,{method:"POST",body:l}).arrayBuffer()).byteLength;if(G.isArrayBufferView(l)||G.isArrayBuffer(l))return l.byteLength;if(G.isURLSearchParams(l)&&(l=l+""),G.isString(l))return(await Qj(l)).byteLength},Zj=async(l,i)=>{const c=G.toFiniteNumber(l.getContentLength());return c??Xj(i)},Kj=dr&&(async l=>{let{url:i,method:c,data:o,signal:d,cancelToken:h,timeout:g,onDownloadProgress:v,onUploadProgress:m,responseType:f,headers:p,withCredentials:N="same-origin",fetchOptions:j}=rp(l);f=f?(f+"").toLowerCase():"text";let C=$j([d,h&&h.toAbortSignal()],g),y;const E=C&&C.unsubscribe&&(()=>{C.unsubscribe()});let k;try{if(m&&Vj&&c!=="get"&&c!=="head"&&(k=await Zj(p,o))!==0){let S=new Request(i,{method:"POST",body:o,duplex:"half"}),B;if(G.isFormData(o)&&(B=S.headers.get("content-type"))&&p.setContentType(B),S.body){const[Z,ee]=vm(k,tr(ym(m)));o=Nm(S.body,bm,Z,ee)}}G.isString(N)||(N=N?"include":"omit");const O="credentials"in Request.prototype;y=new Request(i,{...j,signal:C,method:c.toUpperCase(),headers:p.normalize().toJSON(),body:o,duplex:"half",credentials:O?N:void 0});let U=await fetch(y,j);const R=Qo&&(f==="stream"||f==="response");if(Qo&&(v||R&&E)){const S={};["status","statusText","headers"].forEach(re=>{S[re]=U[re]});const B=G.toFiniteNumber(U.headers.get("content-length")),[Z,ee]=v&&vm(B,tr(ym(v),!0))||[];U=new Response(Nm(U.body,bm,Z,()=>{ee&&ee(),E&&E()}),S)}f=f||"text";let M=await ar[G.findKey(ar,f)||"text"](U,l);return!R&&E&&E(),await new Promise((S,B)=>{lp(S,B,{data:M,headers:Ot.from(U.headers),status:U.status,statusText:U.statusText,config:l,request:y})})}catch(O){throw E&&E(),O&&O.name==="TypeError"&&/Load failed|fetch/i.test(O.message)?Object.assign(new Ee("Network Error",Ee.ERR_NETWORK,l,y),{cause:O.cause||O}):Ee.from(O,O&&O.code,l,y)}}),Vo={http:dj,xhr:Hj,fetch:Kj};G.forEach(Vo,(l,i)=>{if(l){try{Object.defineProperty(l,"name",{value:i})}catch{}Object.defineProperty(l,"adapterName",{value:i})}});const _m=l=>`- ${l}`,Jj=l=>G.isFunction(l)||l===null||l===!1,up={getAdapter:l=>{l=G.isArray(l)?l:[l];const{length:i}=l;let c,o;const d={};for(let h=0;h<i;h++){c=l[h];let g;if(o=c,!Jj(c)&&(o=Vo[(g=String(c)).toLowerCase()],o===void 0))throw new Ee(`Unknown adapter '${g}'`);if(o)break;d[g||"#"+h]=o}if(!o){const h=Object.entries(d).map(([v,m])=>`adapter ${v} `+(m===!1?"is not supported by the environment":"is not available in the build"));let g=i?h.length>1?`since :
`+h.map(_m).join(`
`):" "+_m(h[0]):"as no adapter specified";throw new Ee("There is no suitable adapter to dispatch the request "+g,"ERR_NOT_SUPPORT")}return o},adapters:Vo};function Lo(l){if(l.cancelToken&&l.cancelToken.throwIfRequested(),l.signal&&l.signal.aborted)throw new Sn(null,l)}function Sm(l){return Lo(l),l.headers=Ot.from(l.headers),l.data=zo.call(l,l.transformRequest),["post","put","patch"].indexOf(l.method)!==-1&&l.headers.setContentType("application/x-www-form-urlencoded",!1),up.getAdapter(l.adapter||Ol.adapter)(l).then(function(o){return Lo(l),o.data=zo.call(l,l.transformResponse,o),o.headers=Ot.from(o.headers),o},function(o){return np(o)||(Lo(l),o&&o.response&&(o.response.data=zo.call(l,l.transformResponse,o.response),o.response.headers=Ot.from(o.response.headers))),Promise.reject(o)})}const dp="1.10.0",fr={};["object","boolean","number","function","string","symbol"].forEach((l,i)=>{fr[l]=function(o){return typeof o===l||"a"+(i<1?"n ":" ")+l}});const Em={};fr.transitional=function(i,c,o){function d(h,g){return"[Axios v"+dp+"] Transitional option '"+h+"'"+g+(o?". "+o:"")}return(h,g,v)=>{if(i===!1)throw new Ee(d(g," has been removed"+(c?" in "+c:"")),Ee.ERR_DEPRECATED);return c&&!Em[g]&&(Em[g]=!0,console.warn(d(g," has been deprecated since v"+c+" and will be removed in the near future"))),i?i(h,g,v):!0}};fr.spelling=function(i){return(c,o)=>(console.warn(`${o} is likely a misspelling of ${i}`),!0)};function Ij(l,i,c){if(typeof l!="object")throw new Ee("options must be an object",Ee.ERR_BAD_OPTION_VALUE);const o=Object.keys(l);let d=o.length;for(;d-- >0;){const h=o[d],g=i[h];if(g){const v=l[h],m=v===void 0||g(v,h,l);if(m!==!0)throw new Ee("option "+h+" must be "+m,Ee.ERR_BAD_OPTION_VALUE);continue}if(c!==!0)throw new Ee("Unknown option "+h,Ee.ERR_BAD_OPTION)}}const Wi={assertOptions:Ij,validators:fr},ha=Wi.validators;let ks=class{constructor(i){this.defaults=i||{},this.interceptors={request:new gm,response:new gm}}async request(i,c){try{return await this._request(i,c)}catch(o){if(o instanceof Error){let d={};Error.captureStackTrace?Error.captureStackTrace(d):d=new Error;const h=d.stack?d.stack.replace(/^.+\n/,""):"";try{o.stack?h&&!String(o.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+h):o.stack=h}catch{}}throw o}}_request(i,c){typeof i=="string"?(c=c||{},c.url=i):c=i||{},c=Cs(this.defaults,c);const{transitional:o,paramsSerializer:d,headers:h}=c;o!==void 0&&Wi.assertOptions(o,{silentJSONParsing:ha.transitional(ha.boolean),forcedJSONParsing:ha.transitional(ha.boolean),clarifyTimeoutError:ha.transitional(ha.boolean)},!1),d!=null&&(G.isFunction(d)?c.paramsSerializer={serialize:d}:Wi.assertOptions(d,{encode:ha.function,serialize:ha.function},!0)),c.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?c.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:c.allowAbsoluteUrls=!0),Wi.assertOptions(c,{baseUrl:ha.spelling("baseURL"),withXsrfToken:ha.spelling("withXSRFToken")},!0),c.method=(c.method||this.defaults.method||"get").toLowerCase();let g=h&&G.merge(h.common,h[c.method]);h&&G.forEach(["delete","get","head","post","put","patch","common"],y=>{delete h[y]}),c.headers=Ot.concat(g,h);const v=[];let m=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(c)===!1||(m=m&&E.synchronous,v.unshift(E.fulfilled,E.rejected))});const f=[];this.interceptors.response.forEach(function(E){f.push(E.fulfilled,E.rejected)});let p,N=0,j;if(!m){const y=[Sm.bind(this),void 0];for(y.unshift.apply(y,v),y.push.apply(y,f),j=y.length,p=Promise.resolve(c);N<j;)p=p.then(y[N++],y[N++]);return p}j=v.length;let C=c;for(N=0;N<j;){const y=v[N++],E=v[N++];try{C=y(C)}catch(k){E.call(this,k);break}}try{p=Sm.call(this,C)}catch(y){return Promise.reject(y)}for(N=0,j=f.length;N<j;)p=p.then(f[N++],f[N++]);return p}getUri(i){i=Cs(this.defaults,i);const c=ip(i.baseURL,i.url,i.allowAbsoluteUrls);return tp(c,i.params,i.paramsSerializer)}};G.forEach(["delete","get","head","options"],function(i){ks.prototype[i]=function(c,o){return this.request(Cs(o||{},{method:i,url:c,data:(o||{}).data}))}});G.forEach(["post","put","patch"],function(i){function c(o){return function(h,g,v){return this.request(Cs(v||{},{method:i,headers:o?{"Content-Type":"multipart/form-data"}:{},url:h,data:g}))}}ks.prototype[i]=c(),ks.prototype[i+"Form"]=c(!0)});let Wj=class fp{constructor(i){if(typeof i!="function")throw new TypeError("executor must be a function.");let c;this.promise=new Promise(function(h){c=h});const o=this;this.promise.then(d=>{if(!o._listeners)return;let h=o._listeners.length;for(;h-- >0;)o._listeners[h](d);o._listeners=null}),this.promise.then=d=>{let h;const g=new Promise(v=>{o.subscribe(v),h=v}).then(d);return g.cancel=function(){o.unsubscribe(h)},g},i(function(h,g,v){o.reason||(o.reason=new Sn(h,g,v),c(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]}unsubscribe(i){if(!this._listeners)return;const c=this._listeners.indexOf(i);c!==-1&&this._listeners.splice(c,1)}toAbortSignal(){const i=new AbortController,c=o=>{i.abort(o)};return this.subscribe(c),i.signal.unsubscribe=()=>this.unsubscribe(c),i.signal}static source(){let i;return{token:new fp(function(d){i=d}),cancel:i}}};function eN(l){return function(c){return l.apply(null,c)}}function tN(l){return G.isObject(l)&&l.isAxiosError===!0}const Xo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Xo).forEach(([l,i])=>{Xo[i]=l});function hp(l){const i=new ks(l),c=Pm(ks.prototype.request,i);return G.extend(c,ks.prototype,i,{allOwnKeys:!0}),G.extend(c,i,null,{allOwnKeys:!0}),c.create=function(d){return hp(Cs(l,d))},c}const ue=hp(Ol);ue.Axios=ks;ue.CanceledError=Sn;ue.CancelToken=Wj;ue.isCancel=np;ue.VERSION=dp;ue.toFormData=ur;ue.AxiosError=Ee;ue.Cancel=ue.CanceledError;ue.all=function(i){return Promise.all(i)};ue.spread=eN;ue.isAxiosError=tN;ue.mergeConfig=Cs;ue.AxiosHeaders=Ot;ue.formToJSON=l=>sp(G.isHTMLForm(l)?new FormData(l):l);ue.getAdapter=up.getAdapter;ue.HttpStatusCode=Xo;ue.default=ue;const{Axios:IN,AxiosError:WN,CanceledError:eb,isCancel:tb,CancelToken:ab,VERSION:sb,all:nb,Cancel:lb,isAxiosError:ib,spread:rb,toFormData:cb,AxiosHeaders:ob,HttpStatusCode:ub,formToJSON:db,getAdapter:fb,mergeConfig:hb}=ue;class aN{constructor(i="http://localhost:5001"){this.baseURL=i,this.axiosInstance=this.createAxiosInstance()}createAxiosInstance(){const i=ue.create({baseURL:this.baseURL,timeout:1e4,headers:{"Content-Type":"application/json"}});return i.interceptors.request.use(c=>{const o=me.getToken();return o&&(c.headers.Authorization=`Bearer ${o}`),console.log(` API Request: ${c.method?.toUpperCase()} ${c.url}`),c},c=>(console.error(" Request interceptor error:",c),Promise.reject(c))),i.interceptors.response.use(c=>(console.log(` API Response: ${c.status} ${c.config.url}`),c),c=>(console.error(` API Error: ${c.response?.status} ${c.config?.url}`),c.response?.status===401&&(console.log(" Unauthorized request - clearing auth data"),me.clearAuthData(),window.location.pathname.includes("/login")||(window.location.href="/login")),Promise.reject(c))),i}async login(i,c){try{return{success:!0,data:(await this.axiosInstance.post("/api/auth/login",{email:i,password:c})).data}}catch(o){return{success:!1,error:o.response?.data?.message||"Login failed",status:o.response?.status}}}async register(i){try{return{success:!0,data:(await this.axiosInstance.post("/api/auth/register",i)).data}}catch(c){return{success:!1,error:c.response?.data?.message||"Registration failed",errors:c.response?.data?.errors||[],status:c.response?.status}}}async verifyEmail(i){try{return{success:!0,data:(await this.axiosInstance.get(`/api/auth/verify-email?token=${i}`)).data}}catch(c){return{success:!1,error:c.response?.data?.message||"Email verification failed",status:c.response?.status}}}async resendVerification(i){try{return{success:!0,data:(await this.axiosInstance.post("/api/auth/resend-verification",{email:i})).data}}catch(c){return{success:!1,error:c.response?.data?.message||"Failed to resend verification email",status:c.response?.status}}}async forgotPassword(i){try{return{success:!0,data:(await this.axiosInstance.post("/api/auth/forgot-password",{email:i})).data}}catch(c){return{success:!1,error:c.response?.data?.message||"Password reset request failed",status:c.response?.status}}}async resetPassword(i,c){try{return{success:!0,data:(await this.axiosInstance.post("/api/auth/reset-password",{token:i,newPassword:c})).data}}catch(o){return{success:!1,error:o.response?.data?.message||"Password reset failed",status:o.response?.status}}}async getUserProfile(){try{return{success:!0,data:(await this.axiosInstance.get("/api/auth/profile")).data}}catch(i){return{success:!1,error:i.response?.data?.message||"Failed to get user profile",status:i.response?.status}}}async updateProfile(i){try{const c=await this.axiosInstance.put("/api/auth/profile",i);if(c.data.user){const d={...me.getUser(),...c.data.user};localStorage.setItem("user",JSON.stringify(d))}return{success:!0,data:c.data}}catch(c){return{success:!1,error:c.response?.data?.message||"Failed to update profile",status:c.response?.status}}}async getEvents(i={}){try{const c=new URLSearchParams(i).toString(),o=c?`/api/events?${c}`:"/api/events";return{success:!0,data:(await this.axiosInstance.get(o)).data}}catch(c){return{success:!1,error:c.response?.data?.message||"Failed to get events",status:c.response?.status}}}async createEvent(i){try{return{success:!0,data:(await this.axiosInstance.post("/api/events",i)).data}}catch(c){return{success:!1,error:c.response?.data?.message||"Failed to create event",status:c.response?.status}}}async makeRequest(i,c,o=null,d={}){try{const h=await this.axiosInstance({method:i,url:c,data:o,...d});return{success:!0,data:h.data,status:h.status}}catch(h){return{success:!1,error:h.response?.data?.message||"API request failed",status:h.response?.status,details:h.response?.data}}}async checkHealth(){try{return{success:!0,data:(await this.axiosInstance.get("/api/auth/health")).data}}catch(i){return{success:!1,error:"API health check failed",status:i.response?.status}}}async getAttendeeProfile(){try{return{success:!0,data:(await this.axiosInstance.get("/api/attendee/profile")).data}}catch(i){return console.error("Failed to get attendee profile:",i),{success:!1,error:i.response?.data?.message||"Failed to get attendee profile",status:i.response?.status,details:i.response?.data}}}async updateAttendeeProfile(i){try{return{success:!0,data:(await this.axiosInstance.put("/api/attendee/profile",i)).data}}catch(c){return console.error("Failed to update attendee profile:",c),{success:!1,error:c.response?.data?.message||"Failed to update attendee profile",status:c.response?.status,details:c.response?.data}}}async getNotificationSettings(){try{return{success:!0,data:(await this.axiosInstance.get("/api/settings/notifications")).data}}catch(i){return console.error("Failed to get notification settings:",i),{success:!1,error:i.response?.data?.message||"Failed to get notification settings",status:i.response?.status,details:i.response?.data}}}async updateNotificationSettings(i){try{return{success:!0,data:(await this.axiosInstance.put("/api/settings/notifications",i)).data}}catch(c){return console.error("Failed to update notification settings:",c),{success:!1,error:c.response?.data?.message||"Failed to update notification settings",status:c.response?.status,details:c.response?.data}}}async getPrivacySettings(){try{return{success:!0,data:(await this.axiosInstance.get("/api/settings/privacy")).data}}catch(i){return console.error("Failed to get privacy settings:",i),{success:!1,error:i.response?.data?.message||"Failed to get privacy settings",status:i.response?.status,details:i.response?.data}}}async updatePrivacySettings(i){try{return{success:!0,data:(await this.axiosInstance.put("/api/settings/privacy",i)).data}}catch(c){return console.error("Failed to update privacy settings:",c),{success:!1,error:c.response?.data?.message||"Failed to update privacy settings",status:c.response?.status,details:c.response?.data}}}async getSecurityInfo(){try{return{success:!0,data:(await this.axiosInstance.get("/api/settings/security")).data}}catch(i){return console.error("Failed to get security info:",i),{success:!1,error:i.response?.data?.message||"Failed to get security info",status:i.response?.status,details:i.response?.data}}}async changePassword(i){try{return{success:!0,data:(await this.axiosInstance.put("/api/settings/change-password",i)).data}}catch(c){return console.error("Failed to change password:",c),{success:!1,error:c.response?.data?.message||"Failed to change password",status:c.response?.status,details:c.response?.data}}}async toggle2FA(i){try{return{success:!0,data:(await this.axiosInstance.put("/api/settings/two-factor",{enabled:i})).data}}catch(c){return console.error("Failed to toggle 2FA:",c),{success:!1,error:c.response?.data?.message||"Failed to toggle 2FA",status:c.response?.status,details:c.response?.data}}}async exportUserData(){try{return{success:!0,data:(await this.axiosInstance.get("/api/settings/export-data")).data}}catch(i){return console.error("Failed to export user data:",i),{success:!1,error:i.response?.data?.message||"Failed to export user data",status:i.response?.status,details:i.response?.data}}}async deleteAccount(i){try{return{success:!0,data:(await this.axiosInstance.delete("/api/settings/delete-account",{data:{confirmation:i}})).data}}catch(c){return console.error("Failed to delete account:",c),{success:!1,error:c.response?.data?.message||"Failed to delete account",status:c.response?.status,details:c.response?.data}}}getBaseURL(){return this.baseURL}setBaseURL(i){this.baseURL=i,this.axiosInstance.defaults.baseURL=i}async get(i,c={}){try{return await this.axiosInstance.get(i,c)}catch(o){throw console.error(`GET ${i} failed:`,o),o}}async post(i,c={},o={}){try{return await this.axiosInstance.post(i,c,o)}catch(d){throw console.error(`POST ${i} failed:`,d),d}}async put(i,c={},o={}){try{return await this.axiosInstance.put(i,c,o)}catch(d){throw console.error(`PUT ${i} failed:`,d),d}}async delete(i,c={}){try{return await this.axiosInstance.delete(i,c)}catch(o){throw console.error(`DELETE ${i} failed:`,o),o}}async patch(i,c={},o={}){try{return await this.axiosInstance.patch(i,c,o)}catch(d){throw console.error(`PATCH ${i} failed:`,d),d}}}const Ke=new aN;class sN{constructor(){this.apiService=Ke,this.apiService.setBaseURL("http://localhost:5001")}async getPublishedEvents(i={}){try{const c={status:"published",...i};return await this.apiService.getEvents(c)}catch(c){return console.error("Error fetching published events:",c),{success:!1,error:"Failed to fetch events",data:[]}}}async getEventDetails(i){try{return await this.apiService.makeRequest("GET",`/api/events/${i}/details`)}catch(c){return console.error("Error fetching event details:",c),{success:!1,error:"Failed to fetch event details"}}}async registerForEvent(i,c=1){try{return await this.apiService.makeRequest("POST",`/api/events/${i}/register`,{ticket_quantity:c})}catch(o){return console.error("Error registering for event:",o),{success:!1,error:"Failed to register for event"}}}formatEventForDisplay(i){return{id:i.event_id,title:i.event_name,date:new Date(i.event_date),price:parseFloat(i.ticket_price||0),maxAttendees:i.max_attendees,registrationCount:parseInt(i.registration_count||0),organizerName:i.organizer_name,companyName:i.company_name,organizerPhone:i.organizer_phone,status:i.status,createdAt:new Date(i.created_at)}}groupEventsByDate(i){const c={};return i.forEach(o=>{const d=new Date(o.event_date),h=d.toISOString().split("T")[0];c[h]||(c[h]={date:d,events:[]}),c[h].events.push(this.formatEventForDisplay(o))}),c}getAvailableEventDates(i){const c=i.map(d=>new Date(d.event_date));return[...new Set(c.map(d=>d.toISOString().split("T")[0]))].map(d=>{const h=new Date(d);return{dateString:d,date:h,day:h.getDate(),month:h.toLocaleDateString("en-US",{month:"short"}).toUpperCase(),year:h.getFullYear(),label:`Day ${h.getDate()}`,eventsCount:i.filter(g=>new Date(g.event_date).toISOString().split("T")[0]===d).length}}).sort((d,h)=>d.date-h.date)}}const qo=new sN,nN=()=>{const[l,i]=b.useState(null),[c,o]=b.useState([]),[d,h]=b.useState([]),[g,v]=b.useState([]),[m,f]=b.useState(!0),[p,N]=b.useState(null),[j,C]=b.useState({}),y="https://images.unsplash.com/photo-1540575467063-178a50c2df87?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80";b.useEffect(()=>{E()},[]),b.useEffect(()=>{if(l){const R=c.filter(M=>new Date(M.event_date).toISOString().split("T")[0]===l);h(R)}else h(c)},[l,c]);const E=async()=>{try{f(!0),N(null);const R=await qo.getPublishedEvents({limit:50});if(R.success){o(R.data);const M=qo.getAvailableEventDates(R.data);v(M),M.length>0&&i(M[0].dateString)}else N(R.error||"Failed to load events")}catch(R){console.error("Error fetching events:",R),N("Failed to load events. Please try again.")}finally{f(!1)}},k=async R=>{if(!me.isAuthenticated()){alert("Please log in to register for events");return}try{C(B=>({...B,[R]:!0}));const S=await qo.registerForEvent(R,1);S.success?(alert("Successfully registered for the event!"),E()):alert(S.error||"Failed to register for event")}catch(S){console.error("Error registering for event:",S),alert("Failed to register for event. Please try again.")}finally{C(S=>({...S,[R]:!1}))}},O=R=>{const M=new Date(R);return{time:M.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),date:M.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}},U=R=>R.max_attendees-(R.registration_count||0);return m?t.jsx("section",{className:"browse-events-section",children:t.jsx("div",{className:"container",children:t.jsxs("div",{className:"loading-spinner",children:[t.jsx("div",{className:"spinner"}),t.jsx("p",{children:"Loading events..."})]})})}):p?t.jsx("section",{className:"browse-events-section",children:t.jsx("div",{className:"container",children:t.jsxs("div",{className:"error-message",children:[t.jsx("h3",{children:"Error Loading Events"}),t.jsx("p",{children:p}),t.jsx("button",{onClick:E,className:"retry-btn",children:"Try Again"})]})})}):t.jsx("section",{className:"browse-events-section",children:t.jsxs("div",{className:"main-container",children:[t.jsx("div",{className:"hero-header",children:t.jsxs("div",{className:"header-content",children:[t.jsxs("div",{className:"header-left",children:[t.jsxs("span",{className:"event-badge",children:[t.jsx("span",{className:"badge-icon",children:""}),"DISCOVER EVENTS"]}),t.jsxs("h1",{className:"main-title",children:["Upcoming Events",t.jsx("span",{className:"title-accent",children:"Near You"})]}),t.jsx("p",{className:"main-subtitle",children:"Join thousands of people discovering amazing events, workshops, and experiences"})]}),t.jsxs("div",{className:"header-stats",children:[t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-number",children:c.length}),t.jsx("div",{className:"stat-label",children:"Total Events"})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-number",children:g.length}),t.jsx("div",{className:"stat-label",children:"Event Days"})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-number",children:d.length}),t.jsx("div",{className:"stat-label",children:"Available Now"})]})]})]})}),t.jsxs("div",{className:"controls-section",children:[t.jsxs("div",{className:"quick-filters",children:[t.jsxs("button",{className:`filter-chip ${l===null?"active":""}`,onClick:()=>i(null),children:[t.jsx("span",{className:"chip-icon",children:""}),"All Events (",c.length,")"]}),g.slice(0,4).map(R=>t.jsxs("button",{className:`filter-chip ${l===R.dateString?"active":""}`,onClick:()=>i(R.dateString),children:[t.jsx("span",{className:"chip-icon",children:""}),R.month," ",R.day," (",R.eventsCount,")"]},R.dateString))]}),t.jsx("div",{className:"view-controls",children:t.jsxs("div",{className:"results-count",children:["Showing ",d.length," of ",c.length," events"]})})]}),t.jsx("div",{className:"events-grid",children:d.length===0?t.jsxs("div",{className:"empty-state",children:[t.jsx("div",{className:"empty-icon",children:""}),t.jsx("h3",{className:"empty-title",children:"No Events Found"}),t.jsx("p",{className:"empty-description",children:l?"No events scheduled for the selected date. Try viewing all events.":"No published events available right now. Check back soon for exciting new events!"}),l&&t.jsxs("button",{onClick:()=>i(null),className:"empty-action-btn",children:[t.jsx("span",{className:"btn-icon",children:""}),"View All Events"]})]}):d.map((R,M)=>{const S=O(R.event_date),B=U(R),Z=j[R.event_id],ee=B<=0,re=B<=10&&B>0;return t.jsxs("div",{className:`event-card-modern ${ee?"sold-out":""}`,style:{animationDelay:`${M*.1}s`},children:[t.jsxs("div",{className:"event-image-container",children:[t.jsx("img",{src:R.image_url||(R.image_filename?`http://localhost:5001/uploads/images/${R.image_filename}`:y),alt:R.event_name,className:"event-image",onError:ge=>{ge.target.src=y}}),t.jsxs("div",{className:"image-overlay",children:[ee&&t.jsx("div",{className:"status-badge sold-out-badge",children:"SOLD OUT"}),re&&t.jsx("div",{className:"status-badge low-stock-badge",children:"Few Tickets Left"}),!ee&&!re&&t.jsx("div",{className:"status-badge available-badge",children:"Available"})]}),t.jsx("div",{className:"event-price-tag",children:R.ticket_price>0?`GH${R.ticket_price}`:"FREE"})]}),t.jsxs("div",{className:"event-card-content",children:[t.jsxs("div",{className:"event-datetime",children:[t.jsxs("div",{className:"date-section",children:[t.jsx("span",{className:"event-day",children:new Date(R.event_date).getDate()}),t.jsx("span",{className:"event-month",children:new Date(R.event_date).toLocaleDateString("en-US",{month:"short"}).toUpperCase()})]}),t.jsxs("div",{className:"time-section",children:[t.jsx("span",{className:"event-time",children:S.time}),t.jsx("span",{className:"event-weekday",children:new Date(R.event_date).toLocaleDateString("en-US",{weekday:"short"})})]})]}),t.jsx("h3",{className:"event-title-modern",children:R.event_name}),t.jsxs("div",{className:"event-meta-grid",children:[t.jsxs("div",{className:"meta-item",children:[t.jsx("span",{className:"meta-icon",children:""}),t.jsxs("span",{className:"meta-text",children:[B," tickets left"]})]}),t.jsxs("div",{className:"meta-item",children:[t.jsx("span",{className:"meta-icon",children:""}),t.jsx("span",{className:"meta-text",children:R.company_name||R.organizer_name})]})]}),t.jsxs("div",{className:"capacity-section",children:[t.jsxs("div",{className:"capacity-info",children:[t.jsx("span",{className:"capacity-text",children:"Capacity"}),t.jsxs("span",{className:"capacity-numbers",children:[R.max_attendees-B,"/",R.max_attendees]})]}),t.jsx("div",{className:"capacity-bar",children:t.jsx("div",{className:"capacity-fill",style:{width:`${(R.max_attendees-B)/R.max_attendees*100}%`}})})]}),t.jsxs("div",{className:"event-actions-modern",children:[t.jsx("button",{className:`primary-action-btn ${Z?"loading":""} ${ee?"disabled":""}`,onClick:()=>k(R.event_id),disabled:Z||ee,children:Z?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"btn-spinner"}),"Registering..."]}):ee?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"btn-icon",children:""}),"Sold Out"]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"btn-icon",children:""}),"Register Now"]})}),t.jsxs("button",{className:"secondary-action-btn",onClick:()=>{console.log("View details for event:",R.event_id)},children:[t.jsx("span",{className:"btn-icon",children:""}),"Details"]})]})]})]},R.event_id)})}),d.length>0&&c.length>d.length&&t.jsx("div",{className:"load-more-container",children:t.jsxs("button",{onClick:E,className:"load-more-btn-modern",children:[t.jsx("span",{className:"btn-icon",children:""}),"Load More Events",t.jsx("span",{className:"btn-subtitle",children:"Discover more amazing events"})]})})]})})},Ts=()=>t.jsxs("footer",{className:"footer-section",children:[t.jsx("div",{className:"footer-content",children:t.jsxs("div",{className:"footer-container",children:[t.jsx("div",{className:"footer-column",children:t.jsxs("div",{className:"logo-section",children:[t.jsx("h3",{className:"app-logo",children:" Eventify"}),t.jsx("p",{className:"app-description",children:"Your all-in-one event management platform"})]})}),t.jsxs("div",{className:"footer-column",children:[t.jsx("h4",{className:"footer-title",children:"Navigation"}),t.jsxs("ul",{className:"footer-links",children:[t.jsx("li",{children:t.jsx("a",{href:"/",children:"Home"})}),t.jsx("li",{children:t.jsx("a",{href:"/events",children:"Browse Events"})}),t.jsx("li",{children:t.jsx("a",{href:"/dashboard",children:"Dashboard"})}),t.jsx("li",{children:t.jsx("a",{href:"/profile",children:"Profile"})})]})]}),t.jsxs("div",{className:"footer-column",children:[t.jsx("h4",{className:"footer-title",children:"Account"}),t.jsxs("ul",{className:"footer-links",children:[t.jsx("li",{children:t.jsx("a",{href:"/login",children:"Login"})}),t.jsx("li",{children:t.jsx("a",{href:"/register",children:"Sign Up"})}),t.jsx("li",{children:t.jsx("a",{href:"/tickets",children:"My Tickets"})}),t.jsx("li",{children:t.jsx("a",{href:"/settings",children:"Settings"})})]})]}),t.jsxs("div",{className:"footer-column",children:[t.jsx("h4",{className:"footer-title",children:"Support"}),t.jsxs("ul",{className:"footer-links",children:[t.jsx("li",{children:t.jsx("a",{href:"/help",children:"Help Center"})}),t.jsx("li",{children:t.jsx("a",{href:"/contact",children:"Contact Us"})}),t.jsx("li",{children:t.jsx("a",{href:"/privacy",children:"Privacy Policy"})}),t.jsx("li",{children:t.jsx("a",{href:"/terms",children:"Terms of Service"})})]})]})]})}),t.jsx("div",{className:"footer-bottom",children:t.jsx("div",{className:"footer-container",children:t.jsx("p",{className:"copyright",children:" 2025 Eventify. All rights reserved."})})})]}),lN=()=>t.jsxs(t.Fragment,{children:[t.jsx(ma,{}),t.jsx(Ey,{}),t.jsx(nN,{}),t.jsx(Ts,{})]}),iN=()=>{const l=pa(),[i,c]=b.useState(""),[o,d]=b.useState(""),[h,g]=b.useState(!1),[v,m]=b.useState(!1),[f,p]=b.useState("");b.useEffect(()=>{if(me.isAuthenticated()){console.log("User already authenticated, redirecting to dashboard...");const C=me.getDashboardRoute();l(C,{replace:!0})}},[l]);const N=()=>(p(""),i.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i)?o?o.length<6?(p("Password must be at least 6 characters long"),!1):!0:(p("Password is required"),!1):(p("Please enter a valid email address"),!1):(p("Email is required"),!1)),j=async C=>{if(C.preventDefault(),!!N()){m(!0),p("");try{const y=await Ke.login(i.trim(),o);if(y.success&&y.data.token){if(console.log("Login successful:",y.data),!me.setAuthData(y.data.token,y.data.user)){p("Failed to store authentication data. Please try again.");return}const k=me.getDashboardRoute();console.log("User role:",me.getUserRole()),console.log("Redirecting to:",k),c(""),d(""),p(""),l(k,{replace:!0})}else p(y.error||"Login failed. Please check your credentials and try again.")}catch(y){if(console.error("Login error:",y),y.response){const E=y.response.data;y.response.status===401?E.message?.includes("verify")||E.requiresVerification?p("Please verify your email before logging in. Check your inbox for the verification link."):p("Invalid email or password. Please try again."):y.response.status===400?p(E.message||"Please check your input and try again."):p(E.message||"Login failed. Please try again.")}else y.request?p("Unable to connect to server. Please check your internet connection and try again."):p("An unexpected error occurred. Please try again.")}finally{m(!1)}}};return t.jsxs("div",{className:"login-container",children:[t.jsxs("div",{className:"login-form-section",children:[t.jsxs(et,{to:"/",className:"back-home-btn",children:[t.jsx("i",{className:"fas fa-arrow-left"}),"Back to Home"]}),t.jsxs("div",{className:"form-content",children:[t.jsxs("div",{className:"welcome-section",children:[t.jsx("h1",{className:"welcome-title",children:"Welcome Back"}),t.jsx("p",{className:"welcome-subtitle",children:"Sign in to your account to continue"})]}),t.jsxs("form",{className:"login-form",onSubmit:j,children:[f&&t.jsx("div",{className:"error-message",children:f}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"email",className:"form-label",children:[t.jsx("i",{className:"fas fa-envelope"}),"Email Address"]}),t.jsx("input",{type:"email",id:"email",className:"form-input",placeholder:"Enter your email",value:i,onChange:C=>{c(C.target.value),f&&p("")},required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"password",className:"form-label",children:[t.jsx("i",{className:"fas fa-lock"}),"Password"]}),t.jsxs("div",{className:"password-input-container",children:[t.jsx("input",{type:h?"text":"password",id:"password",className:"form-input",placeholder:"Enter your password",value:o,onChange:C=>{d(C.target.value),f&&p("")},required:!0}),t.jsx("button",{type:"button",className:"password-toggle",onClick:()=>g(!h),children:t.jsx("i",{className:h?"fas fa-eye-slash":"fas fa-eye"})})]})]}),t.jsx("div",{className:"form-options",children:t.jsxs(et,{to:"/forgot-password",className:"forgot-password",children:[t.jsx("i",{className:"fas fa-question-circle"}),"Forgot Password?"]})}),t.jsx("button",{type:"submit",className:"login-btn",disabled:v,style:{opacity:v?.7:1,cursor:v?"not-allowed":"pointer"},children:v?t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-spinner fa-spin"}),"Signing In..."]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-sign-in-alt"}),"Sign In"]})}),t.jsx("div",{className:"signup-link",children:t.jsxs("p",{children:["Don't have an account?",t.jsxs(et,{to:"/signup",children:[t.jsx("i",{className:"fas fa-user-plus"}),"Sign up here"]})]})})]}),t.jsxs("div",{className:"copyright",children:[t.jsx("i",{className:"fas fa-copyright"}),"2023 ALL RIGHTS RESERVED"]})]})]}),t.jsx("div",{className:"login-image-section",children:t.jsx("div",{className:"image-overlay",children:t.jsxs("div",{className:"overlay-content",children:[t.jsx("h2",{children:"Join Our Community"}),t.jsx("p",{children:"Connect with amazing events and people around the world"}),t.jsxs("div",{className:"feature-list",children:[t.jsxs("div",{className:"feature-item",children:[t.jsx("i",{className:"fas fa-calendar-alt"}),t.jsx("span",{children:"Discover Events"})]}),t.jsxs("div",{className:"feature-item",children:[t.jsx("i",{className:"fas fa-users"}),t.jsx("span",{children:"Connect with People"})]}),t.jsxs("div",{className:"feature-item",children:[t.jsx("i",{className:"fas fa-star"}),t.jsx("span",{children:"Create Memories"})]})]})]})})})]})},rN=()=>{const[l,i]=b.useState({fullName:"",email:"",password:"",confirmPassword:"",phone:"",role:"attendee",companyName:"",contactPerson:"",location:""}),[c,o]=b.useState(!1),[d,h]=b.useState(!1),[g,v]=b.useState(!1),[m,f]=b.useState(""),p=C=>{const{name:y,value:E}=C.target;i(k=>({...k,[y]:E})),m&&f("")},N=()=>{if(f(""),!l.fullName.trim())return f("Full name is required"),!1;if(!l.email.trim())return f("Email is required"),!1;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email))return f("Please enter a valid email address"),!1;if(!l.password)return f("Password is required"),!1;if(l.password.length<6)return f("Password must be at least 6 characters long"),!1;if(l.password!==l.confirmPassword)return f("Passwords do not match"),!1;if(l.role==="organizer"){if(!l.companyName.trim())return f("Company name is required for organizers"),!1;if(!l.contactPerson.trim())return f("Contact person is required for organizers"),!1;if(!l.location.trim())return f("Location is required for organizers"),!1}return!0},j=async C=>{if(C.preventDefault(),!!N()){v(!0),f("");try{const y={username:l.fullName,email:l.email,password:l.password,phone:l.phone,role:l.role};l.role==="organizer"&&(y.companyName=l.companyName,y.contactPerson=l.contactPerson,y.location=l.location);const E=await ue.post("http://localhost:5001/api/auth/register",y,{headers:{"Content-Type":"application/json"}});E.data.user&&(alert(`Account created successfully! Please check your email (${E.data.user.email}) to verify your account before logging in.`),i({fullName:"",email:"",password:"",confirmPassword:"",phone:"",role:"attendee",companyName:"",contactPerson:"",location:""}),window.location.href="/login",console.log("Registration successful:",E.data))}catch(y){console.error("Registration error:",y),y.response?f(y.response.data.message||"Registration failed. Please try again."):y.request?f("Unable to connect to server. Please check your internet connection."):f("An unexpected error occurred. Please try again.")}finally{v(!1)}}};return t.jsxs("div",{className:"signup-container",children:[t.jsx(et,{to:"/",className:"back-home-btn",children:" Back to Home"}),t.jsx("div",{className:"signup-form-section",children:t.jsxs("div",{className:"form-wrapper",children:[t.jsxs("div",{className:"form-header",children:[t.jsx("h1",{className:"signup-title",children:"Create Account"}),t.jsx("p",{className:"signup-subtitle",children:"Join us today and start your journey. Fill in the details below to get started."})]}),t.jsxs("form",{className:"signup-form",children:[m&&t.jsx("div",{className:"error-message",children:m}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"fullName",className:"form-label",children:[t.jsx("i",{className:"fas fa-user"}),"Full Name"]}),t.jsx("input",{type:"text",id:"fullName",name:"fullName",className:"form-input",placeholder:"Enter your full name",value:l.fullName,onChange:p,required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"email",className:"form-label",children:[t.jsx("i",{className:"fas fa-envelope"}),"Email Address"]}),t.jsx("input",{type:"email",id:"email",name:"email",className:"form-input",placeholder:"Enter your email",value:l.email,onChange:p,required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"phone",className:"form-label",children:[t.jsx("i",{className:"fas fa-phone"}),"Phone Number"]}),t.jsx("input",{type:"tel",id:"phone",name:"phone",className:"form-input",placeholder:"Enter your phone number",value:l.phone,onChange:p})]}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"password",className:"form-label",children:[t.jsx("i",{className:"fas fa-lock"}),"Password"]}),t.jsxs("div",{className:"password-input-container",children:[t.jsx("input",{type:c?"text":"password",id:"password",name:"password",className:"form-input",placeholder:"Create a password",value:l.password,onChange:p,required:!0}),t.jsx("button",{type:"button",className:"password-toggle",onClick:()=>o(!c),children:t.jsx("i",{className:c?"fas fa-eye-slash":"fas fa-eye"})})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"confirmPassword",className:"form-label",children:[t.jsx("i",{className:"fas fa-lock"}),"Confirm Password"]}),t.jsxs("div",{className:"password-input-container",children:[t.jsx("input",{type:d?"text":"password",id:"confirmPassword",name:"confirmPassword",className:"form-input",placeholder:"Confirm your password",value:l.confirmPassword,onChange:p,required:!0}),t.jsx("button",{type:"button",className:"password-toggle",onClick:()=>h(!d),children:t.jsx("i",{className:d?"fas fa-eye-slash":"fas fa-eye"})})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{className:"form-label",children:[t.jsx("i",{className:"fas fa-users"}),"Choose Your Role"]}),t.jsxs("div",{className:"role-selection",children:[t.jsxs("div",{className:"role-option",children:[t.jsx("input",{type:"radio",id:"attendee",name:"role",value:"attendee",checked:l.role==="attendee",onChange:p}),t.jsxs("label",{htmlFor:"attendee",className:"role-label",children:[t.jsx("i",{className:"fas fa-user-friends"}),t.jsx("span",{children:"Attendee"}),t.jsx("small",{children:"Join events and connect with others"})]})]}),t.jsxs("div",{className:"role-option",children:[t.jsx("input",{type:"radio",id:"organizer",name:"role",value:"organizer",checked:l.role==="organizer",onChange:p}),t.jsxs("label",{htmlFor:"organizer",className:"role-label",children:[t.jsx("i",{className:"fas fa-building"}),t.jsx("span",{children:"Organizer/Company"}),t.jsx("small",{children:"Create and manage events"})]})]})]})]}),l.role==="organizer"&&t.jsxs("div",{className:"organizer-fields",children:[t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"companyName",className:"form-label",children:[t.jsx("i",{className:"fas fa-building"}),"Company Name"]}),t.jsx("input",{type:"text",id:"companyName",name:"companyName",className:"form-input",placeholder:"Enter your company name",value:l.companyName,onChange:p,required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"contactPerson",className:"form-label",children:[t.jsx("i",{className:"fas fa-user-tie"}),"Contact Person"]}),t.jsx("input",{type:"text",id:"contactPerson",name:"contactPerson",className:"form-input",placeholder:"Primary contact person",value:l.contactPerson,onChange:p,required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"location",className:"form-label",children:[t.jsx("i",{className:"fas fa-map-marker-alt"}),"Location"]}),t.jsx("input",{type:"text",id:"location",name:"location",className:"form-input",placeholder:"City, Country",value:l.location,onChange:p,required:!0})]})]}),t.jsx("button",{type:"submit",className:"signup-btn",onClick:j,disabled:g,style:{opacity:g?.7:1,cursor:g?"not-allowed":"pointer"},children:g?t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-spinner fa-spin"}),"Creating Account..."]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-user-plus"}),"Create Account"]})}),t.jsx("div",{className:"divider",children:t.jsx("span",{children:"Or sign up with"})}),t.jsxs("div",{className:"social-signup",children:[t.jsxs("button",{type:"button",className:"social-btn google-btn",children:[t.jsx("i",{className:"fab fa-google"}),"Google"]}),t.jsxs("button",{type:"button",className:"social-btn facebook-btn",children:[t.jsx("i",{className:"fab fa-facebook-f"}),"Facebook"]})]}),t.jsxs("p",{className:"login-link",children:["Already have an account?",t.jsx(et,{to:"/login",children:" Sign in here"})]})]}),t.jsx("div",{className:"form-footer",children:t.jsx("p",{children:" 2023 ALL RIGHTS RESERVED"})})]})}),t.jsx("div",{className:"signup-image-section",children:t.jsx("div",{className:"image-overlay",children:t.jsxs("div",{className:"overlay-content",children:[t.jsx("h2",{children:"Welcome to Our Community"}),t.jsx("p",{children:"Join thousands of people who are already part of our amazing platform"}),t.jsxs("div",{className:"stats",children:[t.jsxs("div",{className:"stat-item",children:[t.jsx("i",{className:"fas fa-users"}),t.jsx("span",{children:"10,000+ Members"})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("i",{className:"fas fa-calendar-alt"}),t.jsx("span",{children:"500+ Events"})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("i",{className:"fas fa-globe"}),t.jsx("span",{children:"50+ Countries"})]})]})]})})})]})},cN=()=>{const[l,i]=b.useState(""),[c,o]=b.useState(!1),[d,h]=b.useState(!1),[g,v]=b.useState(""),m=async p=>{p.preventDefault(),o(!0),v("");try{setTimeout(()=>{h(!0),v("Password reset instructions have been sent to your email."),o(!1)},1500),console.log("Password reset requested for:",l)}catch(N){console.error("Password reset error:",N),v("Something went wrong. Please try again."),o(!1)}},f=()=>{h(!1),v(""),m({preventDefault:()=>{}})};return t.jsxs("div",{className:"forgot-password-container",children:[t.jsxs(et,{to:"/login",className:"back-btn",children:[t.jsx("i",{className:"fas fa-arrow-left"}),"Back to Login"]}),t.jsxs("div",{className:"forgot-password-content",children:[t.jsx("div",{className:"fp-form-section",children:t.jsxs("div",{className:"fp-form-wrapper",children:[d?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"fp-form-header",children:[t.jsx("div",{className:"fp-icon-container success",children:t.jsx("i",{className:"fas fa-check"})}),t.jsx("h1",{className:"fp-title",children:"Check Your Email"}),t.jsxs("p",{className:"fp-subtitle",children:["We've sent password reset instructions to ",t.jsx("strong",{children:l})]})]}),t.jsxs("div",{className:"fp-success-actions",children:[t.jsxs("div",{className:"fp-info-box",children:[t.jsx("i",{className:"fas fa-info-circle"}),t.jsx("p",{children:"Didn't receive the email? Check your spam folder or try again with a different email address."})]}),t.jsxs("button",{type:"button",className:"fp-resend-btn",onClick:f,children:[t.jsx("i",{className:"fas fa-redo"}),"Resend Email"]})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"fp-form-header",children:[t.jsx("div",{className:"fp-icon-container",children:t.jsx("i",{className:"fas fa-lock"})}),t.jsx("h1",{className:"fp-title",children:"Forgot Password?"}),t.jsx("p",{className:"fp-subtitle",children:"No worries! Enter your email address and we'll send you instructions to reset your password."})]}),t.jsxs("form",{className:"fp-forgot-password-form",onSubmit:m,children:[t.jsxs("div",{className:"fp-form-group",children:[t.jsxs("label",{htmlFor:"email",className:"fp-form-label",children:[t.jsx("i",{className:"fas fa-envelope"}),"Email Address"]}),t.jsx("input",{type:"email",id:"email",className:"fp-form-input",placeholder:"Enter your email address",value:l,onChange:p=>i(p.target.value),required:!0,disabled:c})]}),g&&t.jsxs("div",{className:`fp-message ${d?"success":"error"}`,children:[t.jsx("i",{className:`fas ${d?"fa-check-circle":"fa-exclamation-circle"}`}),g]}),t.jsx("button",{type:"submit",className:"fp-submit-btn",disabled:c,children:c?t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-spinner fa-spin"}),"Sending..."]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-paper-plane"}),"Send Reset Instructions"]})})]})]}),t.jsxs("div",{className:"fp-form-footer",children:[t.jsxs("p",{children:["Remember your password?",t.jsxs(et,{to:"/login",children:[t.jsx("i",{className:"fas fa-sign-in-alt"}),"Sign In"]})]}),t.jsxs("p",{children:["Don't have an account?",t.jsxs(et,{to:"/signup",children:[t.jsx("i",{className:"fas fa-user-plus"}),"Sign Up"]})]})]})]})}),t.jsx("div",{className:"fp-image-section",children:t.jsx("div",{className:"fp-image-overlay",children:t.jsxs("div",{className:"fp-overlay-content",children:[t.jsx("h2",{children:"Secure & Simple"}),t.jsx("p",{children:"Your security is our priority. We use industry-standard encryption to protect your account and personal information."}),t.jsxs("div",{className:"fp-security-features",children:[t.jsxs("div",{className:"fp-feature-item",children:[t.jsx("i",{className:"fas fa-shield-alt"}),t.jsx("span",{children:"Bank-level Security"})]}),t.jsxs("div",{className:"fp-feature-item",children:[t.jsx("i",{className:"fas fa-clock"}),t.jsx("span",{children:"Quick Recovery"})]}),t.jsxs("div",{className:"fp-feature-item",children:[t.jsx("i",{className:"fas fa-user-shield"}),t.jsx("span",{children:"Privacy Protected"})]})]})]})})})]})]})},oN=()=>{const[l,i]=b.useState("dashboard"),[c,o]=b.useState(!0),[d,h]=b.useState(""),[g,v]=b.useState(""),[m,f]=b.useState({total_users:0,total_events:0,total_organizers:0,total_attendees:0,total_revenue:0,recent_users:0,recent_events:0}),[p,N]=b.useState([]),[j,C]=b.useState({page:1,totalPages:1,total:0}),[y,E]=b.useState({search:"",role:""}),[k,O]=b.useState([]),[U,R]=b.useState([]),[M,S]=b.useState({search:"",status:""}),[B,Z]=b.useState([]),[ee,re]=b.useState([]),[ge,se]=b.useState({level:"",page:1}),[W,he]=b.useState(null),[xe,ye]=b.useState(null),[A,V]=b.useState("30"),ae="http://localhost:5001";b.useEffect(()=>{I()},[]),b.useEffect(()=>{l==="users"&&w()},[l,y,j.page]),b.useEffect(()=>{l==="events"&&D()},[l,M]),b.useEffect(()=>{l==="logs"&&Q()},[l,ge]),b.useEffect(()=>{l==="system"&&te()},[l]),b.useEffect(()=>{l==="reports"&&ie()},[l,A]);const I=async()=>{o(!0);try{const L=me.getToken(),ne=await ue.get(`${ae}/api/admin/dashboard-stats`,{headers:{Authorization:`Bearer ${L}`}});f(ne.data)}catch(L){h("Failed to fetch dashboard data. You may not have admin permissions."),console.error(L)}finally{o(!1)}},w=async()=>{try{const L=me.getToken(),ne=new URLSearchParams({page:j.page,limit:10,...y}),ce=await ue.get(`${ae}/api/admin/users?${ne}`,{headers:{Authorization:`Bearer ${L}`}});N(ce.data.users||ce.data),ce.data.total!==void 0&&C(Be=>({...Be,total:ce.data.total,totalPages:ce.data.totalPages}))}catch(L){h("Failed to fetch users"),console.error(L)}},D=async()=>{try{const L=me.getToken(),ne=new URLSearchParams(M),ce=await ue.get(`${ae}/api/admin/events?${ne}`,{headers:{Authorization:`Bearer ${L}`}});R(ce.data)}catch(L){h("Failed to fetch events"),console.error(L)}},Q=async()=>{try{const L=me.getToken(),ne=new URLSearchParams(ge),ce=await ue.get(`${ae}/api/admin/logs?${ne}`,{headers:{Authorization:`Bearer ${L}`}});re(ce.data)}catch(L){h("Failed to fetch logs"),console.error(L)}},te=async()=>{try{const L=me.getToken(),ne=await ue.get(`${ae}/api/admin/system-health`,{headers:{Authorization:`Bearer ${L}`}});he(ne.data)}catch(L){h("Failed to fetch system health"),console.error(L)}},ie=async()=>{try{const L=me.getToken(),ne=await ue.get(`${ae}/api/admin/reports?period=${A}`,{headers:{Authorization:`Bearer ${L}`}});ye(ne.data)}catch(L){h("Failed to fetch reports"),console.error(L)}},je=async(L,ne,ce={})=>{try{const Be=me.getToken();let Ge="",ia="PUT";switch(L){case"updateRole":Ge=`/api/admin/users/${ne}/role`;break;case"delete":Ge=`/api/admin/users/${ne}`,ia="DELETE";break;default:return}await ue({method:ia,url:`${ae}${Ge}`,headers:{Authorization:`Bearer ${Be}`},data:ce}),v(`User ${L} completed successfully`),w(),setTimeout(()=>v(""),3e3)}catch(Be){h(`Failed to ${L} user`),console.error(Be)}},Ne=async(L,ne,ce={})=>{try{const Be=me.getToken();let Ge="",ia="PUT";switch(L){case"updateStatus":Ge=`/api/admin/events/${ne}/status`;break;case"delete":Ge=`/api/admin/events/${ne}`,ia="DELETE";break;default:return}await ue({method:ia,url:`${ae}${Ge}`,headers:{Authorization:`Bearer ${Be}`},data:ce}),v(`Event ${L} completed successfully`),D(),setTimeout(()=>v(""),3e3)}catch(Be){h(`Failed to ${L} event`),console.error(Be)}},Ye=async(L,ne,ce={})=>{const Be=ne==="users"?k:B;if(Be.length===0){h("No items selected");return}try{const Ge=me.getToken();await ue.post(`${ae}/api/admin/bulk-actions`,{action:L,target:ne,ids:Be,data:ce},{headers:{Authorization:`Bearer ${Ge}`}}),v(`Bulk ${L} completed successfully`),ne==="users"?(O([]),w()):(Z([]),D()),setTimeout(()=>v(""),3e3)}catch(Ge){h(`Failed to perform bulk ${L}`),console.error(Ge)}},Ue=()=>t.jsxs("div",{className:"admin-dashboard-content",children:[t.jsx("h2",{children:"Dashboard Overview"}),c?t.jsx("div",{className:"loading-spinner",children:"Loading..."}):t.jsx(t.Fragment,{children:t.jsxs("div",{className:"stats-grid",children:[t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsx("h3",{children:"Total Users"}),t.jsx("p",{className:"stat-number",children:m.total_users}),t.jsxs("small",{children:["+",m.recent_users," this month"]})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsx("h3",{children:"Total Events"}),t.jsx("p",{className:"stat-number",children:m.total_events}),t.jsxs("small",{children:["+",m.recent_events," this month"]})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsx("h3",{children:"Organizers"}),t.jsx("p",{className:"stat-number",children:m.total_organizers})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsx("h3",{children:"Attendees"}),t.jsx("p",{className:"stat-number",children:m.total_attendees})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon",children:""}),t.jsxs("div",{className:"stat-content",children:[t.jsx("h3",{children:"Total Revenue"}),t.jsxs("p",{className:"stat-number",children:["$",m.total_revenue?.toFixed(2)||"0.00"]})]})]})]})})]}),ct=()=>t.jsxs("div",{className:"admin-management-content",children:[t.jsxs("div",{className:"management-header",children:[t.jsx("h2",{children:"User Management"}),t.jsxs("div",{className:"management-actions",children:[t.jsx("input",{type:"text",placeholder:"Search users...",value:y.search,onChange:L=>E(ne=>({...ne,search:L.target.value})),className:"search-input"}),t.jsxs("select",{value:y.role,onChange:L=>E(ne=>({...ne,role:L.target.value})),className:"filter-select",children:[t.jsx("option",{value:"",children:"All Roles"}),t.jsx("option",{value:"admin",children:"Admin"}),t.jsx("option",{value:"organizer",children:"Organizer"}),t.jsx("option",{value:"attendee",children:"Attendee"})]})]})]}),t.jsxs("div",{className:"bulk-actions",children:[t.jsxs("button",{onClick:()=>Ye("delete","users"),className:"btn-bulk btn-danger",disabled:k.length===0,children:["Delete Selected (",k.length,")"]}),t.jsxs("select",{onChange:L=>{L.target.value&&(Ye("update_role","users",{role_type:L.target.value}),L.target.value="")},className:"bulk-select",disabled:k.length===0,children:[t.jsx("option",{value:"",children:"Change Role..."}),t.jsx("option",{value:"admin",children:"Admin"}),t.jsx("option",{value:"organizer",children:"Organizer"}),t.jsx("option",{value:"attendee",children:"Attendee"})]})]}),t.jsx("div",{className:"table-container",children:t.jsxs("table",{className:"admin-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:t.jsx("input",{type:"checkbox",onChange:L=>{L.target.checked?O(p.map(ne=>ne.user_id)):O([])},checked:k.length===p.length&&p.length>0})}),t.jsx("th",{children:"ID"}),t.jsx("th",{children:"Email"}),t.jsx("th",{children:"Role"}),t.jsx("th",{children:"Verified"}),t.jsx("th",{children:"Created"}),t.jsx("th",{children:"Last Login"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:p.map(L=>t.jsxs("tr",{children:[t.jsx("td",{children:t.jsx("input",{type:"checkbox",checked:k.includes(L.user_id),onChange:ne=>{ne.target.checked?O(ce=>[...ce,L.user_id]):O(ce=>ce.filter(Be=>Be!==L.user_id))}})}),t.jsx("td",{children:L.user_id}),t.jsx("td",{children:L.email}),t.jsx("td",{children:t.jsx("span",{className:`role-badge role-${L.role_type}`,children:L.role_type})}),t.jsx("td",{children:L.is_email_verified?"":""}),t.jsx("td",{children:new Date(L.created_at).toLocaleDateString()}),t.jsx("td",{children:L.last_login?new Date(L.last_login).toLocaleDateString():"Never"}),t.jsx("td",{children:t.jsxs("div",{className:"action-buttons",children:[t.jsxs("select",{onChange:ne=>{ne.target.value&&(je("updateRole",L.user_id,{role_type:ne.target.value}),ne.target.value="")},className:"action-select",children:[t.jsx("option",{value:"",children:"Change Role"}),["admin","organizer","attendee"].filter(ne=>ne!==L.role_type).map(ne=>t.jsx("option",{value:ne,children:ne},ne))]}),t.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to delete this user?")&&je("delete",L.user_id)},className:"btn-action btn-danger",children:"Delete"})]})})]},L.user_id))})]})}),j.totalPages>1&&t.jsxs("div",{className:"pagination",children:[t.jsx("button",{onClick:()=>C(L=>({...L,page:L.page-1})),disabled:j.page===1,className:"btn-pagination",children:"Previous"}),t.jsxs("span",{children:["Page ",j.page," of ",j.totalPages]}),t.jsx("button",{onClick:()=>C(L=>({...L,page:L.page+1})),disabled:j.page===j.totalPages,className:"btn-pagination",children:"Next"})]})]}),ga=()=>t.jsxs("div",{className:"admin-management-content",children:[t.jsxs("div",{className:"management-header",children:[t.jsx("h2",{children:"Event Management"}),t.jsxs("div",{className:"management-actions",children:[t.jsx("input",{type:"text",placeholder:"Search events...",value:M.search,onChange:L=>S(ne=>({...ne,search:L.target.value})),className:"search-input"}),t.jsxs("select",{value:M.status,onChange:L=>S(ne=>({...ne,status:L.target.value})),className:"filter-select",children:[t.jsx("option",{value:"",children:"All Status"}),t.jsx("option",{value:"draft",children:"Draft"}),t.jsx("option",{value:"published",children:"Published"}),t.jsx("option",{value:"cancelled",children:"Cancelled"}),t.jsx("option",{value:"completed",children:"Completed"})]})]})]}),t.jsxs("div",{className:"bulk-actions",children:[t.jsxs("button",{onClick:()=>Ye("delete","events"),className:"btn-bulk btn-danger",disabled:B.length===0,children:["Delete Selected (",B.length,")"]}),t.jsxs("select",{onChange:L=>{L.target.value&&(Ye("update_status","events",{status:L.target.value}),L.target.value="")},className:"bulk-select",disabled:B.length===0,children:[t.jsx("option",{value:"",children:"Change Status..."}),t.jsx("option",{value:"published",children:"Published"}),t.jsx("option",{value:"cancelled",children:"Cancelled"}),t.jsx("option",{value:"completed",children:"Completed"})]})]}),t.jsx("div",{className:"table-container",children:t.jsxs("table",{className:"admin-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:t.jsx("input",{type:"checkbox",onChange:L=>{L.target.checked?Z(U.map(ne=>ne.event_id)):Z([])},checked:B.length===U.length&&U.length>0})}),t.jsx("th",{children:"ID"}),t.jsx("th",{children:"Event Name"}),t.jsx("th",{children:"Organizer"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Date"}),t.jsx("th",{children:"Price"}),t.jsx("th",{children:"Registrations"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:U.map(L=>t.jsxs("tr",{children:[t.jsx("td",{children:t.jsx("input",{type:"checkbox",checked:B.includes(L.event_id),onChange:ne=>{ne.target.checked?Z(ce=>[...ce,L.event_id]):Z(ce=>ce.filter(Be=>Be!==L.event_id))}})}),t.jsx("td",{children:L.event_id}),t.jsx("td",{children:L.event_name}),t.jsx("td",{children:L.organizer_name||`ID: ${L.organizer_id}`}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-${L.status}`,children:L.status})}),t.jsx("td",{children:new Date(L.event_date).toLocaleDateString()}),t.jsxs("td",{children:["GH",L.ticket_price||"0.00"]}),t.jsx("td",{children:L.registration_count||0}),t.jsx("td",{children:t.jsxs("div",{className:"action-buttons",children:[t.jsxs("select",{onChange:ne=>{ne.target.value&&(Ne("updateStatus",L.event_id,{status:ne.target.value}),ne.target.value="")},className:"action-select",children:[t.jsx("option",{value:"",children:"Change Status"}),["draft","published","cancelled","completed"].filter(ne=>ne!==L.status).map(ne=>t.jsx("option",{value:ne,children:ne},ne))]}),t.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to delete this event?")&&Ne("delete",L.event_id)},className:"btn-action btn-danger",children:"Delete"})]})})]},L.event_id))})]})})]}),wt=()=>t.jsxs("div",{className:"admin-management-content",children:[t.jsxs("div",{className:"management-header",children:[t.jsx("h2",{children:"System Logs"}),t.jsxs("div",{className:"management-actions",children:[t.jsxs("select",{value:ge.level,onChange:L=>se(ne=>({...ne,level:L.target.value})),className:"filter-select",children:[t.jsx("option",{value:"",children:"All Levels"}),t.jsx("option",{value:"INFO",children:"Info"}),t.jsx("option",{value:"WARNING",children:"Warning"}),t.jsx("option",{value:"ERROR",children:"Error"})]}),t.jsx("button",{onClick:Q,className:"btn-refresh",children:" Refresh"})]})]}),t.jsx("div",{className:"table-container",children:t.jsxs("table",{className:"admin-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"ID"}),t.jsx("th",{children:"Level"}),t.jsx("th",{children:"Message"}),t.jsx("th",{children:"Timestamp"}),t.jsx("th",{children:"User ID"})]})}),t.jsx("tbody",{children:ee.map(L=>t.jsxs("tr",{children:[t.jsx("td",{children:L.log_id}),t.jsx("td",{children:t.jsx("span",{className:`log-level log-${L.level.toLowerCase()}`,children:L.level})}),t.jsx("td",{children:L.message}),t.jsx("td",{children:new Date(L.timestamp).toLocaleString()}),t.jsx("td",{children:L.user_id||"System"})]},L.log_id))})]})})]}),Mt=()=>t.jsxs("div",{className:"admin-management-content",children:[t.jsx("h2",{children:"System Health & Monitoring"}),W&&t.jsxs("div",{className:"health-grid",children:[t.jsxs("div",{className:"health-card",children:[t.jsx("h3",{children:"System Status"}),t.jsx("div",{className:`status-indicator ${W.status}`,children:W.status.toUpperCase()})]}),t.jsxs("div",{className:"health-card",children:[t.jsx("h3",{children:"Database"}),t.jsx("div",{className:"status-indicator healthy",children:W.database.toUpperCase()})]}),t.jsxs("div",{className:"health-card",children:[t.jsx("h3",{children:"Uptime"}),t.jsxs("p",{children:[Math.floor(W.uptime/3600),"h ",Math.floor(W.uptime%3600/60),"m"]})]}),t.jsxs("div",{className:"health-card",children:[t.jsx("h3",{children:"Memory Usage"}),t.jsxs("div",{className:"memory-info",children:[t.jsxs("p",{children:["RSS: ",W.memory.rss]}),t.jsxs("p",{children:["Heap Total: ",W.memory.heapTotal]}),t.jsxs("p",{children:["Heap Used: ",W.memory.heapUsed]})]})]})]}),t.jsx("button",{onClick:te,className:"btn-refresh",children:" Refresh Health Status"})]}),de=()=>t.jsxs("div",{className:"admin-management-content",children:[t.jsxs("div",{className:"management-header",children:[t.jsx("h2",{children:"Reports & Analytics"}),t.jsx("div",{className:"management-actions",children:t.jsxs("select",{value:A,onChange:L=>V(L.target.value),className:"filter-select",children:[t.jsx("option",{value:"7",children:"Last 7 days"}),t.jsx("option",{value:"30",children:"Last 30 days"}),t.jsx("option",{value:"90",children:"Last 90 days"})]})})]}),xe&&t.jsxs("div",{className:"reports-grid",children:[t.jsxs("div",{className:"report-section",children:[t.jsx("h3",{children:"User Growth"}),t.jsx("div",{className:"report-content",children:xe.user_growth?.length>0?t.jsx("div",{className:"simple-chart",children:xe.user_growth.map((L,ne)=>t.jsxs("div",{className:"chart-item",children:[t.jsx("span",{children:new Date(L.date).toLocaleDateString()}),t.jsxs("span",{children:[L.new_users," new users"]})]},ne))}):t.jsx("p",{children:"No user growth data available"})})]}),t.jsxs("div",{className:"report-section",children:[t.jsx("h3",{children:"Event Statistics"}),t.jsx("div",{className:"report-content",children:xe.event_stats?.length>0?t.jsx("div",{className:"stats-breakdown",children:xe.event_stats.map((L,ne)=>t.jsxs("div",{className:"stat-item",children:[t.jsx("span",{className:`status-badge status-${L.status}`,children:L.status}),t.jsxs("span",{children:[L.count," events"]})]},ne))}):t.jsx("p",{children:"No event statistics available"})})]}),t.jsxs("div",{className:"report-section",children:[t.jsx("h3",{children:"Revenue Tracking"}),t.jsx("div",{className:"report-content",children:xe.revenue_data?.length>0?t.jsx("div",{className:"simple-chart",children:xe.revenue_data.map((L,ne)=>t.jsxs("div",{className:"chart-item",children:[t.jsx("span",{children:new Date(L.date).toLocaleDateString()}),t.jsxs("span",{children:["$",parseFloat(L.revenue).toFixed(2)]})]},ne))}):t.jsx("p",{children:"No revenue data available"})})]})]})]}),fe=()=>{switch(l){case"dashboard":return Ue();case"users":return ct();case"events":return ga();case"logs":return wt();case"system":return Mt();case"reports":return de();default:return Ue()}};return t.jsxs(t.Fragment,{children:[t.jsx(ma,{}),t.jsxs("div",{className:"admin-dashboard-container",children:[d&&t.jsxs("div",{className:"notification error",children:[d,t.jsx("button",{onClick:()=>h(""),className:"notification-close",children:""})]}),g&&t.jsxs("div",{className:"notification success",children:[g,t.jsx("button",{onClick:()=>v(""),className:"notification-close",children:""})]}),t.jsxs("aside",{className:"admin-sidebar",children:[t.jsxs("div",{className:"admin-header",children:[t.jsx("h1",{children:" Admin Panel"}),t.jsx("p",{children:"System Administration"})]}),t.jsx("nav",{className:"admin-nav",children:t.jsxs("ul",{children:[t.jsxs("li",{className:l==="dashboard"?"active":"",onClick:()=>i("dashboard"),children:[t.jsx("span",{className:"nav-icon",children:""}),t.jsx("span",{children:"Dashboard"})]}),t.jsxs("li",{className:l==="users"?"active":"",onClick:()=>i("users"),children:[t.jsx("span",{className:"nav-icon",children:""}),t.jsx("span",{children:"User Management"})]}),t.jsxs("li",{className:l==="events"?"active":"",onClick:()=>i("events"),children:[t.jsx("span",{className:"nav-icon",children:""}),t.jsx("span",{children:"Event Management"})]}),t.jsxs("li",{className:l==="logs"?"active":"",onClick:()=>i("logs"),children:[t.jsx("span",{className:"nav-icon",children:""}),t.jsx("span",{children:"System Logs"})]}),t.jsxs("li",{className:l==="system"?"active":"",onClick:()=>i("system"),children:[t.jsx("span",{className:"nav-icon",children:""}),t.jsx("span",{children:"System Health"})]}),t.jsxs("li",{className:l==="reports"?"active":"",onClick:()=>i("reports"),children:[t.jsx("span",{className:"nav-icon",children:""}),t.jsx("span",{children:"Reports"})]})]})})]}),t.jsx("main",{className:"admin-main-content",children:fe()})]})]})},uN=({events:l,isLoading:i,showCreateForm:c,setShowCreateForm:o,formatDate:d,onViewEvent:h,onEditEvent:g,onDeleteEvent:v})=>i&&!c?t.jsxs("div",{className:"loading-container",children:[t.jsx("i",{className:"fas fa-spinner fa-spin"}),t.jsx("span",{children:"Loading events..."})]}):l.length===0?t.jsxs("div",{className:"no-events",children:[t.jsx("div",{className:"no-events-icon",children:t.jsx("i",{className:"fas fa-calendar-times"})}),t.jsx("h3",{children:"No Events Yet"}),t.jsx("p",{children:"Create your first event to get started!"}),t.jsxs("button",{className:"create-first-event-btn",onClick:()=>o(!0),children:[t.jsx("i",{className:"fas fa-plus"}),"Create Your First Event"]})]}):t.jsx("div",{className:"events-grid",children:l.map(m=>t.jsxs("div",{className:"event-card",children:[t.jsxs("div",{className:"event-image-container",children:[m.image_url||m.image_filename?t.jsx("img",{src:m.image_url?m.image_url:`http://localhost:5001/uploads/images/${m.image_filename}`,alt:m.event_name,className:"event-image",onError:f=>{f.target.style.display="none",f.target.nextElementSibling.style.display="flex"}}):null,t.jsxs("div",{className:"event-image-placeholder",style:{display:m.image_url||m.image_filename?"none":"flex"},children:[t.jsx("i",{className:"fas fa-image"}),t.jsx("span",{children:"No Image"})]}),t.jsx("div",{className:"event-image-overlay",children:m.category&&t.jsx("span",{className:`event-category ${m.category.toLowerCase()}`,children:m.category})})]}),t.jsxs("div",{className:"event-content",children:[t.jsx("div",{className:"event-header",children:t.jsx("h3",{className:"event-title",children:m.event_name})}),t.jsxs("div",{className:"event-details",children:[t.jsxs("div",{className:"event-detail",children:[t.jsx("i",{className:"fas fa-calendar"}),t.jsx("span",{children:d(m.event_date)})]}),t.jsxs("div",{className:"event-detail",children:[t.jsx("i",{className:"fas fa-map-marker-alt"}),t.jsx("span",{children:m.venue_name||m.venue_address})]}),m.max_attendees&&t.jsxs("div",{className:"event-detail",children:[t.jsx("i",{className:"fas fa-users"}),t.jsxs("span",{children:["Max: ",m.max_attendees," attendees"]})]}),t.jsxs("div",{className:"event-detail",children:[t.jsx("i",{className:"fas fa-coins"}),t.jsx("span",{children:m.ticket_price>0?`GH${m.ticket_price}`:"Free"})]})]}),t.jsx("div",{className:"event-description",children:t.jsx("p",{children:m.description})}),t.jsxs("div",{className:"event-actions",children:[t.jsxs("button",{className:"action-btn view-btn",onClick:()=>h&&h(m),children:[t.jsx("i",{className:"fas fa-eye"}),"View"]}),t.jsxs("button",{className:"action-btn edit-btn",onClick:()=>g&&g(m),children:[t.jsx("i",{className:"fas fa-edit"}),"Edit"]}),t.jsxs("button",{className:"action-btn delete-btn",onClick:()=>v&&v(m),children:[t.jsx("i",{className:"fas fa-trash"}),"Delete"]})]})]})]},m.event_id))}),mp=({currentImage:l,onImageChange:i,label:c="Event Image",required:o=!1,disabled:d=!1})=>{const[h,g]=b.useState(l||null),[v,m]=b.useState(l||""),[f,p]=b.useState("file"),[N,j]=b.useState(!1),[C,y]=b.useState(null),E=b.useRef(null),k="http://localhost:5001",O=async B=>{const Z=B.target.files[0];if(Z){if(y(null),!Z.type.startsWith("image/")){y("Please select an image file (JPEG, PNG, GIF, WebP, SVG)");return}if(Z.size>10*1024*1024){y("File size must be less than 10MB");return}try{j(!0);const ee=new FileReader;ee.onload=W=>g(W.target.result),ee.readAsDataURL(Z);const re=new FormData;re.append("image",Z);const se=await(await fetch(`${k}/api/upload/image`,{method:"POST",body:re})).json();if(se.success){const W=`${k}${se.data.imageUrl}`;m(W),i({type:"file",url:W,filename:se.data.filename,size:se.data.size,mimetype:se.data.mimetype})}else throw new Error(se.error||"Upload failed")}catch(ee){console.error("Upload error:",ee),y(`Failed to upload image: ${ee.message}`),g(null),E.current&&(E.current.value="")}finally{j(!1)}}},U=B=>{const Z=B.target.value;m(Z),y(null),Z.trim()?(g(Z),i({type:"url",url:Z.trim()})):(g(null),i(null))},R=()=>{if(!v.trim()){y("Please enter an image URL");return}try{if(!new URL(v.trim()).protocol.startsWith("http"))throw new Error("URL must start with http:// or https://");g(v.trim()),i({type:"url",url:v.trim()}),y(null)}catch(B){console.error("Error setting image URL:",B),y("Please enter a valid image URL (must start with http:// or https://)")}},M=B=>{B.preventDefault(),B.stopPropagation(),g(null),m(""),y(null),E.current&&(E.current.value=""),i(null)},S=()=>{!d&&f==="file"&&E.current?.click()};return t.jsxs("div",{className:"image-upload-container",children:[t.jsxs("label",{className:"upload-label",children:[c,o&&t.jsx("span",{className:"required-asterisk",children:"*"})]}),t.jsxs("div",{className:"upload-method-toggle",children:[t.jsxs("button",{type:"button",className:`method-btn ${f==="file"?"active":""}`,onClick:()=>p("file"),disabled:d,children:[t.jsx("i",{className:"fas fa-upload"}),"Upload File"]}),t.jsxs("button",{type:"button",className:`method-btn ${f==="url"?"active":""}`,onClick:()=>p("url"),disabled:d,children:[t.jsx("i",{className:"fas fa-link"}),"Image URL"]})]}),C&&t.jsxs("div",{className:"upload-error",children:[t.jsx("i",{className:"fas fa-exclamation-triangle"}),C]}),f==="file"&&t.jsxs("div",{className:"file-upload-section",children:[t.jsx("div",{className:`file-drop-zone ${N?"uploading":""} ${d?"disabled":""}`,onClick:S,children:N?t.jsxs("div",{className:"upload-progress",children:[t.jsx("i",{className:"fas fa-spinner fa-spin"}),t.jsx("span",{children:"Uploading..."})]}):h?t.jsxs("div",{className:"image-preview",children:[t.jsx("img",{src:h,alt:"Preview"}),t.jsx("div",{className:"preview-overlay",children:t.jsx("button",{type:"button",onClick:M,className:"remove-btn",disabled:d,children:t.jsx("i",{className:"fas fa-trash"})})})]}):t.jsxs("div",{className:"upload-placeholder",children:[t.jsx("i",{className:"fas fa-cloud-upload-alt"}),t.jsx("span",{children:"Click to upload image"}),t.jsx("small",{children:"JPEG, PNG, GIF, WebP, SVG up to 10MB"})]})}),t.jsx("input",{ref:E,type:"file",accept:"image/*",onChange:O,style:{display:"none"},disabled:d})]}),f==="url"&&t.jsxs("div",{className:"url-upload-section",children:[t.jsxs("div",{className:"url-input-group",children:[t.jsx("input",{type:"url",value:v,onChange:U,placeholder:"Enter image URL (https://example.com/image.jpg)",className:"url-input",disabled:d}),t.jsx("button",{type:"button",onClick:R,className:"url-submit-btn",disabled:d||!v.trim(),children:t.jsx("i",{className:"fas fa-check"})})]}),h&&t.jsxs("div",{className:"url-preview",children:[t.jsx("img",{src:h,alt:"URL Preview",onError:()=>{y("Failed to load image from URL"),g(null)}}),t.jsx("button",{type:"button",onClick:M,className:"remove-btn",disabled:d,children:t.jsx("i",{className:"fas fa-times"})})]})]})]})},dN=({formData:l,handleInputChange:i,handleImageChange:c,handleSubmit:o,setShowCreateForm:d,isLoading:h})=>{const[g,v]=b.useState([]),[m,f]=b.useState(1);b.useEffect(()=>{(async()=>{try{const y=await ue.get("http://localhost:5001/api/categories");y.data&&v(y.data)}catch(y){console.error("Error fetching form data:",y)}})()},[]);const p=()=>{f(m+1),window.scrollTo(0,0)},N=()=>{f(m-1),window.scrollTo(0,0)},j=C=>{C.preventDefault(),o(C)};return t.jsx("div",{className:"create-event-section",children:t.jsxs("div",{className:"form-container",children:[t.jsxs("h2",{className:"form-title",children:[t.jsx("i",{className:"fas fa-calendar-plus"}),"Create New Event"]}),t.jsxs("div",{className:"form-progress",children:[t.jsxs("div",{className:`progress-step ${m===1?"active":""} ${m>1?"completed":""}`,children:[t.jsx("span",{className:"step-number",children:"1"}),t.jsx("span",{className:"step-label",children:"Basic Info"})]}),t.jsxs("div",{className:`progress-step ${m===2?"active":""} ${m>2?"completed":""}`,children:[t.jsx("span",{className:"step-number",children:"2"}),t.jsx("span",{className:"step-label",children:"Venue & Time"})]}),t.jsxs("div",{className:`progress-step ${m===3?"active":""} ${m>3?"completed":""}`,children:[t.jsx("span",{className:"step-number",children:"3"}),t.jsx("span",{className:"step-label",children:"Details & Media"})]}),t.jsxs("div",{className:`progress-step ${m===4?"active":""}`,children:[t.jsx("span",{className:"step-number",children:"4"}),t.jsx("span",{className:"step-label",children:"Tickets & Settings"})]})]}),t.jsxs("form",{className:"create-event-form",onSubmit:j,children:[m===1&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"event_name",className:"form-label",children:[t.jsx("i",{className:"fas fa-tag"}),"Event Name *"]}),t.jsx("input",{type:"text",id:"event_name",name:"event_name",className:"form-input",placeholder:"Enter event name",value:l.event_name||"",onChange:i,required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"event_type",className:"form-label",children:[t.jsx("i",{className:"fas fa-shapes"}),"Event Type *"]}),t.jsxs("select",{id:"event_type",name:"event_type",className:"form-select",value:l.event_type||"Conference",onChange:i,required:!0,children:[t.jsx("option",{value:"Conference",children:"Conference"}),t.jsx("option",{value:"Workshop",children:"Workshop"}),t.jsx("option",{value:"Seminar",children:"Seminar"}),t.jsx("option",{value:"Networking",children:"Networking"}),t.jsx("option",{value:"Social",children:"Social"}),t.jsx("option",{value:"Concert",children:"Concert"}),t.jsx("option",{value:"Exhibition",children:"Exhibition"}),t.jsx("option",{value:"Webinar",children:"Webinar"}),t.jsx("option",{value:"Hackathon",children:"Hackathon"}),t.jsx("option",{value:"Other",children:"Other"})]})]})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"category",className:"form-label",children:[t.jsx("i",{className:"fas fa-list"}),"Category"]}),t.jsxs("select",{id:"category",name:"category",className:"form-select",value:l.category||"",onChange:i,children:[t.jsx("option",{value:"",children:"Select category"}),g.map(C=>t.jsx("option",{value:C.category_name,children:C.category_name},C.category_id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"tags",className:"form-label",children:[t.jsx("i",{className:"fas fa-tags"}),"Tags (Comma Separated)"]}),t.jsx("input",{type:"text",id:"tags",name:"tags",className:"form-input",placeholder:"technology, business, networking, etc.",value:l.tags||"",onChange:i})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"description",className:"form-label",children:[t.jsx("i",{className:"fas fa-align-left"}),"Description *"]}),t.jsx("textarea",{id:"description",name:"description",className:"form-textarea",placeholder:"Describe your event...",value:l.description||"",onChange:i,rows:"4",required:!0})]}),t.jsxs("div",{className:"form-actions",children:[t.jsxs("button",{type:"button",className:"cancel-btn",onClick:()=>d(!1),children:[t.jsx("i",{className:"fas fa-times"}),"Cancel"]}),t.jsxs("button",{type:"button",className:"next-btn",onClick:p,children:["Next Step",t.jsx("i",{className:"fas fa-arrow-right"})]})]})]}),m===2&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"event_date",className:"form-label",children:[t.jsx("i",{className:"fas fa-calendar"}),"Start Date & Time *"]}),t.jsx("input",{type:"datetime-local",id:"event_date",name:"event_date",className:"form-input",value:l.event_date||"",onChange:i,required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"end_date",className:"form-label",children:[t.jsx("i",{className:"fas fa-calendar-check"}),"End Date & Time"]}),t.jsx("input",{type:"datetime-local",id:"end_date",name:"end_date",className:"form-input",value:l.end_date||"",onChange:i,min:l.event_date||""})]})]}),t.jsxs("div",{className:"form-group venue-section",children:[t.jsxs("label",{className:"form-label",children:[t.jsx("i",{className:"fas fa-map-marker-alt"}),"Venue Information"]}),t.jsx("div",{className:"form-row",children:t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"venue_name",className:"form-label",children:[t.jsx("i",{className:"fas fa-building"}),"Venue Name *"]}),t.jsx("input",{type:"text",id:"venue_name",name:"venue_name",className:"form-input",placeholder:"Enter venue name",value:l.venue_name||"",onChange:i,required:!0})]})}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"venue_address",className:"form-label",children:[t.jsx("i",{className:"fas fa-map-pin"}),"Venue Address *"]}),t.jsx("textarea",{id:"venue_address",name:"venue_address",className:"form-textarea",placeholder:"Enter venue address",value:l.venue_address||"",onChange:i,rows:"3",required:!0})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"registration_deadline",className:"form-label",children:[t.jsx("i",{className:"fas fa-hourglass-end"}),"Registration Deadline"]}),t.jsx("input",{type:"date",id:"registration_deadline",name:"registration_deadline",className:"form-input",value:l.registration_deadline||"",onChange:i,max:l.event_date?new Date(l.event_date).toISOString().split("T")[0]:""})]}),t.jsxs("div",{className:"form-actions",children:[t.jsxs("button",{type:"button",className:"back-btn",onClick:N,children:[t.jsx("i",{className:"fas fa-arrow-left"}),"Previous"]}),t.jsxs("button",{type:"button",className:"next-btn",onClick:p,children:["Next Step",t.jsx("i",{className:"fas fa-arrow-right"})]})]})]}),m===3&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"form-group",children:t.jsx(mp,{currentImage:l.image_url,onImageChange:c,label:"Event Image",required:!1,disabled:h})}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"refund_policy",className:"form-label",children:[t.jsx("i",{className:"fas fa-undo"}),"Refund Policy"]}),t.jsx("textarea",{id:"refund_policy",name:"refund_policy",className:"form-textarea",placeholder:"Describe your refund policy...",value:l.refund_policy||"",onChange:i,rows:"3"})]}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"terms_and_conditions",className:"form-label",children:[t.jsx("i",{className:"fas fa-file-contract"}),"Terms and Conditions"]}),t.jsx("textarea",{id:"terms_and_conditions",name:"terms_and_conditions",className:"form-textarea",placeholder:"Enter event terms and conditions...",value:l.terms_and_conditions||"",onChange:i,rows:"3"})]}),t.jsxs("div",{className:"form-actions",children:[t.jsxs("button",{type:"button",className:"back-btn",onClick:N,children:[t.jsx("i",{className:"fas fa-arrow-left"}),"Previous"]}),t.jsxs("button",{type:"button",className:"next-btn",onClick:p,children:["Next Step",t.jsx("i",{className:"fas fa-arrow-right"})]})]})]}),m===4&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"ticket_price",className:"form-label",children:[t.jsx("i",{className:"fas fa-coins"}),"Ticket Price (GH) *"]}),t.jsx("input",{type:"number",id:"ticket_price",name:"ticket_price",className:"form-input",placeholder:"Enter ticket price (0 for free)",value:l.ticket_price||0,onChange:i,min:"0",step:"0.01",required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"max_attendees",className:"form-label",children:[t.jsx("i",{className:"fas fa-users"}),"Max Attendees"]}),t.jsx("input",{type:"number",id:"max_attendees",name:"max_attendees",className:"form-input",placeholder:"Enter maximum attendees",value:l.max_attendees||"",onChange:i,min:"1"})]})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"max_tickets_per_person",className:"form-label",children:[t.jsx("i",{className:"fas fa-ticket-alt"}),"Max Tickets Per Person"]}),t.jsx("input",{type:"number",id:"max_tickets_per_person",name:"max_tickets_per_person",className:"form-input",placeholder:"Default is 5",value:l.max_tickets_per_person||5,onChange:i,min:"1"})]}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"status",className:"form-label",children:[t.jsx("i",{className:"fas fa-toggle-on"}),"Event Status"]}),t.jsxs("select",{id:"status",name:"status",className:"form-select",value:l.status||"draft",onChange:i,children:[t.jsx("option",{value:"draft",children:"Draft"}),t.jsx("option",{value:"published",children:"Published"}),t.jsx("option",{value:"private",children:"Private"})]})]})]}),t.jsxs("div",{className:"form-row checkboxes",children:[t.jsxs("div",{className:"form-group checkbox-group",children:[t.jsx("input",{type:"checkbox",id:"is_public",name:"is_public",checked:l.is_public!==!1,onChange:C=>i({target:{name:"is_public",value:C.target.checked}})}),t.jsxs("label",{htmlFor:"is_public",className:"checkbox-label",children:[t.jsx("i",{className:"fas fa-globe"}),"Publicly Visible"]})]}),t.jsxs("div",{className:"form-group checkbox-group",children:[t.jsx("input",{type:"checkbox",id:"requires_approval",name:"requires_approval",checked:l.requires_approval||!1,onChange:C=>i({target:{name:"requires_approval",value:C.target.checked}})}),t.jsxs("label",{htmlFor:"requires_approval",className:"checkbox-label",children:[t.jsx("i",{className:"fas fa-user-check"}),"Require Registration Approval"]})]})]}),t.jsxs("div",{className:"form-actions",children:[t.jsxs("button",{type:"button",className:"back-btn",onClick:N,children:[t.jsx("i",{className:"fas fa-arrow-left"}),"Previous"]}),t.jsx("button",{type:"submit",className:"submit-btn",disabled:h,children:h?t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-spinner fa-spin"}),"Creating..."]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-save"}),"Create Event"]})})]})]})]})]})})},Zo=(l,i=2,c=!1)=>{if(l==null||l==="")return c?"GH0.00":"0.00";const o=Number(l);if(isNaN(o))return c?"GH0.00":"0.00";const d=o.toLocaleString("en-GH",{minimumFractionDigits:i,maximumFractionDigits:i});return c?`GH${d}`:d},fN=(l,i=2)=>{if(l==null||l==="")return"GH0.00";const c=Number(l);return isNaN(c)?"GH0.00":`GH${c.toLocaleString("en-GH",{minimumFractionDigits:i,maximumFractionDigits:i})}`},Es=(l,i=0)=>{if(l==null||l==="")return i;const c=Number(l);return isNaN(c)?i:c},ls={formatDateTime:(l,i=!0)=>{if(!l)return"N/A";try{const c=new Date(l);if(isNaN(c.getTime()))return"Invalid date";const o={year:"numeric",month:"short",day:"numeric",...i&&{hour:"2-digit",minute:"2-digit"}};return c.toLocaleDateString("en-US",o)}catch(c){return console.error("Error formatting date:",c),"Error"}},formatCurrency:Zo,formatGhanaCurrency:fN,toNumber:Es},hN=({salesData:l,events:i})=>t.jsxs("div",{className:"sales-overview-section",children:[t.jsx("div",{className:"section-header",children:t.jsxs("h2",{className:"section-title",children:[t.jsx("i",{className:"fas fa-chart-line"}),"Sales Overview"]})}),t.jsxs("div",{className:"sales-cards",children:[t.jsxs("div",{className:"sales-card global-income",children:[t.jsxs("div",{className:"sales-card-header",children:[t.jsx("div",{className:"sales-icon",children:t.jsx("i",{className:"fas fa-coins"})}),t.jsxs("div",{className:"sales-info",children:[t.jsx("h3",{children:"Total Revenue"}),t.jsx("p",{className:"sales-amount",children:ls.formatGhanaCurrency(l.totalIncome,2)})]})]}),t.jsx("div",{className:"sales-details",children:t.jsxs("span",{children:["Across ",i.length," events"]})})]}),t.jsxs("div",{className:"sales-card tickets-sold",children:[t.jsxs("div",{className:"sales-card-header",children:[t.jsx("div",{className:"sales-icon",children:t.jsx("i",{className:"fas fa-ticket-alt"})}),t.jsxs("div",{className:"sales-info",children:[t.jsx("h3",{children:"Tickets Sold"}),t.jsx("p",{className:"sales-amount",children:l.eventSales.reduce((c,o)=>c+Number(o.ticketsSold||0),0).toLocaleString()})]})]}),t.jsx("div",{className:"sales-details",children:t.jsx("span",{children:"Total tickets sold"})})]}),t.jsxs("div",{className:"sales-card avg-revenue",children:[t.jsxs("div",{className:"sales-card-header",children:[t.jsx("div",{className:"sales-icon",children:t.jsx("i",{className:"fas fa-chart-bar"})}),t.jsxs("div",{className:"sales-info",children:[t.jsx("h3",{children:"Avg. Revenue"}),t.jsxs("p",{className:"sales-amount",children:["$",i.length>0?(Number(l.totalIncome||0)/i.length).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00"]})]})]}),t.jsx("div",{className:"sales-details",children:t.jsx("span",{children:"Per event"})})]})]}),t.jsxs("div",{className:"individual-sales",children:[t.jsxs("h3",{className:"subsection-title",children:[t.jsx("i",{className:"fas fa-table"}),"Individual Event Sales"]}),l.eventSales.length>0?t.jsx("div",{className:"sales-table-container",children:t.jsxs("table",{className:"sales-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Event Name"}),t.jsx("th",{children:"Ticket Price"}),t.jsx("th",{children:"Tickets Sold"}),t.jsx("th",{children:"Revenue"}),t.jsx("th",{children:"Status"})]})}),t.jsx("tbody",{children:l.eventSales.map((c,o)=>t.jsxs("tr",{children:[t.jsx("td",{className:"event-name-cell",children:t.jsx("div",{className:"event-name-content",children:t.jsx("span",{className:"event-name",children:c.eventName})})}),t.jsx("td",{className:"price-cell",children:ls.formatGhanaCurrency(c.ticketPrice)}),t.jsx("td",{className:"tickets-cell",children:t.jsx("span",{className:"tickets-count",children:c.ticketsSold})}),t.jsx("td",{className:"revenue-cell",children:t.jsx("span",{className:"revenue-amount",children:ls.formatGhanaCurrency(c.revenue)})}),t.jsx("td",{className:"status-cell",children:t.jsx("span",{className:`status-badge ${c.ticketsSold>100?"high-sales":c.ticketsSold>50?"medium-sales":"low-sales"}`,children:c.ticketsSold>100?"High Sales":c.ticketsSold>50?"Medium Sales":"Low Sales"})})]},o))})]})}):t.jsxs("div",{className:"no-sales-data",children:[t.jsx("div",{className:"no-sales-icon",children:t.jsx("i",{className:"fas fa-chart-line"})}),t.jsx("h4",{children:"No Sales Data Available"}),t.jsx("p",{children:"Sales data will appear here once your events start selling tickets."})]})]})]}),mN=({feedbackSummary:l,feedbackFilter:i,setFeedbackFilter:c,events:o,getFilteredFeedback:d,renderStarRating:h,formatDate:g})=>t.jsxs("div",{className:"feedback-section",children:[t.jsx("div",{className:"section-header",children:t.jsxs("h2",{className:"section-title",children:[t.jsx("i",{className:"fas fa-star"}),"Feedback & Reviews"]})}),t.jsxs("div",{className:"feedback-summary",children:[t.jsxs("h3",{className:"subsection-title",children:[t.jsx("i",{className:"fas fa-chart-bar"}),"Event Ratings Overview"]}),Object.keys(l).length>0?t.jsx("div",{className:"summary-cards",children:Object.entries(l).map(([v,m])=>t.jsxs("div",{className:"summary-card",children:[t.jsxs("div",{className:"summary-header",children:[t.jsx("h4",{className:"event-name",children:m.eventName||m.event_name}),t.jsxs("div",{className:"average-rating",children:[t.jsx("span",{className:"rating-number",children:ls.formatCurrency(m.averageRating,1,!1)}),t.jsx("div",{className:"rating-stars",children:h(Math.round(m.averageRating))})]})]}),t.jsx("div",{className:"summary-stats",children:t.jsxs("div",{className:"stat",children:[t.jsx("i",{className:"fas fa-comments"}),t.jsxs("span",{children:[m.totalReviews," ",m.totalReviews===1?"review":"reviews"]})]})})]},v))}):t.jsxs("div",{className:"no-feedback-summary",children:[t.jsx("div",{className:"no-summary-icon",children:t.jsx("i",{className:"fas fa-star"})}),t.jsx("h4",{children:"No Reviews Yet"}),t.jsx("p",{children:"Feedback from attendees will appear here once your events are completed."})]})]}),t.jsxs("div",{className:"feedback-filters",children:[t.jsxs("h3",{className:"subsection-title",children:[t.jsx("i",{className:"fas fa-filter"}),"Filter Feedback"]}),t.jsxs("div",{className:"filter-controls",children:[t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"eventFilter",children:"Filter by Event:"}),t.jsxs("select",{id:"eventFilter",value:i.eventId,onChange:v=>c(m=>({...m,eventId:v.target.value})),className:"filter-select",children:[t.jsx("option",{value:"all",children:"All Events"}),o.map(v=>t.jsx("option",{value:v.event_id,children:v.event_name},v.event_id))]})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"dateFilter",children:"Filter by Date:"}),t.jsxs("select",{id:"dateFilter",value:i.dateRange,onChange:v=>c(m=>({...m,dateRange:v.target.value})),className:"filter-select",children:[t.jsx("option",{value:"all",children:"All Time"}),t.jsx("option",{value:"week",children:"Last Week"}),t.jsx("option",{value:"month",children:"Last Month"}),t.jsx("option",{value:"quarter",children:"Last Quarter"})]})]})]})]}),t.jsxs("div",{className:"feedback-list",children:[t.jsxs("h3",{className:"subsection-title",children:[t.jsx("i",{className:"fas fa-comment-dots"}),"Recent Reviews"]}),d().length>0?t.jsx("div",{className:"feedback-items",children:d().map(v=>t.jsxs("div",{className:"feedback-item",children:[t.jsxs("div",{className:"feedback-header",children:[t.jsxs("div",{className:"feedback-user",children:[t.jsx("div",{className:"user-avatar",children:t.jsx("i",{className:"fas fa-user"})}),t.jsxs("div",{className:"user-info",children:[t.jsx("h4",{className:"user-name",children:v.attendeeName||v.attendee_name}),t.jsx("p",{className:"event-name",children:v.eventName||v.event_name})]})]}),t.jsxs("div",{className:"feedback-rating",children:[t.jsx("div",{className:"rating-stars",children:h(v.rating)}),t.jsxs("span",{className:"rating-text",children:[v.rating,"/5"]})]})]}),t.jsx("div",{className:"feedback-content",children:t.jsx("p",{className:"feedback-comment",children:v.comment})}),t.jsx("div",{className:"feedback-footer",children:t.jsxs("span",{className:"feedback-date",children:[t.jsx("i",{className:"fas fa-clock"}),g(v.submittedAt)]})})]},v.id||`feedback-${Math.random()}`))}):t.jsxs("div",{className:"no-feedback",children:[t.jsx("div",{className:"no-feedback-icon",children:t.jsx("i",{className:"fas fa-comment-slash"})}),t.jsx("h4",{children:"No Reviews Found"}),t.jsx("p",{children:i.eventId!=="all"||i.dateRange!=="all"?"Try adjusting your filters to see more reviews.":"Attendee reviews will appear here after your events."})]})]})]}),pp=({onSubmit:l,onCancel:i,isLoading:c,editMode:o=!1,initialData:d=null})=>{const[h,g]=b.useState({company_name:"",company_type:"vendor",category:"",email:"",phone:"",address:"",website:"",description:"",contact_person:"",services:""}),[v,m]=b.useState({}),[f,p]=b.useState(""),N=y=>{const{name:E,value:k}=y.target;g(O=>({...O,[E]:k})),v[E]&&m(O=>({...O,[E]:""}))};b.useEffect(()=>{o&&d&&g({company_name:d.company_name||"",company_type:d.company_type||"vendor",category:d.category||"",email:d.email||"",phone:d.phone||"",address:d.address||"",website:d.website||"",description:d.description||"",contact_person:d.contact_person||"",services:d.services||""})},[o,d]);const j=()=>{const y={};return h.company_name.trim()||(y.company_name="Company name is required"),h.email.trim()?/\S+@\S+\.\S+/.test(h.email)||(y.email="Email is invalid"):y.email="Email is required",h.phone.trim()||(y.phone="Phone number is required"),h.category.trim()||(y.category="Category is required"),h.contact_person.trim()||(y.contact_person="Contact person is required"),m(y),Object.keys(y).length===0},C=async y=>{if(y.preventDefault(),m({}),p(""),j())try{const E=me.getToken();if(!E){m({general:"You must be logged in to register a company"});return}const k={email:h.email.trim(),phone:h.phone.trim(),contact_person:h.contact_person.trim(),website:h.website.trim()},O={company_name:h.company_name.trim(),company_type:h.company_type,category:h.category.trim(),address:h.address.trim()||null,contact_info:k,description:h.description.trim()||null,services:h.services.trim()||null};let U;const R="http://localhost:5001";o&&d?.company_id?(U=await ue.put(`${R}/api/companies/${d.company_id}`,O,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${E}`}}),p("Company updated successfully!")):(U=await ue.post(`${R}/api/companies`,O,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${E}`}}),p("Company registered successfully!")),l(U.data)}catch(E){console.error("Company registration error:",E);let k="Failed to register company. Please try again.";E.response&&E.response.data&&E.response.data.message&&(k=E.response.data.message),m({general:k})}};return t.jsx("div",{className:"company-registration",children:t.jsxs("div",{className:"form-container",children:[t.jsxs("div",{className:"form-title",children:[t.jsx("i",{className:"fas fa-building"}),o?"Edit Company":"Register Event Company"]}),f&&t.jsxs("div",{className:"success-message",children:[t.jsx("i",{className:"fas fa-check-circle"})," ",f]}),v.general&&t.jsxs("div",{className:"error-message",children:[t.jsx("i",{className:"fas fa-exclamation-circle"})," ",v.general]}),t.jsxs("form",{onSubmit:C,className:"event-form",children:[t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"company_name",children:"Company Name *"}),t.jsx("input",{type:"text",id:"company_name",name:"company_name",value:h.company_name,onChange:N,placeholder:"Enter company name",className:v.company_name?"error":""}),v.company_name&&t.jsx("span",{className:"error-text",children:v.company_name})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"company_type",children:"Company Type *"}),t.jsxs("select",{id:"company_type",name:"company_type",value:h.company_type,onChange:N,children:[t.jsx("option",{value:"vendor",children:"Vendor"}),t.jsx("option",{value:"sponsor",children:"Sponsor"}),t.jsx("option",{value:"partner",children:"Partner"}),t.jsx("option",{value:"supplier",children:"Supplier"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"category",children:"Category *"}),t.jsx("input",{type:"text",id:"category",name:"category",value:h.category,onChange:N,placeholder:"e.g., Catering, Technology, Marketing",className:v.category?"error":""}),v.category&&t.jsx("span",{className:"error-text",children:v.category})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"email",children:"Email *"}),t.jsx("input",{type:"email",id:"email",name:"email",value:h.email,onChange:N,placeholder:"company@example.com",className:v.email?"error":""}),v.email&&t.jsx("span",{className:"error-text",children:v.email})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"phone",children:"Phone *"}),t.jsx("input",{type:"tel",id:"phone",name:"phone",value:h.phone,onChange:N,placeholder:"+1-555-0123",className:v.phone?"error":""}),v.phone&&t.jsx("span",{className:"error-text",children:v.phone})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"website",children:"Website"}),t.jsx("input",{type:"url",id:"website",name:"website",value:h.website,onChange:N,placeholder:"https://company.com"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"contact_person",children:"Contact Person *"}),t.jsx("input",{type:"text",id:"contact_person",name:"contact_person",value:h.contact_person,onChange:N,placeholder:"Contact person name",className:v.contact_person?"error":""}),v.contact_person&&t.jsx("span",{className:"error-text",children:v.contact_person})]}),t.jsxs("div",{className:"form-group full-width",children:[t.jsx("label",{htmlFor:"address",children:"Address"}),t.jsx("input",{type:"text",id:"address",name:"address",value:h.address,onChange:N,placeholder:"Company address"})]}),t.jsxs("div",{className:"form-group full-width",children:[t.jsx("label",{htmlFor:"services",children:"Services/Products"}),t.jsx("textarea",{id:"services",name:"services",value:h.services,onChange:N,placeholder:"Describe the services or products offered",rows:"3"})]}),t.jsxs("div",{className:"form-group full-width",children:[t.jsx("label",{htmlFor:"description",children:"Description"}),t.jsx("textarea",{id:"description",name:"description",value:h.description,onChange:N,placeholder:"Additional company information",rows:"3"})]})]}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",className:"btn-secondary",onClick:i,disabled:c,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn-primary",disabled:c,children:c?t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-spinner fa-spin"}),"Registering..."]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-building"}),o?"Update Company":"Register Company"]})})]})]})]})})},pN=()=>{const[l,i]=b.useState([]),[c,o]=b.useState(!0),[d,h]=b.useState(null),[g,v]=b.useState(!1),[m,f]=b.useState(null),[p,N]=b.useState(!1),[j,C]=b.useState({show:!1,id:null});b.useEffect(()=>{y()},[]);const y=async()=>{try{o(!0),h(null);const S=me.getToken();if(!S){h("Authentication token not found. Please log in."),o(!1);return}const B=await ue.get("http://localhost:5001/api/companies",{headers:{Authorization:`Bearer ${S}`}});i(B.data.companies||[]),o(!1)}catch(S){console.error("Error fetching companies:",S),h("Failed to fetch companies. Please try again."),o(!1)}},E=async()=>{v(!1),o(!0);try{await y(),f(null),N(!1)}catch(S){console.error("Error updating companies list:",S),h("Something went wrong. Please try again.")}finally{o(!1)}},k=S=>{f(S),N(!0),v(!0)},O=S=>{C({show:!0,id:S})},U=async()=>{if(j.id)try{o(!0);const S=me.getToken();await ue.delete(`http://localhost:5001/api/companies/${j.id}`,{headers:{Authorization:`Bearer ${S}`}}),i(l.filter(B=>B.company_id!==j.id)),C({show:!1,id:null}),o(!1)}catch(S){console.error("Error deleting company:",S);let B="Failed to delete company. Please try again.";S.response&&S.response.data&&S.response.data.message&&(B=S.response.data.message),h(B),o(!1),C({show:!1,id:null})}},R=()=>{v(!1),f(null),N(!1)},M=S=>{if(!S)return{email:"",phone:"",contact_person:"",website:""};try{return typeof S=="object"&&S!==null?S:typeof S=="string"?S.trim().startsWith("{")&&S.trim().endsWith("}")?JSON.parse(S):S.includes("@")?{email:S,phone:"",contact_person:"",website:""}:S.replace(/[^0-9+]/g,"").length>7?{email:"",phone:S,contact_person:"",website:""}:{email:"",phone:"",contact_person:S,website:""}:{email:"",phone:"",contact_person:"",website:""}}catch(B){return console.error("Error parsing contact info:",B),typeof S=="string"?S.includes("@")?{email:S,phone:"",contact_person:"",website:""}:{email:"",phone:"",contact_person:S,website:""}:{email:"",phone:"",contact_person:"",website:""}}};if(c&&l.length===0)return t.jsx("div",{className:"company-management-container",children:t.jsxs("div",{className:"loading",children:[t.jsx("i",{className:"fas fa-spinner fa-spin"})," Loading companies..."]})});if(g){let S=m;if(S&&S.contact_info){const B=M(S.contact_info);S={...S,email:B.email||"",phone:B.phone||"",contact_person:B.contact_person||"",website:B.website||""}}return t.jsx(pp,{onSubmit:E,onCancel:R,isLoading:c,editMode:p,initialData:S})}return t.jsxs("div",{className:"company-management-container",children:[t.jsxs("div",{className:"company-management-header",children:[t.jsx("h2",{children:"Company Management"}),t.jsxs("button",{className:"btn-primary",onClick:()=>{v(!0),N(!1),f(null)},children:[t.jsx("i",{className:"fas fa-plus"})," Register New Company"]})]}),d&&t.jsxs("div",{className:"error-message",children:[t.jsx("i",{className:"fas fa-exclamation-circle"})," ",d]}),l.length===0?t.jsx("div",{className:"no-companies",children:t.jsx("p",{children:'No companies registered yet. Click "Register New Company" to add your first company.'})}):t.jsx("div",{className:"company-list",children:l.map(S=>{const B=M(S.contact_info);return t.jsxs("div",{className:"company-card",children:[t.jsxs("div",{className:"company-header",children:[t.jsx("h3",{children:S.company_name}),t.jsx("span",{className:"company-type",children:S.company_type})]}),t.jsxs("div",{className:"company-details",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Category:"})," ",S.category||"Not specified"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Contact:"})," ",B.contact_person||"Not specified"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Email:"})," ",B.email||"Not specified"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Phone:"})," ",B.phone||"Not specified"]}),B.website&&t.jsxs("p",{children:[t.jsx("strong",{children:"Website:"})," ",t.jsx("a",{href:B.website,target:"_blank",rel:"noopener noreferrer",children:B.website})]}),S.address&&t.jsxs("p",{children:[t.jsx("strong",{children:"Address:"})," ",S.address]}),S.services&&t.jsxs("div",{className:"company-services",children:[t.jsx("strong",{children:"Services:"}),t.jsx("p",{children:S.services})]}),S.description&&t.jsxs("div",{className:"company-description",children:[t.jsx("strong",{children:"Description:"}),t.jsx("p",{children:S.description})]})]}),t.jsxs("div",{className:"company-actions",children:[t.jsxs("button",{className:"btn-secondary",onClick:()=>k(S),children:[t.jsx("i",{className:"fas fa-edit"})," Edit"]}),t.jsxs("button",{className:"btn-danger",onClick:()=>O(S.company_id),children:[t.jsx("i",{className:"fas fa-trash-alt"})," Delete"]})]})]},S.company_id)})}),j.show&&t.jsx("div",{className:"delete-modal-overlay",children:t.jsxs("div",{className:"delete-modal",children:[t.jsx("h3",{children:"Confirm Deletion"}),t.jsx("p",{children:"Are you sure you want to delete this company? This action cannot be undone."}),t.jsxs("div",{className:"modal-actions",children:[t.jsx("button",{className:"btn-secondary",onClick:()=>C({show:!1,id:null}),disabled:c,children:"Cancel"}),t.jsx("button",{className:"btn-danger",onClick:U,disabled:c,children:c?t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-spinner fa-spin"})," Deleting..."]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-trash-alt"})," Delete Company"]})})]})]})})]})},gN=({onSubmit:l,onCancel:i,isLoading:c,editMode:o=!1,initialData:d=null})=>{const[h,g]=b.useState(c||!1),[v,m]=b.useState([]),[f,p]=b.useState({full_name:"",email:"",phone:"",date_of_birth:"",gender:"",interests:"",emergency_contact_name:"",emergency_contact_phone:"",dietary_restrictions:"",accessibility_needs:"",bio:"",social_media_links:{},notification_preferences:{},company_id:"",profile_picture_url:""}),[N,j]=b.useState({}),[C,y]=b.useState("");b.useEffect(()=>{E(),o&&d&&p({...f,...d,social_media_links:typeof d.social_media_links=="string"?JSON.parse(d.social_media_links||"{}"):d.social_media_links||{},notification_preferences:typeof d.notification_preferences=="string"?JSON.parse(d.notification_preferences||"{}"):d.notification_preferences||{}})},[o,d]);const E=async()=>{try{const S=me.getToken();if(!S){console.error("Authentication token not found");return}const B=await ue.get("http://localhost:5001/api/companies",{headers:{Authorization:`Bearer ${S}`}});m(B.data.companies||[])}catch(S){console.error("Error fetching companies:",S)}},k=S=>{const{name:B,value:Z}=S.target;p(ee=>({...ee,[B]:Z})),N[B]&&j(ee=>({...ee,[B]:""}))},O=(S,B)=>{p(Z=>({...Z,social_media_links:{...Z.social_media_links,[S]:B}}))},U=S=>{const{name:B,checked:Z}=S.target;p(ee=>({...ee,notification_preferences:{...ee.notification_preferences,[B]:Z}}))},R=()=>{const S={},B=f.email?.trim();if(B?/\S+@\S+\.\S+/.test(B)||(S.email="Please enter a valid email address"):S.email="Email is required",f.full_name?.trim()||(S.full_name="Full name is required"),f.phone?.trim()||(S.phone="Phone number is required"),f.date_of_birth){const re=new Date(f.date_of_birth);isNaN(re.getTime())&&(S.date_of_birth="Please enter a valid date")}return j(S),Object.keys(S).length===0},M=async S=>{if(S.preventDefault(),j({}),!!R()){g(!0),y("");try{const B=me.getToken();if(!B){j({general:"Authentication token not found. Please log in."}),g(!1);return}const Z={full_name:f.full_name.trim(),email:f.email.trim(),phone:f.phone.trim(),date_of_birth:f.date_of_birth||null,gender:f.gender||null,interests:f.interests||null,emergency_contact_name:f.emergency_contact_name||null,emergency_contact_phone:f.emergency_contact_phone||null,dietary_restrictions:f.dietary_restrictions||null,accessibility_needs:f.accessibility_needs||null,bio:f.bio||null,social_media_links:JSON.stringify(f.social_media_links||{}),notification_preferences:JSON.stringify(f.notification_preferences||{}),company_id:f.company_id||null,profile_picture_url:f.profile_picture_url||null};let ee;o&&d?.attendee_id?(ee=await ue.put(`http://localhost:5001/api/attendees/${d.attendee_id}`,Z,{headers:{Authorization:`Bearer ${B}`,"Content-Type":"application/json"}}),y("Attendee updated successfully!")):(ee=await ue.post("http://localhost:5001/api/attendees",Z,{headers:{Authorization:`Bearer ${B}`,"Content-Type":"application/json"}}),y("Attendee registered successfully!")),l&&typeof l=="function"&&l(ee.data),o||p({full_name:"",email:"",phone:"",date_of_birth:"",gender:"",interests:"",emergency_contact_name:"",emergency_contact_phone:"",dietary_restrictions:"",accessibility_needs:"",bio:"",social_media_links:{},notification_preferences:{},company_id:"",profile_picture_url:""})}catch(B){console.error("Error registering/updating attendee:",B);let Z="Failed to register/update attendee. Please try again.",ee={};if(B.response)if(B.response.status===400){if(B.response.data&&B.response.data.message){const re=B.response.data.message.toLowerCase();re.includes("email")?ee.email=B.response.data.message:re.includes("full name")||re.includes("full_name")?ee.full_name=B.response.data.message:re.includes("phone")?ee.phone=B.response.data.message:Z=B.response.data.message}}else Z=B.response.data?.message||"An error occurred while processing your request";j({...ee,general:Object.keys(ee).length===0?Z:void 0})}finally{g(!1)}}};return t.jsx("div",{className:"people-registration-container",children:t.jsxs("div",{className:"form-container",children:[t.jsxs("div",{className:"form-title",children:[t.jsx("i",{className:"fas fa-users"}),o?"Edit Person":"Register Person"]}),C&&t.jsxs("div",{className:"success-message",children:[t.jsx("i",{className:"fas fa-check-circle"})," ",C]}),N.general&&t.jsxs("div",{className:"error-message",children:[t.jsx("i",{className:"fas fa-exclamation-circle"})," ",N.general]}),t.jsxs("form",{onSubmit:M,className:"people-form",children:[t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"section-title",children:"Basic Information"}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"full_name",children:"Full Name *"}),t.jsx("input",{type:"text",id:"full_name",name:"full_name",value:f.full_name,onChange:k,placeholder:"Enter full name",className:N.full_name?"error":""}),N.full_name&&t.jsx("span",{className:"error-text",children:N.full_name})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"email",children:"Email *"}),t.jsx("input",{type:"email",id:"email",name:"email",value:f.email,onChange:k,placeholder:"person@example.com",className:N.email?"error":""}),N.email&&t.jsx("span",{className:"error-text",children:N.email})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"phone",children:"Phone *"}),t.jsx("input",{type:"tel",id:"phone",name:"phone",value:f.phone,onChange:k,placeholder:"+1-555-0123",className:N.phone?"error":""}),N.phone&&t.jsx("span",{className:"error-text",children:N.phone})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"date_of_birth",children:"Date of Birth"}),t.jsx("input",{type:"date",id:"date_of_birth",name:"date_of_birth",value:f.date_of_birth,onChange:k})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"gender",children:"Gender"}),t.jsxs("select",{id:"gender",name:"gender",value:f.gender,onChange:k,children:[t.jsx("option",{value:"",children:"Select Gender"}),t.jsx("option",{value:"male",children:"Male"}),t.jsx("option",{value:"female",children:"Female"}),t.jsx("option",{value:"non-binary",children:"Non-Binary"}),t.jsx("option",{value:"prefer-not-to-say",children:"Prefer Not to Say"}),t.jsx("option",{value:"other",children:"Other"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"company_id",children:"Associated Company"}),t.jsxs("select",{id:"company_id",name:"company_id",value:f.company_id,onChange:k,children:[t.jsx("option",{value:"",children:"Select Company (Optional)"}),v.map(S=>t.jsx("option",{value:S.company_id,children:S.company_name},S.company_id))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"profile_picture_url",children:"Profile Picture URL"}),t.jsx("input",{type:"url",id:"profile_picture_url",name:"profile_picture_url",value:f.profile_picture_url,onChange:k,placeholder:"https://example.com/profile-picture.jpg"})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{className:"section-title",children:"Emergency Contact"}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"emergency_contact_name",children:"Emergency Contact Name"}),t.jsx("input",{type:"text",id:"emergency_contact_name",name:"emergency_contact_name",value:f.emergency_contact_name,onChange:k,placeholder:"Emergency contact name"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"emergency_contact_phone",children:"Emergency Contact Phone"}),t.jsx("input",{type:"tel",id:"emergency_contact_phone",name:"emergency_contact_phone",value:f.emergency_contact_phone,onChange:k,placeholder:"+1-555-0456"})]})]}),t.jsxs("div",{className:"form-section wide-section",children:[t.jsx("h3",{className:"section-title",children:"Additional Information"}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"interests",children:"Interests"}),t.jsx("textarea",{id:"interests",name:"interests",value:f.interests,onChange:k,placeholder:"Describe interests, separated by commas",rows:"2"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"bio",children:"Bio"}),t.jsx("textarea",{id:"bio",name:"bio",value:f.bio,onChange:k,placeholder:"Brief biography or description",rows:"3"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"dietary_restrictions",children:"Dietary Restrictions"}),t.jsx("input",{type:"text",id:"dietary_restrictions",name:"dietary_restrictions",value:f.dietary_restrictions,onChange:k,placeholder:"Any dietary restrictions or allergies"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"accessibility_needs",children:"Accessibility Needs"}),t.jsx("input",{type:"text",id:"accessibility_needs",name:"accessibility_needs",value:f.accessibility_needs,onChange:k,placeholder:"Any accessibility requirements"})]})]}),t.jsxs("div",{className:"form-section wide-section",children:[t.jsx("h3",{className:"section-title",children:"Social Media"}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"social_linkedin",children:"LinkedIn"}),t.jsx("input",{type:"url",id:"social_linkedin",value:f.social_media_links.linkedin||"",onChange:S=>O("linkedin",S.target.value),placeholder:"LinkedIn profile URL"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"social_twitter",children:"X/Twitter"}),t.jsx("input",{type:"url",id:"social_twitter",value:f.social_media_links.twitter||"",onChange:S=>O("twitter",S.target.value),placeholder:"X/Twitter profile URL"})]})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"social_facebook",children:"Facebook"}),t.jsx("input",{type:"url",id:"social_facebook",value:f.social_media_links.facebook||"",onChange:S=>O("facebook",S.target.value),placeholder:"Facebook profile URL"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"social_instagram",children:"Instagram"}),t.jsx("input",{type:"url",id:"social_instagram",value:f.social_media_links.instagram||"",onChange:S=>O("instagram",S.target.value),placeholder:"Instagram profile URL"})]})]})]}),t.jsxs("div",{className:"form-section wide-section",children:[t.jsx("h3",{className:"section-title",children:"Notification Preferences"}),t.jsxs("div",{className:"checkbox-group",children:[t.jsxs("label",{className:"checkbox-container",children:[t.jsx("input",{type:"checkbox",name:"email_updates",checked:f.notification_preferences.email_updates||!1,onChange:U}),t.jsx("span",{className:"checkmark"}),"Email Updates"]}),t.jsxs("label",{className:"checkbox-container",children:[t.jsx("input",{type:"checkbox",name:"sms_updates",checked:f.notification_preferences.sms_updates||!1,onChange:U}),t.jsx("span",{className:"checkmark"}),"SMS Updates"]}),t.jsxs("label",{className:"checkbox-container",children:[t.jsx("input",{type:"checkbox",name:"marketing_communications",checked:f.notification_preferences.marketing_communications||!1,onChange:U}),t.jsx("span",{className:"checkmark"}),"Marketing Communications"]}),t.jsxs("label",{className:"checkbox-container",children:[t.jsx("input",{type:"checkbox",name:"event_reminders",checked:f.notification_preferences.event_reminders||!1,onChange:U}),t.jsx("span",{className:"checkmark"}),"Event Reminders"]})]})]})]}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",className:"btn-secondary",onClick:i,disabled:h,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn-primary",disabled:h,children:h?t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-spinner fa-spin"}),o?"Updating...":"Registering..."]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:o?"fas fa-save":"fas fa-user-plus"}),o?"Update Person":"Register Person"]})})]})]})]})})},xN=({events:l,onSubmit:i,onCancel:c,isLoading:o})=>{const[d,h]=b.useState({eventId:"",eventName:"",attendeeName:"",attendeeEmail:"",attendeePhone:"",company:"",ticketTypeId:"",ticketQuantity:1,registrationType:"manual",paymentStatus:"paid",specialRequirements:"",dietaryRestrictions:"",accessibilityNeeds:"",notes:""}),[g,v]=b.useState({}),[m,f]=b.useState([]),[p,N]=b.useState(!1),[j,C]=b.useState(null);b.useEffect(()=>{d.eventId?y(d.eventId):(f([]),C(null))},[d.eventId]);const y=async M=>{N(!0);try{const S=me.getToken(),B=await ue.get(`http://localhost:5001/api/events/${M}/ticket-types`,{headers:{Authorization:`Bearer ${S}`}});console.log("Loaded ticket types for event:",B.data),f(B.data.ticketTypes||[]),B.data.ticketTypes?.length===1&&h(Z=>({...Z,ticketTypeId:B.data.ticketTypes[0].ticket_type_id.toString()}))}catch(S){console.error("Error loading ticket types:",S),f([])}finally{N(!1)}},E=M=>{const{name:S,value:B}=M.target;if(console.log(` Input change - ${S}:`,B),S==="eventId"){const Z=l.find(re=>re.event_id===parseInt(B));C(Z);const ee={...d,[S]:B,eventName:Z?Z.event_name:"",ticketTypeId:"",ticketQuantity:1};h(ee),console.log(" Updated form data (event):",ee)}else{const Z={...d,[S]:B};h(Z),console.log(" Updated form data (other):",Z)}g[S]&&v(Z=>({...Z,[S]:""}))},k=()=>{const M={};return d.eventId||(M.eventId="Please select an event"),d.attendeeName.trim()||(M.attendeeName="Attendee name is required"),d.attendeeEmail.trim()?/\S+@\S+\.\S+/.test(d.attendeeEmail)||(M.attendeeEmail="Email is invalid"):M.attendeeEmail="Email is required",d.attendeePhone.trim()||(M.attendeePhone="Phone number is required"),(!d.ticketQuantity||d.ticketQuantity<1)&&(M.ticketQuantity="Ticket quantity must be at least 1"),j&&d.ticketQuantity>j.max_tickets_per_person&&(M.ticketQuantity=`Maximum ${j.max_tickets_per_person} tickets allowed per person`),m.length>0&&!d.ticketTypeId&&(M.ticketTypeId="Please select a ticket type"),console.log(" Form validation - Form data:",d),console.log(" Validation errors:",M),console.log(" Validation passed:",Object.keys(M).length===0),v(M),Object.keys(M).length===0},O=M=>{if(M.preventDefault(),k()){const S={eventId:d.eventId,attendeeName:d.attendeeName,attendeeEmail:d.attendeeEmail,attendeePhone:d.attendeePhone,ticketTypeId:d.ticketTypeId?parseInt(d.ticketTypeId):null,ticketQuantity:parseInt(d.ticketQuantity),specialRequirements:d.specialRequirements,company:d.company,dietaryRestrictions:d.dietaryRestrictions,accessibilityNeeds:d.accessibilityNeeds,notes:d.notes,registrationType:d.registrationType,paymentStatus:d.paymentStatus};console.log(" Form data before submission:",d),console.log(" Submitting manual registration data:",S),console.log(" Email field:",S.email),console.log(" Full name field:",S.full_name),i(S)}},U=()=>{if(!d.ticketTypeId||!d.ticketQuantity)return j?.ticket_price?j.ticket_price*d.ticketQuantity:0;const M=m.find(S=>S.ticket_type_id.toString()===d.ticketTypeId);return M?M.price*d.ticketQuantity:0},R=M=>new Intl.NumberFormat("en-GH",{style:"currency",currency:"GHS"}).format(M||0);return t.jsxs("div",{className:"create-event-section",children:[t.jsx("style",{children:`
        .loading-placeholder {
          padding: 8px 12px;
          background: #f5f5f5;
          border: 1px solid #ddd;
          border-radius: 4px;
          color: #666;
          font-style: italic;
        }
        
        .total-cost-display {
          font-size: 1.2em;
          font-weight: bold;
          color: #2c5282;
          padding: 8px 12px;
          background: #e6fffa;
          border: 1px solid #81e6d9;
          border-radius: 4px;
        }
        
        .total-cost-display small {
          display: block;
          font-size: 0.8em;
          font-weight: normal;
          color: #4a5568;
          margin-top: 4px;
        }
        
        .form-help {
          display: block;
          margin-top: 4px;
          font-size: 0.85em;
          color: #666;
        }
        
        .ticket-type-info {
          background: #f7fafc;
          padding: 12px;
          border-radius: 6px;
          margin-top: 8px;
          border-left: 4px solid #4299e1;
        }
        
        .ticket-type-info h4 {
          margin: 0 0 8px 0;
          color: #2d3748;
          font-size: 1em;
        }
        
        .ticket-type-info p {
          margin: 4px 0;
          color: #4a5568;
          font-size: 0.9em;
        }
      `}),t.jsxs("div",{className:"form-container",children:[t.jsxs("div",{className:"form-title",children:[t.jsx("i",{className:"fas fa-user-plus"}),"Manual Event Registration"]}),t.jsxs("form",{onSubmit:O,className:"event-form",children:[t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"eventId",children:"Select Event *"}),t.jsxs("select",{id:"eventId",name:"eventId",value:d.eventId,onChange:E,className:g.eventId?"error":"",children:[t.jsx("option",{value:"",children:"Choose an event..."}),l.map(M=>t.jsxs("option",{value:M.event_id,children:[M.event_name," - ",new Date(M.event_date).toLocaleDateString()]},M.event_id))]}),g.eventId&&t.jsx("span",{className:"error-text",children:g.eventId})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"registrationType",children:"Registration Type"}),t.jsxs("select",{id:"registrationType",name:"registrationType",value:d.registrationType,onChange:E,children:[t.jsx("option",{value:"manual",children:"Manual"}),t.jsx("option",{value:"bulk",children:"Bulk Registration"}),t.jsx("option",{value:"offline",children:"Offline Registration"}),t.jsx("option",{value:"phone",children:"Phone Registration"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"attendeeName",children:"Attendee Name *"}),t.jsx("input",{type:"text",id:"attendeeName",name:"attendeeName",value:d.attendeeName,onChange:E,placeholder:"Enter attendee full name",className:g.attendeeName?"error":""}),g.attendeeName&&t.jsx("span",{className:"error-text",children:g.attendeeName})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"attendeeEmail",children:"Email *"}),t.jsx("input",{type:"email",id:"attendeeEmail",name:"attendeeEmail",value:d.attendeeEmail,onChange:E,placeholder:"attendee@example.com",className:g.attendeeEmail?"error":""}),g.attendeeEmail&&t.jsx("span",{className:"error-text",children:g.attendeeEmail})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"attendeePhone",children:"Phone *"}),t.jsx("input",{type:"tel",id:"attendeePhone",name:"attendeePhone",value:d.attendeePhone,onChange:E,placeholder:"+1-555-0123",className:g.attendeePhone?"error":""}),g.attendeePhone&&t.jsx("span",{className:"error-text",children:g.attendeePhone})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"company",children:"Company/Organization"}),t.jsx("input",{type:"text",id:"company",name:"company",value:d.company,onChange:E,placeholder:"Company or organization"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"ticketQuantity",children:"Ticket Quantity *"}),t.jsx("input",{type:"number",id:"ticketQuantity",name:"ticketQuantity",min:"1",max:j?.max_tickets_per_person||10,value:d.ticketQuantity,onChange:E,placeholder:"1",className:g.ticketQuantity?"error":""}),g.ticketQuantity&&t.jsx("span",{className:"error-text",children:g.ticketQuantity}),j&&t.jsxs("small",{className:"form-help",children:["Max ",j.max_tickets_per_person," tickets per person"]})]}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"ticketTypeId",children:["Ticket Type",m.length>0&&" *",p&&" (Loading...)"]}),p?t.jsx("div",{className:"loading-placeholder",children:"Loading ticket types..."}):m.length>0?t.jsxs("select",{id:"ticketTypeId",name:"ticketTypeId",value:d.ticketTypeId,onChange:E,className:g.ticketTypeId?"error":"",children:[t.jsx("option",{value:"",children:"Select ticket type..."}),m.map(M=>t.jsxs("option",{value:M.ticket_type_id,children:[M.type_name," - ",R(M.price),M.quantity_available&&` (${M.quantity_available-(M.quantity_sold||0)} available)`]},M.ticket_type_id))]}):t.jsx("select",{disabled:!0,children:t.jsxs("option",{children:["Using event default price: ",j?R(j.ticket_price):"N/A"]})}),g.ticketTypeId&&t.jsx("span",{className:"error-text",children:g.ticketTypeId}),d.ticketTypeId&&m.length>0&&(()=>{const M=m.find(S=>S.ticket_type_id.toString()===d.ticketTypeId);return M&&(M.description||M.benefits)?t.jsxs("div",{className:"ticket-type-info",children:[t.jsx("h4",{children:M.type_name}),M.description&&t.jsxs("p",{children:[t.jsx("strong",{children:"Description:"})," ",M.description]}),M.benefits&&t.jsxs("p",{children:[t.jsx("strong",{children:"Benefits:"})," ",M.benefits]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Available:"})," ",M.quantity_available-(M.quantity_sold||0)," tickets"]})]}):null})()]}),d.ticketQuantity>0&&t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Total Cost"}),t.jsxs("div",{className:"total-cost-display",children:[R(U()),d.ticketQuantity>1&&t.jsxs("small",{children:["(",d.ticketQuantity,"  ",R(U()/d.ticketQuantity),")"]})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"paymentStatus",children:"Payment Status"}),t.jsxs("select",{id:"paymentStatus",name:"paymentStatus",value:d.paymentStatus,onChange:E,children:[t.jsx("option",{value:"paid",children:"Paid"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"partial",children:"Partial Payment"}),t.jsx("option",{value:"complimentary",children:"Complimentary"}),t.jsx("option",{value:"refunded",children:"Refunded"})]})]}),t.jsxs("div",{className:"form-group full-width",children:[t.jsx("label",{htmlFor:"dietaryRestrictions",children:"Dietary Restrictions"}),t.jsx("input",{type:"text",id:"dietaryRestrictions",name:"dietaryRestrictions",value:d.dietaryRestrictions,onChange:E,placeholder:"Any dietary restrictions or allergies"})]}),t.jsxs("div",{className:"form-group full-width",children:[t.jsx("label",{htmlFor:"accessibilityNeeds",children:"Accessibility Needs"}),t.jsx("input",{type:"text",id:"accessibilityNeeds",name:"accessibilityNeeds",value:d.accessibilityNeeds,onChange:E,placeholder:"Any accessibility requirements"})]}),t.jsxs("div",{className:"form-group full-width",children:[t.jsx("label",{htmlFor:"specialRequirements",children:"Special Requirements"}),t.jsx("textarea",{id:"specialRequirements",name:"specialRequirements",value:d.specialRequirements,onChange:E,placeholder:"Any special requirements for this attendee",rows:"3"})]}),t.jsxs("div",{className:"form-group full-width",children:[t.jsx("label",{htmlFor:"notes",children:"Additional Notes"}),t.jsx("textarea",{id:"notes",name:"notes",value:d.notes,onChange:E,placeholder:"Any additional notes or comments",rows:"3"})]})]}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",className:"btn-secondary",onClick:c,disabled:o,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn-primary",disabled:o,children:o?t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-spinner fa-spin"}),"Registering..."]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-check"}),"Complete Registration"]})})]})]})]})]})},vN=({events:l=[]})=>{const[i,c]=b.useState("ticket-types"),[o,d]=b.useState([]),[h,g]=b.useState(null),[v,m]=b.useState([]),[f,p]=b.useState(!1),[N,j]=b.useState(""),[C,y]=b.useState(""),[E,k]=b.useState(""),[O,U]=b.useState(!1),[R,M]=b.useState(null),[S,B]=b.useState({type_name:"",price:"",quantity_available:"",description:"",benefits:""});b.useEffect(()=>{E&&(Z(),i==="sales"&&ee(),i==="registrations"&&re())},[E,i]);const Z=async()=>{if(E){p(!0);try{const A=me.getToken(),V=await ue.get(`http://localhost:5001/api/events/${E}/ticket-types`,{headers:{Authorization:`Bearer ${A}`}});d(V.data.ticketTypes||[]),j("")}catch(A){console.error("Error loading ticket types:",A),j("Failed to load ticket types")}finally{p(!1)}}},ee=async()=>{if(E){p(!0);try{const A=me.getToken(),V=await ue.get(`http://localhost:5001/api/events/${E}/ticket-sales`,{headers:{Authorization:`Bearer ${A}`}}),ae={summary:{totalRevenue:V.data.summary?.totalRevenue||0,totalTicketsSold:V.data.summary?.totalTicketsSold||0,uniqueCustomers:V.data.summary?.uniqueCustomers||0,totalCapacity:V.data.summary?.totalCapacity||0},ticketTypes:V.data.ticketTypes||[],dailySales:V.data.dailySales||[],recentSales:V.data.recentSales||[]};g(ae),j("")}catch(A){console.error("Error loading sales data:",A),j("Failed to load sales data")}finally{p(!1)}}},re=async()=>{if(E){p(!0);try{const A=me.getToken(),V=await ue.get(`http://localhost:5001/api/events/${E}/registrations-detailed`,{headers:{Authorization:`Bearer ${A}`}});m(V.data.registrations||[]),j("")}catch(A){console.error("Error loading registrations:",A),j("Failed to load registrations")}finally{p(!1)}}},ge=async A=>{if(A.preventDefault(),!E){j("Please select an event first");return}p(!0);try{const V=me.getToken(),ae=R?`http://localhost:5001/api/events/${E}/ticket-types/${R.ticket_type_id}`:`http://localhost:5001/api/events/${E}/ticket-types`;await ue[R?"put":"post"](ae,S,{headers:{Authorization:`Bearer ${V}`}}),y(R?"Ticket type updated successfully":"Ticket type created successfully"),U(!1),M(null),B({type_name:"",price:"",quantity_available:"",description:"",benefits:""}),Z()}catch(V){console.error("Error saving ticket type:",V),j(V.response?.data?.message||"Failed to save ticket type")}finally{p(!1)}},se=A=>{M(A),B({type_name:A.type_name,price:A.price.toString(),quantity_available:A.quantity_available.toString(),description:A.description||"",benefits:Array.isArray(A.benefits)?A.benefits.join(", "):A.benefits||""}),U(!0)},W=async A=>{if(window.confirm("Are you sure you want to delete this ticket type?")){p(!0);try{const V=me.getToken();await ue.delete(`http://localhost:5001/api/events/${E}/ticket-types/${A}`,{headers:{Authorization:`Bearer ${V}`}}),y("Ticket type deleted successfully"),Z()}catch(V){console.error("Error deleting ticket type:",V),j(V.response?.data?.message||"Failed to delete ticket type")}finally{p(!1)}}},he=async A=>{try{const V=me.getToken();await ue.post(`http://localhost:5001/api/registrations/${A}/generate-qr`,{},{headers:{Authorization:`Bearer ${V}`}}),y("QR code generated successfully"),re()}catch(V){console.error("Error generating QR code:",V),j("Failed to generate QR code")}},xe=A=>`GH${Number(A||0).toLocaleString("en-GH",{minimumFractionDigits:2,maximumFractionDigits:2})}`,ye=A=>new Date(A).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return t.jsxs("div",{className:"ticketing-management",children:[t.jsxs("div",{className:"ticketing-header",children:[t.jsx("h1",{children:"Ticketing Management"}),t.jsx("p",{children:"Manage ticket types, track sales, and monitor registrations for your events"})]}),t.jsxs("div",{className:"event-selection",children:[t.jsx("label",{htmlFor:"event-select",children:"Select Event:"}),t.jsxs("select",{id:"event-select",value:E,onChange:A=>k(A.target.value),className:"event-select",children:[t.jsx("option",{value:"",children:"Choose an event..."}),l.map(A=>t.jsxs("option",{value:A.event_id,children:[A.event_name," - ",ye(A.event_date)]},A.event_id))]}),l.length===0&&!N&&t.jsx("p",{style:{color:"#666",fontSize:"0.9rem",marginTop:"0.5rem"},children:"No events found. Create an event first to manage tickets."})]}),E&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"tab-navigation",children:[t.jsx("button",{className:`tab-button ${i==="ticket-types"?"active":""}`,onClick:()=>c("ticket-types"),children:"Ticket Types"}),t.jsx("button",{className:`tab-button ${i==="sales"?"active":""}`,onClick:()=>c("sales"),children:"Sales Overview"}),t.jsx("button",{className:`tab-button ${i==="registrations"?"active":""}`,onClick:()=>c("registrations"),children:"Registrations"})]}),N&&t.jsx("div",{className:"error-message",children:N}),C&&t.jsx("div",{className:"success-message",children:C}),i==="ticket-types"&&t.jsxs("div",{className:"tab-content",children:[t.jsxs("div",{className:"content-header",children:[t.jsx("h2",{children:"Ticket Types"}),t.jsxs("button",{className:"add-button",onClick:()=>U(!0),children:[t.jsx("i",{className:"fas fa-plus"}),"Add Ticket Type"]})]}),O&&t.jsx("div",{className:"modal-overlay",children:t.jsxs("div",{className:"modal",children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h3",{children:R?"Edit Ticket Type":"Add New Ticket Type"}),t.jsx("button",{className:"close-button",onClick:()=>{U(!1),M(null),B({type_name:"",price:"",quantity_available:"",description:"",benefits:""})},children:""})]}),t.jsxs("form",{onSubmit:ge,className:"ticket-form",children:[t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Ticket Type Name *"}),t.jsx("input",{type:"text",value:S.type_name,onChange:A=>B({...S,type_name:A.target.value}),required:!0,placeholder:"e.g., General Admission, VIP, Early Bird"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Price * ($)"}),t.jsx("input",{type:"number",step:"0.01",min:"0",value:S.price,onChange:A=>B({...S,price:A.target.value}),required:!0,placeholder:"0.00"})]})]}),t.jsx("div",{className:"form-row",children:t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Available Quantity *"}),t.jsx("input",{type:"number",min:"1",value:S.quantity_available,onChange:A=>B({...S,quantity_available:A.target.value}),required:!0,placeholder:"100"})]})}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Description"}),t.jsx("textarea",{value:S.description,onChange:A=>B({...S,description:A.target.value}),placeholder:"Describe what this ticket includes...",rows:"3"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Benefits/Perks"}),t.jsx("textarea",{value:S.benefits,onChange:A=>B({...S,benefits:A.target.value}),placeholder:`List special benefits (separate with commas, semicolons, or new lines)
e.g. Front row seating, Meet & greet, Free refreshments`,rows:"4"})]}),t.jsxs("div",{className:"form-actions",children:[t.jsxs("button",{type:"submit",disabled:f,className:"save-button",children:[t.jsx("i",{className:"fas fa-save"}),f?"Saving...":R?"Update":"Create"," Ticket Type"]}),t.jsxs("button",{type:"button",onClick:()=>{U(!1),M(null)},className:"cancel-button",children:[t.jsx("i",{className:"fas fa-times"}),"Cancel"]})]})]})]})}),t.jsx("div",{className:"ticket-types-grid",children:f?t.jsx("div",{className:"loading",children:"Loading ticket types..."}):o.length===0?t.jsxs("div",{className:"empty-state",children:[t.jsx("p",{children:"No ticket types created yet."}),t.jsx("p",{children:"Create your first ticket type to start selling tickets!"})]}):o.map(A=>t.jsxs("div",{className:"ticket-type-card",children:[t.jsxs("div",{className:"ticket-header",children:[t.jsx("h3",{children:A.type_name}),t.jsx("div",{className:"ticket-price",children:xe(A.price)})]}),t.jsxs("div",{className:"ticket-details",children:[t.jsxs("div",{className:"quantity-info",children:[t.jsxs("span",{className:"sold",children:[A.quantity_sold||0," sold"]}),t.jsxs("span",{className:"available",children:[" / ",A.quantity_available," available"]})]}),A.description&&t.jsx("p",{className:"description",children:A.description}),A.benefits&&t.jsxs("div",{className:"benefits",children:[t.jsx("strong",{children:"Benefits:"}),t.jsx("ul",{children:(Array.isArray(A.benefits)?A.benefits:typeof A.benefits=="string"?A.benefits.split(/[,;\n]/).map(V=>V.trim()).filter(V=>V.length>0):[]).map((V,ae)=>t.jsx("li",{children:typeof V=="string"?V.trim():V},ae))})]})]}),t.jsxs("div",{className:"ticket-actions",children:[t.jsxs("button",{onClick:()=>se(A),className:"edit-button",children:[t.jsx("i",{className:"fas fa-edit"}),"Edit"]}),t.jsxs("button",{onClick:()=>W(A.ticket_type_id),className:"delete-button",disabled:A.quantity_sold>0,title:A.quantity_sold>0?"Cannot delete tickets with sales":"Delete ticket type",children:[t.jsx("i",{className:"fas fa-trash"}),"Delete"]})]})]},A.ticket_type_id))})]}),i==="sales"&&t.jsxs("div",{className:"tab-content",children:[t.jsx("h2",{children:"Sales Overview"}),f?t.jsx("div",{className:"loading",children:"Loading sales data..."}):h?t.jsxs("div",{className:"sales-overview",children:[t.jsxs("div",{className:"sales-summary",children:[t.jsxs("div",{className:"summary-card",children:[t.jsx("h3",{children:"Total Revenue"}),t.jsx("div",{className:"metric",children:xe(h.summary.totalRevenue)})]}),t.jsxs("div",{className:"summary-card",children:[t.jsx("h3",{children:"Tickets Sold"}),t.jsx("div",{className:"metric",children:h.summary.totalTicketsSold})]}),t.jsxs("div",{className:"summary-card",children:[t.jsx("h3",{children:"Total Capacity"}),t.jsx("div",{className:"metric",children:h.summary.totalCapacity})]}),t.jsxs("div",{className:"summary-card",children:[t.jsx("h3",{children:"Capacity Used"}),t.jsx("div",{className:"metric",children:h.summary.totalCapacity>0?`${Math.round(h.summary.totalTicketsSold/h.summary.totalCapacity*100)}%`:"0%"})]})]}),t.jsxs("div",{className:"sales-breakdown",children:[t.jsx("h3",{children:"Sales by Ticket Type"}),t.jsx("div",{className:"sales-table",children:t.jsxs("table",{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Ticket Type"}),t.jsx("th",{children:"Price"}),t.jsx("th",{children:"Sold"}),t.jsx("th",{children:"Available"}),t.jsx("th",{children:"Revenue"}),t.jsx("th",{children:"% of Total Sales"})]})}),t.jsx("tbody",{children:h.ticketTypes.map(A=>t.jsxs("tr",{children:[t.jsx("td",{children:A.name}),t.jsx("td",{children:xe(A.price)}),t.jsx("td",{children:A.sold}),t.jsx("td",{children:A.available}),t.jsx("td",{children:xe(A.revenue)}),t.jsx("td",{children:h.summary.totalRevenue>0?`${Math.round(A.revenue/h.summary.totalRevenue*100)}%`:"0%"})]},A.id))})]})})]})]}):t.jsx("div",{className:"empty-state",children:t.jsx("p",{children:"No sales data available for this event."})})]}),i==="registrations"&&t.jsxs("div",{className:"tab-content",children:[t.jsx("h2",{children:"Event Registrations"}),f?t.jsx("div",{className:"loading",children:"Loading registrations..."}):v.length===0?t.jsx("div",{className:"empty-state",children:t.jsx("p",{children:"No registrations found for this event."})}):t.jsx("div",{className:"registrations-table",children:t.jsxs("table",{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Attendee"}),t.jsx("th",{children:"Email"}),t.jsx("th",{children:"Registration Date"}),t.jsx("th",{children:"Tickets"}),t.jsx("th",{children:"Amount"}),t.jsx("th",{children:"Payment Status"}),t.jsx("th",{children:"Check-in Status"}),t.jsx("th",{children:"QR Code"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:v.map(A=>t.jsxs("tr",{children:[t.jsx("td",{children:A.attendee_name}),t.jsx("td",{children:A.attendee_email}),t.jsx("td",{children:ye(A.registration_date)}),t.jsx("td",{children:A.ticket_quantity}),t.jsx("td",{children:xe(A.total_amount)}),t.jsx("td",{children:t.jsx("span",{className:`status ${A.payment_status}`,children:A.payment_status})}),t.jsx("td",{children:t.jsx("span",{className:`status ${A.check_in_status||"not-checked-in"}`,children:A.check_in_status||"Not Checked In"})}),t.jsx("td",{children:A.qr_code?t.jsx("span",{className:"qr-code",children:A.qr_code}):t.jsx("span",{className:"no-qr",children:"No QR Code"})}),t.jsx("td",{children:!A.qr_code&&t.jsx("button",{onClick:()=>he(A.registration_id),className:"generate-qr-button",title:"Generate QR Code",children:"Generate QR"})})]},A.registration_id))})]})})]})]}),!E&&t.jsx("div",{className:"empty-state",children:t.jsx("p",{children:"Please select an event to manage its ticketing."})})]})};class yN{constructor(i="http://localhost:5001/api"){this.baseUrl=i}getAuthHeaders(){return{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")||sessionStorage.getItem("authToken")}`}}async getEventAttendees(i,c={}){try{const o=new URLSearchParams;c.organizer_id&&o.append("organizer_id",c.organizer_id);const d=`${this.baseUrl}/events/${i}/attendee-listing${o.toString()?"?"+o.toString():""}`,h=await fetch(d,{method:"GET",headers:this.getAuthHeaders()});if(!h.ok)throw new Error(`HTTP error! status: ${h.status}`);return await h.json()}catch(o){throw console.error("Error fetching event attendees:",o),o}}async getOrganizerAttendees(i,c={}){try{const o=new URLSearchParams;Object.keys(c).forEach(g=>{c[g]!==void 0&&c[g]!==null&&c[g]!==""&&o.append(g,c[g])});const d=`${this.baseUrl}/organizers/${i}/attendee-listing${o.toString()?"?"+o.toString():""}`,h=await fetch(d,{method:"GET",headers:this.getAuthHeaders()});if(!h.ok)throw new Error(`HTTP error! status: ${h.status}`);return await h.json()}catch(o){throw console.error("Error fetching organizer attendees:",o),o}}async getEventStats(i){try{const c=await fetch(`${this.baseUrl}/events/${i}/attendee-stats`,{method:"GET",headers:this.getAuthHeaders()});if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);return await c.json()}catch(c){throw console.error("Error fetching event statistics:",c),c}}}const jN=({events:l=[],onCancel:i})=>{const[c,o]=b.useState("scanner"),[d,h]=b.useState(""),[g,v]=b.useState([]),[m,f]=b.useState(""),[p,N]=b.useState(null),[j,C]=b.useState([]),[y,E]=b.useState({}),[k,O]=b.useState(""),[U,R]=b.useState("all"),[M,S]=b.useState(!1),[B,Z]=b.useState(""),ee=D=>{if(!D?.registrations?.total||!D?.registrations?.checked_in)return 0;const Q=Es(D.registrations.total),te=Es(D.registrations.checked_in);return Q===0?0:Math.round(te/Q*100)},re="http://localhost:5001";b.useEffect(()=>{d?(ge(),se(),W()):(v([]),E({}),C([]))},[d]);const ge=async()=>{if(d){S(!0);try{const D=me.getToken(),Q=await ue.get(`${re}/api/events/${d}/attendee-listing`,{headers:{Authorization:`Bearer ${D}`}});console.log(" Loaded comprehensive attendee data:",Q.data),v(Q.data.attendees||[]),Z("")}catch(D){console.error("Error loading attendees:",D),Z("Failed to load attendees"),v([])}finally{S(!1)}}},se=async()=>{if(d)try{const D=me.getToken(),Q=await ue.get(`${re}/api/events/${d}/attendee-stats`,{headers:{Authorization:`Bearer ${D}`}});console.log(" Loaded comprehensive stats:",Q.data),console.log(" Stats data structure:",JSON.stringify(Q.data.stats,null,2)),Q.data.success&&(E({[d]:{registrations:{total:Q.data.stats.total_registered,checked_in:Q.data.stats.total_checked_in,currently_present:Q.data.stats.currently_present},revenue:{collected:0},attendance_percentage:Q.data.stats.attendance_percentage}}),console.log(" Updated attendanceStats for event:",d,Q.data.stats))}catch(D){console.error("Error loading attendance stats:",D);try{const Q=me.getToken(),te=await ue.get(`${re}/api/events/${d}/attendance/stats`,{headers:{Authorization:`Bearer ${Q}`}});console.log(" Loaded fallback stats:",te.data),te.data.success&&E({[d]:{registrations:{total:te.data.totalRegistered,checked_in:te.data.totalCheckedIn,currently_present:te.data.currentlyPresent},revenue:{collected:0},attendance_percentage:te.data.attendancePercentage}})}catch(Q){console.error("Fallback stats loading also failed:",Q),Z("Failed to load attendance statistics")}}},W=async()=>{if(d)try{const D=me.getToken(),Q=await ue.get(`${re}/api/events/${d}/attendance/history`,{headers:{Authorization:`Bearer ${D}`}}),te=l.find(je=>je.event_id.toString()===d.toString())?.event_name||"Event",ie=(Q.data.history||[]).map(je=>({id:je.log_id,attendeeName:je.attendee_name||"Unknown",scanTime:je.check_in_time,eventName:te,qrCode:je.registration_id?.toString()||"N/A",ticketType:`Standard (Qty: ${je.ticket_quantity||1})`,scanMethod:je.scan_method||"Manual",status:je.check_out_time?"checked-out":"checked-in",scannedBy:"Organizer"}));C(ie)}catch(D){console.error("Error loading scan history:",D)}},he=async()=>{if(!m.trim()){N({status:"error",message:"Please enter or scan a QR code"});return}if(!d){N({status:"error",message:"Please select an event first"});return}S(!0);try{const D=me.getToken(),Q=await ue.post(`${re}/api/events/${d}/attendance/scan`,{qr_code:m},{headers:{Authorization:`Bearer ${D}`}});N({status:Q.data.status,message:Q.data.message,attendee:Q.data.attendee}),ge(),se(),W()}catch(D){console.error("Error scanning QR code:",D),D.response?.data?N({status:D.response.data.status||"error",message:D.response.data.message||"QR scan failed",attendee:D.response.data.attendee,checkInTime:D.response.data.checkInTime}):N({status:"error",message:"Failed to scan QR code. Please try again."})}finally{S(!1),f("")}},xe=async D=>{S(!0);try{const Q=me.getToken();await ue.post(`${re}/api/events/${d}/attendance/manual`,{registration_id:D},{headers:{Authorization:`Bearer ${Q}`}}),ge(),se(),W()}catch(Q){console.error("Error checking in attendee:",Q),Z("Failed to check in attendee")}finally{S(!1)}},ye=async D=>{S(!0);try{const Q=me.getToken();console.log(`Sending checkout request for registration ${D} to ${re}/api/events/${d}/attendance/checkout`);const te=await ue.post(`${re}/api/events/${d}/attendance/checkout`,{registration_id:D},{headers:{Authorization:`Bearer ${Q}`}});ge(),se(),W();const ie=te.data?.data?.attendee?.full_name||"Attendee";console.log(`${ie} checked out successfully`)}catch(Q){console.error("Error undoing check-in:",Q),Q.response?.status===404?Z("Check-out endpoint not found. Please contact support."):Q.response?.data?.message?Z(`Check-out failed: ${Q.response.data.message}`):Z("Failed to process check-out. Please try again.");try{ge(),se(),W()}catch(te){console.error("Error refreshing data after checkout error:",te)}}finally{S(!1)}},A=()=>{let D=g;return U!=="all"&&(D=D.filter(Q=>(Q.attendance_status==="checked_in"?"checked-in":"registered")===U)),k&&(D=D.filter(Q=>Q.attendee_name.toLowerCase().includes(k.toLowerCase())||Q.attendee_email.toLowerCase().includes(k.toLowerCase())||Q.qr_code?.toLowerCase().includes(k.toLowerCase())||Q.attendee_phone?.toLowerCase().includes(k.toLowerCase()))),D},V=D=>D?new Date(D).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Not checked in",ae=D=>{switch(D){case"checked-in":return t.jsx("i",{className:"fas fa-check-circle status-checked-in"});case"registered":return t.jsx("i",{className:"fas fa-clock status-registered"});case"checked-out":return t.jsx("i",{className:"fas fa-sign-out-alt status-checked-out"});case"no-show":return t.jsx("i",{className:"fas fa-times-circle status-no-show"});default:return t.jsx("i",{className:"fas fa-question-circle status-unknown"})}},I=D=>D&&D.status||"unknown",w=D=>{switch(D||"unknown"){case"success":return t.jsx("i",{className:"fas fa-check-circle scan-success"});case"invalid":return t.jsx("i",{className:"fas fa-times-circle scan-invalid"});case"duplicate":return t.jsx("i",{className:"fas fa-exclamation-triangle scan-duplicate"});case"error":return t.jsx("i",{className:"fas fa-exclamation-circle scan-error"});default:return t.jsx("i",{className:"fas fa-info-circle"})}};return b.useEffect(()=>{d&&ge()},[U,k]),t.jsxs("div",{className:"attendance-verification",children:[t.jsxs("div",{className:"attendance-header",children:[t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-user-check"}),"Attendance & Verification"]}),t.jsx("p",{children:"Scan QR codes and manage real-time attendance tracking"})]}),B&&t.jsxs("div",{className:"error-message",children:[t.jsx("i",{className:"fas fa-exclamation-triangle"}),B]}),t.jsxs("div",{className:"attendance-tabs",children:[t.jsxs("button",{className:`tab-btn ${c==="scanner"?"active":""}`,onClick:()=>o("scanner"),children:[t.jsx("i",{className:"fas fa-qrcode"}),"QR Scanner"]}),t.jsxs("button",{className:`tab-btn ${c==="attendees"?"active":""}`,onClick:()=>o("attendees"),children:[t.jsx("i",{className:"fas fa-users"}),"Attendee List"]}),t.jsxs("button",{className:`tab-btn ${c==="stats"?"active":""}`,onClick:()=>o("stats"),children:[t.jsx("i",{className:"fas fa-chart-bar"}),"Statistics"]}),t.jsxs("button",{className:`tab-btn ${c==="history"?"active":""}`,onClick:()=>o("history"),children:[t.jsx("i",{className:"fas fa-history"}),"Scan History"]})]}),t.jsxs("div",{className:"attendance-content",children:[t.jsxs("div",{className:"event-selector",children:[t.jsx("label",{children:"Select Event:"}),t.jsxs("select",{value:d,onChange:D=>{console.log(" Selected event ID:",D.target.value),h(D.target.value)},className:"event-select",children:[t.jsx("option",{value:"",children:"Choose an event..."}),l&&l.map((D,Q)=>t.jsxs("option",{value:D.event_id,children:[D.event_name," - ",new Date(D.event_date).toLocaleDateString()]},D.event_id||`event-${Q}`))]})]}),c==="scanner"&&t.jsx("div",{className:"scanner-tab",children:t.jsxs("div",{className:"scanner-section",children:[t.jsxs("h4",{children:[t.jsx("i",{className:"fas fa-camera"}),"QR Code Scanner"]}),t.jsxs("div",{className:"scanner-interface",children:[t.jsxs("div",{className:"scanner-camera",children:[t.jsxs("div",{className:"camera-placeholder",children:[t.jsx("i",{className:"fas fa-camera"}),t.jsx("p",{children:"Camera View"}),t.jsx("small",{children:"Point camera at QR code to scan"})]}),t.jsx("div",{className:"scanner-overlay",children:t.jsx("div",{className:"scan-frame"})})]}),t.jsxs("div",{className:"scanner-controls",children:[t.jsxs("div",{className:"manual-input",children:[t.jsx("label",{children:"Or enter QR code manually:"}),t.jsxs("div",{className:"input-group",children:[t.jsx("input",{type:"text",value:m,onChange:D=>f(D.target.value),placeholder:"Enter QR code",className:"qr-input",onKeyPress:D=>D.key==="Enter"&&he()}),t.jsxs("button",{onClick:he,className:"scan-btn",disabled:!d||M,children:[t.jsx("i",{className:"fas fa-search"}),M?"Verifying...":"Verify"]})]})]}),p&&t.jsxs("div",{className:`scan-result ${p.status}`,children:[w(p.status),t.jsxs("div",{className:"result-content",children:[t.jsx("p",{className:"result-message",children:p.message}),p.attendee&&t.jsxs("div",{className:"attendee-info",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Name:"})," ",p.attendee.name]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Ticket:"})," ",p.attendee.ticketType]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Email:"})," ",p.attendee.email]}),p.attendee.checkInTime&&t.jsxs("p",{children:[t.jsx("strong",{children:"Check-in Time:"})," ",V(p.attendee.checkInTime)]})]})]})]})]})]})]})}),c==="attendees"&&t.jsxs("div",{className:"attendees-tab",children:[t.jsx("div",{className:"attendees-controls",children:t.jsxs("div",{className:"search-filter",children:[t.jsxs("div",{className:"search-box",children:[t.jsx("i",{className:"fas fa-search"}),t.jsx("input",{type:"text",placeholder:"Search attendees...",value:k,onChange:D=>O(D.target.value)})]}),t.jsxs("select",{value:U,onChange:D=>R(D.target.value),className:"status-filter",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"checked-in",children:"Checked In"}),t.jsx("option",{value:"registered",children:"Registered"}),t.jsx("option",{value:"no-show",children:"No Show"})]})]})}),M&&t.jsxs("div",{className:"loading-message",children:[t.jsx("i",{className:"fas fa-spinner fa-spin"}),"Loading attendees..."]}),t.jsx("div",{className:"attendees-list",children:A().map((D,Q)=>t.jsxs("div",{className:"attendee-card",children:[t.jsxs("div",{className:"attendee-info",children:[t.jsxs("div",{className:"attendee-header",children:[t.jsx("h4",{children:D.attendee_name}),t.jsxs("div",{className:"attendee-status",children:[ae(D.attendance_status==="checked_in"?"checked-in":"registered"),t.jsx("span",{className:`status-text ${D.attendance_status==="checked_in"?"checked-in":"registered"}`,children:D.attendance_status==="checked_in"?"CHECKED IN":"REGISTERED"})]})]}),t.jsxs("div",{className:"attendee-details",children:[t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-envelope"})," ",D.attendee_email]}),t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-phone"})," ",D.attendee_phone||"N/A"]}),t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-ticket-alt"})," ",D.ticket_type||"Standard"]}),t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-qrcode"})," ",D.qr_code||"N/A"]}),t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-credit-card"})," Payment: ",D.payment_status||"N/A"]}),t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-coins"})," Amount: GH",Zo(D.total_amount)]}),D.special_requirements&&t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-info-circle"})," Special: ",D.special_requirements]}),D.check_in_time&&t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-clock"})," Checked in: ",V(D.check_in_time)]}),D.dietary_restrictions&&t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-utensils"})," Dietary: ",D.dietary_restrictions]})]})]}),t.jsx("div",{className:"attendee-actions",children:D.attendance_status!=="checked_in"?t.jsxs("button",{onClick:()=>xe(D.registration_id),className:"check-in-btn",disabled:M,children:[t.jsx("i",{className:"fas fa-check"}),"Check In"]}):t.jsxs("button",{onClick:()=>ye(D.registration_id),className:"check-out-btn",disabled:M,children:[t.jsx("i",{className:"fas fa-undo"}),"Undo Check-in"]})})]},D.registration_id||`attendee-${Q}`))}),!M&&A().length===0&&t.jsxs("div",{className:"no-attendees",children:[t.jsx("i",{className:"fas fa-users"}),t.jsx("p",{children:"No attendees found"}),d?t.jsx("small",{children:"Try adjusting your search or filter criteria"}):t.jsx("small",{children:"Please select an event to view attendees"})]})]}),c==="stats"&&t.jsxs("div",{className:"stats-tab",children:[t.jsxs("h4",{children:[t.jsx("i",{className:"fas fa-chart-bar"}),"Attendance Statistics"]}),d?t.jsx("div",{className:"stats-grid",children:y[d]&&t.jsxs("div",{className:"event-stats-card",children:[t.jsxs("div",{className:"event-stats-header",children:[t.jsx("h5",{children:"Event Statistics"}),t.jsxs("div",{className:"attendance-rate",children:[t.jsxs("span",{className:"rate-value",children:[ee(y[d]),"%"]}),t.jsx("span",{className:"rate-label",children:"Attendance Rate"})]})]}),t.jsx("div",{className:"stats-breakdown",children:y[d]?.registrations&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"stat-item checked-in",children:[t.jsx("i",{className:"fas fa-check-circle"}),t.jsx("span",{className:"stat-number",children:Es(y[d]?.registrations?.checked_in)}),t.jsx("span",{className:"stat-label",children:"Checked In"})]}),t.jsxs("div",{className:"stat-item registered",children:[t.jsx("i",{className:"fas fa-clock"}),t.jsx("span",{className:"stat-number",children:Es(y[d]?.registrations?.total)-Es(y[d]?.registrations?.checked_in)}),t.jsx("span",{className:"stat-label",children:"Not Checked In"})]}),t.jsxs("div",{className:"stat-item total",children:[t.jsx("i",{className:"fas fa-users"}),t.jsx("span",{className:"stat-number",children:Es(y[d]?.registrations?.total)}),t.jsx("span",{className:"stat-label",children:"Total Registered"})]}),t.jsxs("div",{className:"stat-item revenue",children:[t.jsx("i",{className:"fas fa-coins"}),t.jsxs("span",{className:"stat-number",children:["GH",Zo(y[d]?.revenue?.collected||0)]}),t.jsx("span",{className:"stat-label",children:"Revenue Collected"})]})]})}),y[d].capacity&&t.jsxs("div",{className:"capacity-info",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Capacity:"})," ",y[d].capacity.current_registrations," / ",y[d].capacity.max_attendees||"Unlimited"]}),y[d].capacity.percentage_filled&&t.jsxs("p",{children:[t.jsx("strong",{children:"Filled:"})," ",y[d].capacity.percentage_filled,"%"]})]}),t.jsx("div",{className:"progress-bar",children:t.jsx("div",{className:"progress-fill",style:{width:`${ee(y[d])}%`}})})]})}):t.jsxs("div",{className:"no-stats",children:[t.jsx("i",{className:"fas fa-chart-bar"}),t.jsx("p",{children:"Please select an event to view statistics"})]})]}),c==="history"&&t.jsxs("div",{className:"history-tab",children:[t.jsxs("h4",{children:[t.jsx("i",{className:"fas fa-history"}),"Scan History"]}),j.length>0?t.jsx("div",{className:"history-list",children:j.map((D,Q)=>t.jsxs("div",{className:`history-item ${D.status}`,children:[t.jsx("div",{className:"history-icon",children:w(I(D))}),t.jsxs("div",{className:"history-content",children:[t.jsxs("div",{className:"history-header",children:[t.jsx("h5",{children:D.attendeeName}),t.jsx("span",{className:"scan-time",children:V(D.scanTime)})]}),t.jsxs("div",{className:"history-details",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Event:"})," ",D.eventName]}),t.jsxs("p",{children:[t.jsx("strong",{children:"QR Code:"})," ",D.qrCode]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Ticket:"})," ",D.ticketType]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Method:"})," ",D.scanMethod||"QR Code"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Status:"}),t.jsx("span",{className:`status-badge ${I(D)}`,children:I(D).toUpperCase()})]}),D.scannedBy&&t.jsxs("p",{children:[t.jsx("strong",{children:"Scanned by:"})," ",D.scannedBy]})]})]})]},D.id||`scan-${Q}`))}):t.jsxs("div",{className:"no-history",children:[t.jsx("i",{className:"fas fa-history"}),t.jsx("p",{children:"No scan history available"}),d?t.jsx("small",{children:"Start scanning QR codes to see history"}):t.jsx("small",{children:"Please select an event to view scan history"})]})]})]}),t.jsx("div",{className:"attendance-footer",children:t.jsxs("button",{onClick:i,className:"cancel-btn",children:[t.jsx("i",{className:"fas fa-times"}),"Close"]})})]})},Ss=({isOpen:l,onClose:i,title:c,children:o,maxWidth:d="50%"})=>{b.useEffect(()=>{const g=v=>{v.key==="Escape"&&l&&i()};return l&&(document.addEventListener("keydown",g),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",g),document.body.style.overflow="unset"}},[l,i]);const h=g=>{g.target===g.currentTarget&&i()};return l?t.jsx("div",{className:"modal-overlay",onClick:h,children:t.jsxs("div",{className:"modal-container",style:{maxWidth:d,width:"100%"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h3",{children:c}),t.jsx("button",{className:"close-modal-btn",onClick:i,"aria-label":"Close modal",children:t.jsx("i",{className:"fas fa-times"})})]}),t.jsx("div",{className:"modal-content",children:o})]})}):null},NN=()=>{const[l,i]=b.useState([]),[c,o]=b.useState(!1),[d,h]=b.useState(!1),[g,v]=b.useState(""),[m,f]=b.useState(""),[p,N]=b.useState(!1),[j,C]=b.useState(!1),[y,E]=b.useState(!1),[k,O]=b.useState(!1),[U,R]=b.useState(!1),[M,S]=b.useState(!1),[B,Z]=b.useState({totalIncome:0,eventSales:[]}),[ee,re]=b.useState([]),[ge,se]=b.useState([]),[W,he]=b.useState([]),[xe,ye]=b.useState([]),[A,V]=b.useState({}),[ae,I]=b.useState({eventId:"all",dateRange:"all"}),[w,D]=b.useState({event_name:"",event_date:"",venue_name:"",venue_address:"",description:"",category:"",event_type:"Conference",ticket_price:"",image_url:"",image_filename:"",image_type:"",image_size:"",image_mimetype:"",registration_deadline:"",refund_policy:"",terms_and_conditions:"",status:"draft",is_public:!0,requires_approval:!1,max_tickets_per_person:5,max_attendees:"",tags:""}),[Q,te]=b.useState(null),[ie,je]=b.useState(null),[Ne,Ye]=b.useState(!1),[Ue,ct]=b.useState(!1),[ga,wt]=b.useState(!1),[Mt,de]=b.useState(null);b.useEffect(()=>{const Y=me.getUser();if(Y){te(Y);try{const le=Y?.user_id?`organizer_sales_data_${Y.user_id}`:"organizer_sales_data",oe=localStorage.getItem(le);if(oe){const Oe=JSON.parse(oe);Z(Oe),console.log(" Restored cached sales data:",Oe)}}catch(le){console.warn("Could not restore cached sales data:",le)}L(),ne(),ce()}else te({username:"Demo Organizer"}),fe()},[]),b.useEffect(()=>{l.length>0&&Be(l)},[l]);const fe=()=>{const Y=[{event_id:1,event_name:"Tech Conference 2025",event_date:"2025-02-15T09:00:00Z",venue_name:"Convention Center Downtown",venue_address:"123 Main St, New York, NY",description:"Annual technology conference featuring latest trends in AI, blockchain, and web development.",category:"Technology",event_type:"Conference",max_attendees:500,ticket_price:50,registration_count:150,image_url:"https://example.com/tech-conf.jpg",status:"published",is_public:!0},{event_id:2,event_name:"Marketing Workshop",event_date:"2025-03-22T14:00:00Z",venue_name:"Business Hub",venue_address:"456 Business Ave, Chicago, IL",description:"Interactive workshop on digital marketing strategies and social media management.",category:"Business",event_type:"Workshop",max_attendees:100,ticket_price:75,registration_count:85,image_url:"https://example.com/marketing-workshop.jpg",status:"published",is_public:!0},{event_id:3,event_name:"Networking Event",event_date:"2025-04-10T18:00:00Z",venue_name:"Rooftop Lounge",venue_address:"789 Skyview Rd, San Francisco, CA",description:"Professional networking event for entrepreneurs and business leaders.",category:"Networking",event_type:"Networking",max_attendees:200,ticket_price:25,registration_count:200,image_url:"https://example.com/networking-event.jpg",status:"published",is_public:!0}];i(Y),Be(Y),re([{id:1,name:"TechVision Solutions",type:"vendor",category:"Technology",email:"contact@techvision.com",phone:"+1-555-0123",address:"123 Tech Street, Silicon Valley, CA",registeredAt:"2025-01-10T08:00:00Z",status:"active"},{id:2,name:"Global Sponsors Inc",type:"sponsor",category:"Marketing",email:"partnerships@globalsponsors.com",phone:"+1-555-0456",address:"456 Business Ave, New York, NY",registeredAt:"2025-01-15T10:30:00Z",status:"active"}]),se([{id:1,name:"Dr. Sarah Chen",email:"sarah.chen@example.com",phone:"+1-555-1111",role:"speaker",company:"AI Research Institute",bio:"Leading AI researcher and keynote speaker",registeredAt:"2025-01-12T14:20:00Z",status:"confirmed"},{id:2,name:"Michael Johnson",email:"michael.j@vipguest.com",phone:"+1-555-2222",role:"vip",company:"Fortune 500 CEO",bio:"Technology industry executive",registeredAt:"2025-01-14T09:15:00Z",status:"confirmed"}]),he([{id:1,eventId:1,eventName:"Tech Conference 2025",attendeeName:"John Smith",attendeeEmail:"john.smith@company.com",attendeePhone:"+1-555-3333",ticketType:"VIP",registrationType:"manual",registeredBy:"Demo Organizer",registeredAt:"2025-01-16T11:00:00Z",status:"confirmed"},{id:2,eventId:2,eventName:"Marketing Workshop",attendeeName:"Emily Rodriguez",attendeeEmail:"emily.r@marketing.com",attendeePhone:"+1-555-4444",ticketType:"Standard",registrationType:"bulk",registeredBy:"Demo Organizer",registeredAt:"2025-01-17T15:30:00Z",status:"confirmed"}]),ye([{id:1,eventId:1,eventName:"Tech Conference 2025",attendeeName:"John Smith",attendeeEmail:"john@example.com",rating:5,comment:"Excellent event! Very informative speakers and great networking opportunities.",submittedAt:"2025-01-15T10:30:00Z"},{id:2,eventId:1,eventName:"Tech Conference 2025",attendeeName:"Sarah Johnson",attendeeEmail:"sarah@example.com",rating:4,comment:"Good content but the venue was a bit crowded. Overall enjoyed it.",submittedAt:"2025-01-16T14:22:00Z"},{id:3,eventId:2,eventName:"Marketing Workshop",attendeeName:"Mike Davis",attendeeEmail:"mike@example.com",rating:5,comment:"Amazing workshop! Learned practical strategies I can implement immediately.",submittedAt:"2025-01-12T09:15:00Z"}]),V({1:{averageRating:4.5,totalReviews:2,eventName:"Tech Conference 2025"},2:{averageRating:5,totalReviews:1,eventName:"Marketing Workshop"},3:{averageRating:0,totalReviews:0,eventName:"Networking Event"}})},L=async()=>{h(!0);try{const Y=me.getToken(),le=await ue.get("http://localhost:5001/api/events/my-events",{headers:{Authorization:`Bearer ${Y}`}});let oe=[];le.data&&Array.isArray(le.data.events)?oe=le.data.events:le.data&&Array.isArray(le.data)?oe=le.data:oe=[],i(oe),Be(oe)}catch(Y){console.error("Error loading events:",Y),v("Failed to load events. Please try again."),i([]),Z({totalIncome:0,eventSales:[]})}finally{h(!1)}},ne=async()=>{try{const Y=me.getToken(),le=await ue.get("http://localhost:5001/api/companies",{headers:{Authorization:`Bearer ${Y}`}});re(le.data.companies||le.data||[])}catch(Y){console.error("Error loading companies:",Y),re([])}},ce=async()=>{try{const Y=me.getToken(),le=await ue.get("http://localhost:5001/api/attendees",{headers:{Authorization:`Bearer ${Y}`}});se(le.data.attendees||le.data||[])}catch(Y){console.error("Error loading attendees:",Y),se([])}},Be=async(Y=null)=>{try{const le=Y||l;console.log(" Loading sales data from events:",le);let oe=0;const Oe=[];le.forEach(vt=>{const xa=parseInt(vt.registration_count||0),Ds=parseFloat(vt.ticket_price||0),Ua=xa*Ds;oe+=Ua,Oe.push({eventId:vt.event_id,eventName:vt.event_name,ticketsSold:xa,revenue:Ua,ticketPrice:Ds})});const ra={totalIncome:oe,eventSales:Oe};console.log(" Calculated sales data:",ra),Z(ra);try{const vt=me.getUser(),xa=vt?.user_id?`organizer_sales_data_${vt.user_id}`:"organizer_sales_data";localStorage.setItem(xa,JSON.stringify(ra))}catch(vt){console.warn("Could not cache sales data:",vt)}}catch(le){console.error("Error calculating sales data:",le),Z({totalIncome:0,eventSales:[]})}},Ge=()=>{let Y=[...xe];if(ae.eventId!=="all"&&(Y=Y.filter(le=>(le.event_id||le.eventId)===parseInt(ae.eventId))),ae.dateRange!=="all"){const le=new Date;let oe=new Date;switch(ae.dateRange){case"week":oe.setDate(le.getDate()-7);break;case"month":oe.setMonth(le.getMonth()-1);break;case"quarter":oe.setMonth(le.getMonth()-3);break;default:oe=null}oe&&(Y=Y.filter(Oe=>new Date(Oe.submittedAt)>=oe))}return Y.sort((le,oe)=>new Date(oe.submittedAt)-new Date(le.submittedAt))},ia=Y=>{const le=[];for(let oe=1;oe<=5;oe++)le.push(t.jsx("i",{className:`fas fa-star ${oe<=Y?"filled":"empty"}`},oe));return le},xt=Y=>{const{name:le,value:oe,type:Oe,checked:ra}=Y.target,vt=Oe==="checkbox"?ra:oe;D(xa=>({...xa,[le]:vt})),g&&v(""),m&&f("")},Ml=Y=>{D(Y?le=>({...le,image_url:Y.url||"",image_filename:Y.filename||"",image_type:Y.type||"",image_size:Y.size||"",image_mimetype:Y.mimetype||""}):le=>({...le,image_url:"",image_filename:"",image_type:"",image_size:"",image_mimetype:""})),g&&v(""),m&&f("")},En=()=>{if(v(""),!w.event_name.trim())return v("Event name is required"),!1;if(!w.event_date)return v("Event date is required"),!1;const Y=new Date(w.event_date),le=new Date;return le.setHours(0,0,0,0),Y<le?(v("Event date must be in the future"),!1):w.venue_name.trim()?w.description.trim()?w.max_attendees&&(isNaN(w.max_attendees)||w.max_attendees<1)?(v("Maximum attendees must be a positive number"),!1):w.ticket_price&&(isNaN(w.ticket_price)||w.ticket_price<0)?(v("Ticket price must be a non-negative number"),!1):!0:(v("Event description is required"),!1):(v("Venue name is required"),!1)},Ul=async Y=>{try{h(!0),v("");const le=me.getToken();if(!le){v("You must be logged in to register a company");return}let oe;const Oe="http://localhost:5001/api/companies";Y.company&&Y.company.company_id?(oe=await ue.put(`${Oe}/${Y.company.company_id}`,Y.company,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${le}`}}),console.log("Company updated successfully:",oe.data),f("Company updated successfully!")):(oe=await ue.post(Oe,Y.company||Y,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${le}`}}),console.log("Company registered successfully:",oe.data),f("Company registered successfully!")),N(!1),setTimeout(()=>f(""),3e3)}catch(le){console.error("Company registration error:",le),le.response?v(le.response.data.message||"Failed to register company"):v("Failed to register company. Please check your connection.")}finally{h(!1)}},hr=async Y=>{h(!0),v("");try{const le=me.getToken();if(!le){v("You must be logged in to register a person");return}(await ue.post("http://localhost:5001/api/attendees",{email:Y.email,full_name:Y.full_name||Y.name,phone:Y.phone,date_of_birth:Y.date_of_birth,gender:Y.gender,interests:Y.interests,emergency_contact_name:Y.emergency_contact_name,emergency_contact_phone:Y.emergency_contact_phone,dietary_restrictions:Y.dietary_restrictions,accessibility_needs:Y.accessibility_needs,profile_picture_url:Y.profile_picture_url,bio:Y.bio,social_media_links:Y.social_media_links,notification_preferences:Y.notification_preferences},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${le}`}})).data&&(f("Person registered successfully!"),E(!1),ce(),setTimeout(()=>f(""),3e3))}catch(le){console.error("Error during people registration:",le),le.response?v(le.response.data.message||"Failed to register person"):v("Failed to register person. Please check your connection.")}finally{h(!1)}},is=async Y=>{h(!0),v("");try{const le=me.getToken();console.log(" Received registration data in handler:",Y),console.log(" Email in data:",Y.email),console.log(" Full name in data:",Y.full_name),console.log(" Event ID:",Y.eventId);const oe=Y.eventId;if(!oe)throw new Error("Event ID is required for registration");const Oe={attendeeName:Y.attendeeName,attendeeEmail:Y.attendeeEmail,attendeePhone:Y.attendeePhone,ticketTypeId:Y.ticketTypeId?parseInt(Y.ticketTypeId):null,ticketQuantity:Y.ticketQuantity?parseInt(Y.ticketQuantity):1,specialRequirements:Y.specialRequirements||"",company:Y.company||"",dietaryRestrictions:Y.dietaryRestrictions||"",accessibilityNeeds:Y.accessibilityNeeds||"",notes:Y.notes||"",registrationType:Y.registrationType||"manual",paymentStatus:Y.paymentStatus||"paid"};if(console.log(" Final payload being sent to backend:",Oe),console.log(" URL:",`http://localhost:5001/api/events/${oe}/manual-registration`),!Oe.attendeeEmail||!Oe.attendeeName||!Oe.ticketTypeId)throw new Error(`Missing required fields: email=${!!Oe.attendeeEmail}, name=${!!Oe.attendeeName}, ticket=${!!Oe.ticketTypeId}`);(await ue.post(`http://localhost:5001/api/events/${oe}/manual-registration`,Oe,{headers:{Authorization:`Bearer ${le}`,"Content-Type":"application/json"}})).data&&(f("Event registration completed successfully!"),O(!1),L(),ce(),setTimeout(()=>f(""),3e3))}catch(le){console.error("Error during manual registration:",le),console.error("Error response data:",le.response?.data),console.error("Error status:",le.response?.status);const oe=le.response?.data?.message||"Failed to register attendee. Please try again.";v(oe),setTimeout(()=>v(""),5e3)}finally{h(!1)}},_t=async Y=>{if(Y.preventDefault(),!En())return;h(!0),v(""),f("");const le={...w,max_attendees:w.max_attendees?parseInt(w.max_attendees):null,ticket_price:w.ticket_price?parseFloat(w.ticket_price):0,tags:w.tags&&typeof w.tags=="string"?w.tags.split(",").map(oe=>oe.trim()):w.tags};try{const oe=me.getToken();if(!oe){v("You must be logged in to create events"),h(!1);return}if(me.isTokenExpired()){v("Your session has expired. Please log in again."),h(!1);return}const ra=(await ue.post("http://localhost:5001/api/events",le,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${oe}`}})).data.event;i(vt=>[...vt,ra]),f("Event created successfully!"),D({event_name:"",event_date:"",venue_name:"",venue_address:"",description:"",category:"",event_type:"Conference",ticket_price:"",image_url:"",image_filename:"",image_type:"",image_size:"",image_mimetype:"",registration_deadline:"",refund_policy:"",terms_and_conditions:"",status:"draft",is_public:!0,requires_approval:!1,max_tickets_per_person:5,max_attendees:"",tags:""}),o(!1),setTimeout(()=>f(""),3e3)}catch(oe){console.error("Error creating event:",oe),oe.response&&oe.response.status===403?oe.response.data&&oe.response.data.error==="permission_denied"?v(`${oe.response.data.message}. Please upgrade to an organizer account.`):oe.response.data&&oe.response.data.message==="Invalid or expired token"?v("Your session has expired. Please log out and log in again."):v("You do not have permission to create events. Please verify your account has organizer privileges."):oe.response&&oe.response.data?v(oe.response.data.message||"Failed to create event. Please try again."):v("Failed to create event. Please check your connection and try again.")}finally{h(!1)}},$t=Y=>new Date(Y).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),St=Y=>{console.log("Viewing event:",Y),je(Y),Ye(!0)},zl=Y=>{console.log("Editing event:",Y),je(Y);const le=oe=>oe?new Date(oe).toISOString().slice(0,16):"";D({event_name:Y.event_name||"",event_date:le(Y.event_date),venue_name:Y.venue_name||"",venue_address:Y.venue_address||"",description:Y.description||"",category:Y.category||"",event_type:Y.event_type||"Conference",ticket_price:Y.ticket_price||"",image_url:Y.image_url||"",image_filename:Y.image_filename||"",image_type:Y.image_type||"",image_size:Y.image_size||"",image_mimetype:Y.image_mimetype||"",registration_deadline:le(Y.registration_deadline),refund_policy:Y.refund_policy||"",terms_and_conditions:Y.terms_and_conditions||"",status:Y.status||"draft",is_public:Y.is_public!==void 0?Y.is_public:!0,requires_approval:Y.requires_approval!==void 0?Y.requires_approval:!1,max_tickets_per_person:Y.max_tickets_per_person||5,max_attendees:Y.max_attendees||"",tags:Array.isArray(Y.tags)?Y.tags.join(", "):Y.tags||""}),ct(!0)},mr=Y=>{console.log("Deleting event:",Y),de(Y),wt(!0)},pr=async()=>{if(Mt){h(!0),v("");try{const Y=me.getToken();if(!Y||me.isTokenExpired()){v("Your session has expired. Please log in again.");return}(await ue.delete(`http://localhost:5001/api/events/${Mt.event_id}`,{headers:{Authorization:`Bearer ${Y}`}})).data&&(f(`Event "${Mt.event_name}" deleted successfully!`),wt(!1),de(null),L(),setTimeout(()=>f(""),3e3))}catch(Y){console.error("Error deleting event:",Y);const le=Y.response?.data?.message||"Failed to delete event. Please try again.";v(le),setTimeout(()=>v(""),5e3)}finally{h(!1)}}},As=async Y=>{if(Y.preventDefault(),!En()||!ie)return;h(!0),v(""),f("");const le={...w,max_attendees:w.max_attendees?parseInt(w.max_attendees):null,ticket_price:w.ticket_price?parseFloat(w.ticket_price):0,tags:w.tags&&typeof w.tags=="string"?w.tags.split(",").map(oe=>oe.trim()):w.tags};try{const oe=me.getToken();if(!oe||me.isTokenExpired()){v("Your session has expired. Please log in again.");return}(await ue.put(`http://localhost:5001/api/events/${ie.event_id}`,le,{headers:{Authorization:`Bearer ${oe}`,"Content-Type":"application/json"}})).data&&(f(`Event "${w.event_name}" updated successfully!`),ct(!1),je(null),D({event_name:"",event_date:"",venue_name:"",venue_address:"",description:"",category:"",event_type:"Conference",ticket_price:"",image_url:"",image_filename:"",image_type:"",image_size:"",image_mimetype:"",registration_deadline:"",refund_policy:"",terms_and_conditions:"",status:"draft",is_public:!0,requires_approval:!1,max_tickets_per_person:5,max_attendees:"",tags:""}),L(),setTimeout(()=>f(""),3e3))}catch(oe){console.error("Error updating event:",oe);const Oe=oe.response?.data?.message||"Failed to update event. Please try again.";v(Oe),setTimeout(()=>v(""),5e3)}finally{h(!1)}};return t.jsxs(t.Fragment,{children:[t.jsx(ma,{}),t.jsxs("div",{className:"organizer-dashboard",children:[t.jsxs("div",{className:"dashboard-header",children:[t.jsxs("div",{className:"header-content",children:[t.jsxs("h1",{className:"dashboard-title",children:[t.jsx("i",{className:"fas fa-calendar-alt"}),"Organizer Dashboard"]}),t.jsxs("p",{className:"dashboard-subtitle",children:["Welcome back, ",Q?.username||"Organizer","! Manage your events and grow your community."]})]}),t.jsx("div",{className:"header-actions",children:t.jsxs("div",{className:"action-buttons-group",children:[t.jsx("div",{className:"action-buttons-row primary-actions",children:t.jsxs("button",{className:"action-button primary-action create-event-btn",onClick:()=>o(!c),children:[t.jsx("i",{className:"fas fa-plus"}),c?"Cancel":"Create Event"]})}),t.jsxs("div",{className:"action-buttons-row management-actions",children:[t.jsxs("button",{className:"action-button register-company-btn",onClick:()=>N(!p),children:[t.jsx("i",{className:"fas fa-building"}),p?"Cancel":"Register Company"]}),t.jsxs("button",{className:"action-button register-company-btn",onClick:()=>C(!0),children:[t.jsx("i",{className:"fas fa-th-list"}),"Manage Companies"]}),t.jsxs("button",{className:"action-button register-people-btn",onClick:()=>E(!y),children:[t.jsx("i",{className:"fas fa-users"}),y?"Cancel":"Register People"]})]}),t.jsxs("div",{className:"action-buttons-row operations-actions",children:[t.jsxs("button",{className:"action-button manual-registration-btn",onClick:()=>O(!k),children:[t.jsx("i",{className:"fas fa-user-plus"}),k?"Cancel":"Manual Registration"]}),t.jsxs("button",{className:"action-button ticketing-btn",onClick:()=>R(!U),children:[t.jsx("i",{className:"fas fa-ticket-alt"}),U?"Cancel":"Ticketing & Payments"]}),t.jsxs("button",{className:"action-button attendance-btn",onClick:()=>S(!M),children:[t.jsx("i",{className:"fas fa-user-check"}),M?"Cancel":"Attendance & Verification"]})]})]})})]}),m&&t.jsxs("div",{className:"message success-message",children:[t.jsx("i",{className:"fas fa-check-circle"}),m]}),g&&t.jsxs("div",{className:"message error-message",children:[t.jsx("i",{className:"fas fa-exclamation-circle"}),g]}),t.jsx(Ss,{isOpen:c,onClose:()=>o(!1),title:t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-calendar-plus"}),"Create New Event"]}),children:t.jsx(dN,{formData:w,handleInputChange:xt,handleImageChange:Ml,handleSubmit:_t,setShowCreateForm:o,isLoading:d})}),t.jsx(Ss,{isOpen:p,onClose:()=>N(!1),title:t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-building"}),"Register Event Company"]}),children:t.jsx(pp,{onSubmit:Ul,onCancel:()=>N(!1),isLoading:d})}),t.jsx(Ss,{isOpen:y,onClose:()=>E(!1),title:t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-users"}),"Register People"]}),children:t.jsx(gN,{onSubmit:hr,onCancel:()=>E(!1),isLoading:d})}),t.jsx(Ss,{isOpen:k,onClose:()=>O(!1),title:t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-user-plus"}),"Manual Event Registration"]}),children:t.jsx(xN,{events:l,onSubmit:is,onCancel:()=>O(!1),isLoading:d})}),t.jsx(Ss,{isOpen:U,onClose:()=>R(!1),title:t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-ticket-alt"}),"Ticketing & Payments Management"]}),children:t.jsx(vN,{events:l,onCancel:()=>R(!1),isLoading:d})}),t.jsx(Ss,{isOpen:M,onClose:()=>S(!1),title:t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-user-check"}),"Attendance & Verification"]}),children:t.jsx(jN,{events:l,onCancel:()=>S(!1),isLoading:d})}),t.jsx(hN,{salesData:B,events:l}),t.jsx(mN,{feedbackData:xe,feedbackSummary:A,feedbackFilter:ae,setFeedbackFilter:I,events:l,getFilteredFeedback:Ge,renderStarRating:ia,formatDate:$t}),t.jsx(Ss,{isOpen:j,onClose:()=>C(!1),title:t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-building"}),"Company Management"]}),maxWidth:"80%",children:t.jsx(pN,{onRegister:Y=>Ul(Y)})}),t.jsxs("div",{className:"events-section",children:[t.jsxs("div",{className:"section-header",children:[t.jsxs("h2",{className:"section-title",children:[t.jsx("i",{className:"fas fa-list"}),"Your Events"]}),t.jsxs("div",{className:"events-count",children:[l.length," ",l.length===1?"Event":"Events"]})]}),t.jsx(uN,{events:l,isLoading:d,showCreateForm:c,setShowCreateForm:o,formatDate:$t,onViewEvent:St,onEditEvent:zl,onDeleteEvent:mr})]})]}),Ne&&ie&&t.jsx("div",{className:"modal-overlay",onClick:()=>Ye(!1),children:t.jsxs("div",{className:"modal-content event-details-modal",onClick:Y=>Y.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("h2",{children:[t.jsx("i",{className:"fas fa-eye"}),"Event Details"]}),t.jsx("button",{className:"close-btn",onClick:()=>Ye(!1),children:t.jsx("i",{className:"fas fa-times"})})]}),t.jsx("div",{className:"modal-body",children:t.jsxs("div",{className:"event-details-grid",children:[t.jsxs("div",{className:"detail-group",children:[t.jsx("label",{children:"Event Name:"}),t.jsx("span",{children:ie.event_name})]}),t.jsxs("div",{className:"detail-group",children:[t.jsx("label",{children:"Date & Time:"}),t.jsx("span",{children:$t(ie.event_date)})]}),t.jsxs("div",{className:"detail-group",children:[t.jsx("label",{children:"Venue:"}),t.jsx("span",{children:ie.venue_name})]}),t.jsxs("div",{className:"detail-group",children:[t.jsx("label",{children:"Address:"}),t.jsx("span",{children:ie.venue_address})]}),t.jsxs("div",{className:"detail-group",children:[t.jsx("label",{children:"Category:"}),t.jsx("span",{children:ie.category})]}),t.jsxs("div",{className:"detail-group",children:[t.jsx("label",{children:"Type:"}),t.jsx("span",{children:ie.event_type})]}),t.jsxs("div",{className:"detail-group",children:[t.jsx("label",{children:"Max Attendees:"}),t.jsx("span",{children:ie.max_attendees||"Unlimited"})]}),t.jsxs("div",{className:"detail-group",children:[t.jsx("label",{children:"Ticket Price:"}),t.jsx("span",{children:ie.ticket_price>0?`GH${ie.ticket_price}`:"Free"})]}),t.jsxs("div",{className:"detail-group full-width",children:[t.jsx("label",{children:"Description:"}),t.jsx("p",{children:ie.description})]}),t.jsxs("div",{className:"detail-group",children:[t.jsx("label",{children:"Status:"}),t.jsx("span",{className:`status-badge ${ie.status}`,children:ie.status})]}),t.jsxs("div",{className:"detail-group",children:[t.jsx("label",{children:"Public:"}),t.jsx("span",{children:ie.is_public?"Yes":"No"})]})]})}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{className:"btn btn-secondary",onClick:()=>Ye(!1),children:"Close"}),t.jsx("button",{className:"btn btn-primary",onClick:()=>{Ye(!1),zl(ie)},children:"Edit Event"})]})]})}),Ue&&ie&&t.jsx("div",{className:"modal-overlay",onClick:()=>ct(!1),children:t.jsxs("div",{className:"modal-content edit-event-modal",onClick:Y=>Y.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("h2",{children:[t.jsx("i",{className:"fas fa-edit"}),"Edit Event"]}),t.jsx("button",{className:"close-btn",onClick:()=>ct(!1),children:t.jsx("i",{className:"fas fa-times"})})]}),t.jsxs("form",{onSubmit:As,children:[t.jsx("div",{className:"modal-body",children:t.jsxs("div",{className:"form-grid",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"edit_event_name",children:"Event Name *"}),t.jsx("input",{type:"text",id:"edit_event_name",name:"event_name",value:w.event_name,onChange:xt,required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"edit_event_date",children:"Event Date *"}),t.jsx("input",{type:"datetime-local",id:"edit_event_date",name:"event_date",value:w.event_date,onChange:xt,required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"edit_venue_name",children:"Venue Name *"}),t.jsx("input",{type:"text",id:"edit_venue_name",name:"venue_name",value:w.venue_name,onChange:xt,required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"edit_venue_address",children:"Venue Address"}),t.jsx("textarea",{id:"edit_venue_address",name:"venue_address",value:w.venue_address,onChange:xt,rows:"3"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"edit_category",children:"Category"}),t.jsxs("select",{id:"edit_category",name:"category",value:w.category,onChange:xt,children:[t.jsx("option",{value:"",children:"Select Category"}),t.jsx("option",{value:"conference",children:"Conference"}),t.jsx("option",{value:"workshop",children:"Workshop"}),t.jsx("option",{value:"seminar",children:"Seminar"}),t.jsx("option",{value:"networking",children:"Networking"}),t.jsx("option",{value:"social",children:"Social"}),t.jsx("option",{value:"sports",children:"Sports"}),t.jsx("option",{value:"technology",children:"Technology"}),t.jsx("option",{value:"business",children:"Business"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"edit_max_attendees",children:"Max Attendees"}),t.jsx("input",{type:"number",id:"edit_max_attendees",name:"max_attendees",value:w.max_attendees,onChange:xt,min:"1"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"edit_ticket_price",children:"Ticket Price ($)"}),t.jsx("input",{type:"number",id:"edit_ticket_price",name:"ticket_price",value:w.ticket_price,onChange:xt,min:"0",step:"0.01"})]}),t.jsx("div",{className:"form-group",children:t.jsx(mp,{currentImage:w.image_url,onImageChange:Ml,label:"Event Image",required:!1,disabled:d})}),t.jsxs("div",{className:"form-group full-width",children:[t.jsx("label",{htmlFor:"edit_description",children:"Description *"}),t.jsx("textarea",{id:"edit_description",name:"description",value:w.description,onChange:xt,rows:"4",required:!0})]}),t.jsx("div",{className:"form-group",children:t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",name:"is_public",checked:w.is_public,onChange:xt}),"Public Event"]})}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"edit_status",children:"Status"}),t.jsxs("select",{id:"edit_status",name:"status",value:w.status,onChange:xt,children:[t.jsx("option",{value:"draft",children:"Draft"}),t.jsx("option",{value:"published",children:"Published"}),t.jsx("option",{value:"cancelled",children:"Cancelled"}),t.jsx("option",{value:"completed",children:"Completed"})]})]})]})}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>ct(!1),children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Updating...":"Update Event"})]})]})]})}),ga&&Mt&&t.jsx("div",{className:"modal-overlay",onClick:()=>wt(!1),children:t.jsxs("div",{className:"modal-content delete-confirm-modal",onClick:Y=>Y.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("h2",{children:[t.jsx("i",{className:"fas fa-exclamation-triangle"}),"Confirm Delete"]}),t.jsx("button",{className:"close-btn",onClick:()=>wt(!1),children:t.jsx("i",{className:"fas fa-times"})})]}),t.jsxs("div",{className:"modal-body",children:[t.jsx("p",{children:"Are you sure you want to delete the event:"}),t.jsxs("h3",{className:"event-name-highlight",children:['"',Mt.event_name,'"']}),t.jsxs("p",{className:"warning-text",children:[t.jsx("i",{className:"fas fa-warning"}),"This action cannot be undone. All associated registrations, tickets, and data will be permanently deleted."]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{className:"btn btn-secondary",onClick:()=>wt(!1),children:"Cancel"}),t.jsx("button",{className:"btn btn-danger",onClick:pr,disabled:d,children:d?"Deleting...":"Delete Event"})]})]})}),t.jsx(Ts,{})]})},gp=({event:l,ticketTypes:i=[],loading:c=!1,onPurchase:o})=>{const[d,h]=b.useState(null),[g,v]=b.useState(1),[m,f]=b.useState("credit_card"),p=async j=>{if(j.preventDefault(),!!d)try{const C=me.getToken();if(console.log("TicketPurchaseCard token check:",C?"Token exists":"No token"),!C){alert("Your session has expired. Please log in again."),window.location.href="/login";return}const y=await fetch(`http://localhost:5001/api/events/${l.event_id}/register`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify({ticket_type_id:d.ticket_type_id,ticket_quantity:g,payment_method:m,payment_status:"completed"})});if(!y.ok){const k=await y.json();throw new Error(k.message||"Failed to purchase ticket")}const E=await y.json();o(E.registration)}catch(C){console.error("Error purchasing ticket:",C);let y="An error occurred while purchasing the ticket";C.message.includes("403")||C.message.includes("Forbidden")?y="Access denied. Please make sure you are logged in properly.":C.message.includes("401")||C.message.includes("Unauthorized")?y="Your session has expired. Please log in again.":C.message&&(y=C.message),alert(y)}},N=j=>{const C=Number(j)||0;return new Intl.NumberFormat("en-GH",{style:"currency",currency:"GHS"}).format(C)};return t.jsxs("div",{className:"ticket-purchase-card",children:[t.jsx("h2",{children:"Purchase Tickets"}),t.jsx("h3",{children:l?.event_name||"Event"}),t.jsxs("form",{onSubmit:p,children:[t.jsxs("div",{className:"ticket-types-section",children:[t.jsx("h4",{children:"Available Tickets"}),c?t.jsx("p",{children:"Loading ticket types..."}):i.length===0?t.jsx("p",{children:"No ticket types available for this event."}):t.jsx("div",{className:"ticket-type-list",children:i.map(j=>t.jsxs("div",{className:`ticket-type-item ${d?.ticket_type_id===j.ticket_type_id?"selected":""}`,onClick:()=>h(j),children:[t.jsxs("div",{className:"ticket-type-details",children:[t.jsx("h5",{children:j.type_name}),t.jsx("p",{children:j.description}),j.benefits&&t.jsx("ul",{className:"ticket-benefits",children:Array.isArray(j.benefits)?j.benefits.map((C,y)=>t.jsx("li",{children:C},y)):j.benefits.split(",").map((C,y)=>t.jsx("li",{children:C.trim()},y))}),t.jsx("div",{className:"ticket-availability",children:(j.quantity_available||0)>0?t.jsxs("span",{children:[j.quantity_available||"Limited"," available"]}):t.jsx("span",{className:"sold-out",children:"Sold Out"})})]}),t.jsx("div",{className:"ticket-type-price",children:N(j.price)})]},j.ticket_type_id))})]}),d&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"ticket-quantity-section",children:[t.jsx("h4",{children:"Quantity"}),t.jsxs("div",{className:"quantity-selector",children:[t.jsx("button",{type:"button",onClick:()=>v(Math.max(1,g-1)),disabled:g<=1,children:"-"}),t.jsx("span",{children:g}),t.jsx("button",{type:"button",onClick:()=>v(Math.min(d?.quantity_available||10,g+1)),disabled:g>=(d?.quantity_available||10),children:"+"})]})]}),t.jsxs("div",{className:"payment-method-section",children:[t.jsx("h4",{children:"Payment Method"}),t.jsxs("div",{className:"payment-options",children:[t.jsxs("label",{children:[t.jsx("input",{type:"radio",name:"paymentMethod",value:"credit_card",checked:m==="credit_card",onChange:()=>f("credit_card")}),t.jsx("span",{children:"Credit Card"})]}),t.jsxs("label",{children:[t.jsx("input",{type:"radio",name:"paymentMethod",value:"paypal",checked:m==="paypal",onChange:()=>f("paypal")}),t.jsx("span",{children:"PayPal"})]}),t.jsxs("label",{children:[t.jsx("input",{type:"radio",name:"paymentMethod",value:"bank_transfer",checked:m==="bank_transfer",onChange:()=>f("bank_transfer")}),t.jsx("span",{children:"Bank Transfer"})]})]})]}),t.jsxs("div",{className:"ticket-summary",children:[t.jsx("h4",{children:"Order Summary"}),t.jsxs("div",{className:"summary-item",children:[t.jsxs("span",{children:[d.type_name," x ",g]}),t.jsx("span",{children:N((d.price||0)*g)})]}),t.jsxs("div",{className:"summary-total",children:[t.jsx("span",{children:"Total"}),t.jsx("span",{children:N((d.price||0)*g)})]})]}),t.jsx("button",{type:"submit",className:"btn-purchase",disabled:!d||(d.quantity_available||0)<g,children:"Complete Purchase"})]})]})]})};function bN(){const l=pa(),[i,c]=b.useState([]),[o,d]=b.useState(!0),[h,g]=b.useState(null),[v,m]=b.useState([]),[f,p]=b.useState(""),[N,j]=b.useState("All"),[C,y]=b.useState("All"),[E,k]=b.useState(null),[O,U]=b.useState(!1),[R,M]=b.useState([]),[S,B]=b.useState(!1),Z=["All","Technology","Business","Music","Sports","Arts","Health"],ee=["All","published","draft","cancelled"];b.useEffect(()=>{re()},[]);const re=async()=>{try{d(!0);const I=await fetch("http://localhost:5001/api/events");if(!I.ok)throw new Error("Failed to fetch events");const w=await I.json();console.log("Fetched events:",w),c(w),m(w),g(null)}catch(I){g(I.message),console.error("Error fetching events:",I)}finally{d(!1)}},ge=I=>new Date(I).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"});b.useEffect(()=>{let I=i.filter(w=>{const D=w.event_name?.toLowerCase().includes(f.toLowerCase())||w.description?.toLowerCase().includes(f.toLowerCase()),Q=N==="All"||w.category===N,te=C==="All"||w.status===C;return D&&Q&&te});m(I)},[i,f,N,C]);const se=I=>{p(I.target.value)},W=I=>{j(I)},he=I=>{y(I)},xe=()=>{const I=[...v].sort((w,D)=>new Date(w.event_date)-new Date(D.event_date));m(I)},ye=()=>me.getToken(),A=I=>{l(`/event/${I.event_id}`)},V=async I=>{if(!ye()){alert("Please log in to register for events"),l("/login");return}k(I),B(!0);try{const D=await fetch(`http://localhost:5001/api/events/${I.event_id}/ticket-types/public`);if(D.ok){const Q=await D.json();M(Q.ticketTypes||[])}else console.error("Failed to fetch ticket types"),M([])}catch(D){console.error("Error fetching ticket types:",D),M([])}finally{B(!1),U(!0)}},ae=async I=>{try{alert("Ticket purchased successfully!"),U(!1),console.log("Ticket purchase completed:",I)}catch(w){console.error("Error handling ticket purchase:",w),alert("An error occurred while processing your ticket purchase")}};return t.jsxs("div",{className:"event-list-page",children:[t.jsx(ma,{}),t.jsx("header",{className:"event-list-header",children:t.jsxs("div",{className:"container",children:[t.jsx("h1",{children:"Discover Events"}),t.jsx("p",{children:"Browse and register for upcoming conferences and gatherings"})]})}),t.jsxs("div",{className:"container",children:[t.jsxs("div",{className:"controls-section",children:[t.jsxs("div",{className:"search-bar",children:[t.jsx("i",{className:"fas fa-search"}),t.jsx("input",{type:"text",placeholder:"Search events...",value:f,onChange:se})]}),t.jsxs("div",{className:"filters",children:[t.jsxs("div",{className:"filter-group",children:[t.jsx("h3",{children:"Category"}),t.jsx("div",{className:"filter-options",children:Z.map(I=>t.jsx("button",{className:`filter-btn ${N===I?"active":""}`,onClick:()=>W(I),children:I},I))})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("h3",{children:"Status"}),t.jsx("div",{className:"filter-options",children:ee.map(I=>t.jsx("button",{className:`filter-btn ${C===I?"active":""}`,onClick:()=>he(I),children:I},I))})]}),t.jsxs("button",{className:"sort-btn",onClick:xe,children:[t.jsx("i",{className:"fas fa-sort-amount-down"})," Sort by Date"]})]})]}),o?t.jsxs("div",{className:"loading-state",children:[t.jsx("div",{className:"loading-spinner",children:t.jsx("i",{className:"fas fa-spinner"})}),t.jsx("p",{children:"Loading events..."})]}):h?t.jsxs("div",{className:"error-state",children:[t.jsx("div",{className:"error-icon",children:t.jsx("i",{className:"fas fa-exclamation-triangle"})}),t.jsx("h3",{children:"Error Loading Events"}),t.jsx("p",{children:h}),t.jsxs("button",{className:"btn btn-primary",onClick:re,children:[t.jsx("i",{className:"fas fa-refresh"})," Try Again"]})]}):v.length>0?t.jsx("div",{className:"events-grid",children:v.map(I=>(console.log("Rendering event:",I),t.jsxs("div",{className:"event-card",children:[t.jsx("div",{className:`event-status status-${I.status?I.status.toLowerCase():"default"}`,children:I.status||"N/A"}),t.jsxs("div",{className:"event-image-container",children:[I.image_url||I.image_filename?t.jsx("img",{src:I.image_url||`http://localhost:5001/uploads/images/${I.image_filename}`,alt:I.event_name,className:"event-image",onError:w=>{w.target.style.display="none",w.target.nextElementSibling.style.display="flex"}}):null,t.jsxs("div",{className:"event-image-placeholder",style:{display:I.image_url||I.image_filename?"none":"flex"},children:[t.jsx("i",{className:"fas fa-image"}),t.jsx("span",{children:"No Image"})]}),t.jsx("div",{className:"event-image-overlay",children:I.category&&t.jsx("span",{className:`event-category ${I.category.toLowerCase()}`,children:I.category})})]}),t.jsxs("div",{className:"event-content",children:[t.jsx("div",{className:"event-header",children:t.jsx("h2",{className:"event-title",children:I.event_name})}),t.jsxs("div",{className:"event-details",children:[t.jsxs("div",{className:"event-detail",children:[t.jsx("i",{className:"fas fa-calendar"}),t.jsx("span",{children:ge(I.event_date)})]}),t.jsxs("div",{className:"event-detail",children:[t.jsx("i",{className:"fas fa-map-marker-alt"}),t.jsx("span",{children:I.venue_name||I.venue_address||"TBD"})]}),I.max_attendees&&t.jsxs("div",{className:"event-detail",children:[t.jsx("i",{className:"fas fa-users"}),t.jsxs("span",{children:["Max: ",I.max_attendees," attendees"]})]}),t.jsxs("div",{className:"event-detail",children:[t.jsx("i",{className:"fas fa-coins"}),t.jsx("span",{children:I.ticket_price>0?`GH${I.ticket_price}`:"Free"})]}),I.category&&t.jsxs("div",{className:"event-detail",children:[t.jsx("i",{className:"fas fa-tag"}),t.jsx("span",{children:I.category})]})]}),t.jsx("div",{className:"event-description",children:t.jsx("p",{children:I.description||"No description available"})}),t.jsxs("div",{className:"event-actions",children:[t.jsxs("button",{className:"action-btn view-btn",onClick:()=>A(I),children:[t.jsx("i",{className:"fas fa-eye"}),"View Details"]}),t.jsxs("button",{className:"action-btn register-btn",onClick:()=>V(I),children:[t.jsx("i",{className:"fas fa-ticket-alt"}),"Register"]})]})]})]},I.event_id)))}):t.jsxs("div",{className:"no-results",children:[t.jsx("div",{className:"no-results-icon",children:t.jsx("i",{className:"fas fa-calendar-times"})}),t.jsx("h3",{children:"No events found"}),t.jsx("p",{children:"No events match your search criteria. Try adjusting your filters or search term."})]})]}),O&&t.jsx(gp,{event:E,ticketTypes:R,loading:S,onPurchase:ae,onCancel:()=>U(!1)}),t.jsxs("div",{className:"container",children:[t.jsx("p",{children:"Event Management System  For assistance, contact support@events.com"}),t.jsxs("p",{style:{marginTop:"10px"},children:["Follow us:",t.jsx("i",{className:"fab fa-twitter"}),t.jsx("i",{className:"fab fa-linkedin"}),t.jsx("i",{className:"fab fa-instagram"})]})]}),t.jsx(Ts,{})]})}const _N=({event:l,onRegister:i})=>{const c=pa(),o=h=>{const g={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(h).toLocaleDateString(void 0,g)},d=()=>{c(`/events/${l.event_id}`)};return t.jsxs("div",{className:"event-card",children:[t.jsxs("div",{className:"event-card-image",children:[l.image_url?t.jsx("img",{src:l.image_url,alt:l.event_name}):t.jsx("div",{className:"event-card-image-placeholder",children:t.jsx("i",{className:"fas fa-calendar-alt"})}),l.average_rating>0&&t.jsxs("div",{className:"event-card-rating",children:[t.jsxs("span",{children:[t.jsx("i",{className:"fas fa-star"})," ",l.average_rating.toFixed(1)]}),t.jsxs("small",{children:["(",l.review_count," reviews)"]})]})]}),t.jsxs("div",{className:"event-card-content",children:[t.jsx("h3",{className:"event-card-title",children:l.event_name}),t.jsxs("div",{className:"event-card-date",children:[t.jsx("i",{className:"far fa-calendar"}),t.jsx("span",{children:o(l.event_date)})]}),t.jsxs("div",{className:"event-card-location",children:[t.jsx("i",{className:"fas fa-map-marker-alt"}),t.jsx("span",{children:l.venue_name})]}),l.category&&t.jsx("div",{className:"event-card-category",children:t.jsx("span",{children:l.category})}),t.jsx("div",{className:"event-card-organizer",children:t.jsxs("small",{children:["By ",l.organizer_name||"Event Organizer"]})})]}),t.jsxs("div",{className:"event-card-actions",children:[t.jsx("button",{className:"btn-primary",onClick:d,children:"View Details"}),t.jsx("button",{className:"btn-secondary",onClick:()=>i(l),children:"Register"})]})]})};class Cl{static async submitFeedback(i,c){try{return{success:!0,data:(await Ke.post(`/api/attendee/events/${i}/feedback`,c)).data}}catch(o){return console.error("Error submitting feedback:",o),{success:!1,error:o.response?.data?.message||"Failed to submit feedback"}}}static async getEventFeedback(i,c={}){try{const o=new URLSearchParams({page:c.page||1,limit:c.limit||10,include_anonymous:c.includeAnonymous!==!1}).toString();return{success:!0,data:(await Ke.get(`/api/attendee/events/${i}/feedback?${o}`)).data}}catch(o){return console.error("Error fetching event feedback:",o),{success:!1,error:o.response?.data?.message||"Failed to fetch feedback",data:{feedback:[],pagination:{page:1,limit:10,total:0,totalPages:0},stats:{average_rating:"0.0",total_reviews:0,rating_breakdown:{}}}}}}static async getMyFeedback(i){try{return{success:!0,data:(await Ke.get(`/api/attendee/events/${i}/my-feedback`)).data.feedback}}catch(c){return c.response?.status===404?{success:!0,data:null}:(console.error("Error fetching user feedback:",c),{success:!1,error:c.response?.data?.message||"Failed to fetch your feedback"})}}static async canLeaveFeedback(){return{success:!0,canLeaveFeedback:!0}}static formatRating(i){return`${"".repeat(Math.floor(i))+"".repeat(5-Math.floor(i))} (${i}/5)`}static getRatingText(i){return{1:"Poor",2:"Fair",3:"Good",4:"Very Good",5:"Excellent"}[i]||"No rating"}static formatFeedbackDate(i){const c=new Date(i),d=Math.abs(new Date-c),h=Math.ceil(d/(1e3*60*60*24));if(h===1)return"Yesterday";if(h<7)return`${h} days ago`;if(h<30){const g=Math.floor(h/7);return`${g} week${g>1?"s":""} ago`}else return c.toLocaleDateString()}}const SN=({event:l})=>{const[i,c]=b.useState([]),[o,d]=b.useState({average_rating:"0.0",total_reviews:0,rating_breakdown:{}}),[h,g]=b.useState(!0),[v,m]=b.useState(""),[f,p]=b.useState(1),[N,j]=b.useState({}),[C,y]=b.useState(!0);b.useEffect(()=>{l?.event_id&&E()},[l?.event_id,f,C]);const E=async()=>{g(!0);try{const U=await Cl.getEventFeedback(l.event_id,{page:f,limit:5,includeAnonymous:C});U.success?(c(U.data.feedback||[]),d(U.data.stats||o),j(U.data.pagination||{}),m("")):m(U.error)}catch(U){console.error("Error loading reviews:",U),m("Failed to load reviews")}finally{g(!1)}},k=U=>[...Array(5)].map((R,M)=>t.jsx("i",{className:`fas fa-star ${M<U?"active":""}`},M)),O=()=>{const U=o.total_reviews;return U===0?null:t.jsxs("div",{className:"rating-breakdown",children:[t.jsx("h4",{children:"Rating Breakdown"}),[5,4,3,2,1].map(R=>{const M=o.rating_breakdown[R]||0,S=U>0?M/U*100:0;return t.jsxs("div",{className:"rating-bar",children:[t.jsxs("span",{className:"star-label",children:[R," "]}),t.jsx("div",{className:"bar-container",children:t.jsx("div",{className:"bar-fill",style:{width:`${S}%`}})}),t.jsxs("span",{className:"count",children:["(",M,")"]})]},R)})]})};return h&&f===1?t.jsxs("div",{className:"event-reviews-card",children:[t.jsx("h2",{children:"Event Reviews"}),t.jsx("div",{className:"loading",children:"Loading reviews..."})]}):t.jsxs("div",{className:"event-reviews-card",children:[t.jsx("h2",{children:"Event Reviews"}),t.jsx("h3",{children:l.event_name}),v&&t.jsx("div",{className:"error-message",children:v}),t.jsxs("div",{className:"rating-summary",children:[t.jsxs("div",{className:"average-rating",children:[t.jsx("div",{className:"rating-number",children:o.average_rating}),t.jsx("div",{className:"rating-stars",children:k(Math.round(parseFloat(o.average_rating)))}),t.jsxs("div",{className:"total-reviews",children:["(",o.total_reviews," reviews)"]})]}),O()]}),t.jsx("div",{className:"review-filters",children:t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",checked:C,onChange:U=>{y(U.target.checked),p(1)}}),t.jsx("span",{children:"Include anonymous reviews"})]})}),t.jsx("div",{className:"reviews-list",children:i.length===0?t.jsxs("div",{className:"no-reviews",children:[t.jsx("i",{className:"fas fa-star-o"}),t.jsx("p",{children:"No reviews yet for this event."}),t.jsx("p",{children:"Be the first to leave a review!"})]}):i.map(U=>t.jsxs("div",{className:"review-item",children:[t.jsxs("div",{className:"review-header",children:[t.jsxs("div",{className:"reviewer-info",children:[t.jsx("span",{className:"reviewer-name",children:U.attendee_name||"Anonymous"}),t.jsx("div",{className:"review-rating",children:k(U.rating)})]}),t.jsxs("div",{className:"review-date",children:[Cl.formatFeedbackDate(U.created_at),U.updated_at!==U.created_at&&t.jsx("span",{className:"updated-indicator",children:" (edited)"})]})]}),U.feedback_text&&t.jsx("div",{className:"review-text",children:U.feedback_text})]},U.feedback_id))}),N.totalPages>1&&t.jsxs("div",{className:"pagination",children:[t.jsxs("button",{onClick:()=>p(f-1),disabled:f===1,className:"pagination-btn",children:[t.jsx("i",{className:"fas fa-chevron-left"})," Previous"]}),t.jsxs("span",{className:"page-info",children:["Page ",f," of ",N.totalPages]}),t.jsxs("button",{onClick:()=>p(f+1),disabled:f===N.totalPages,className:"pagination-btn",children:["Next ",t.jsx("i",{className:"fas fa-chevron-right"})]})]})]})},EN=({isOpen:l,onClose:i,eventId:c,eventTitle:o,onFeedbackSubmitted:d})=>{const[h,g]=b.useState({rating:5,comment:"",is_anonymous:!1}),[v,m]=b.useState(!1),[f,p]=b.useState(""),[N,j]=b.useState("");b.useEffect(()=>{l&&(g({rating:5,comment:"",is_anonymous:!1}),p(""),j(""))},[l]);const C=O=>{const{name:U,value:R,type:M,checked:S}=O.target;g(B=>({...B,[U]:M==="checkbox"?S:R}))},y=async O=>{O.preventDefault(),m(!0),p(""),j("");try{const U=await Cl.submitFeedback(c,h);U.success?(j("Thank you for your feedback!"),setTimeout(()=>{i(),d&&d()},1500)):p(U.error||"Failed to submit feedback")}catch(U){p("An error occurred while submitting feedback"),console.error("Feedback submission error:",U)}finally{m(!1)}},E=O=>{O.target===O.currentTarget&&i()},k=()=>[...Array(5)].map((O,U)=>{const R=U+1;return t.jsx("span",{className:`feedback-star ${R<=h.rating?"active":""}`,onClick:()=>g(M=>({...M,rating:R})),children:""},U)});return l?t.jsx("div",{className:"feedback-modal-overlay",onClick:E,children:t.jsxs("div",{className:"feedback-modal",children:[t.jsxs("div",{className:"feedback-modal-header",children:[t.jsx("h2",{children:"Leave Feedback"}),t.jsx("h3",{children:o}),t.jsx("button",{className:"feedback-modal-close",onClick:i,"aria-label":"Close modal",children:""})]}),t.jsxs("div",{className:"feedback-modal-body",children:[f&&t.jsxs("div",{className:"feedback-error",children:[t.jsx("span",{className:"error-icon",children:""}),f]}),N&&t.jsxs("div",{className:"feedback-success",children:[t.jsx("span",{className:"success-icon",children:""}),N]}),t.jsxs("form",{onSubmit:y,className:"feedback-form",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"rating",className:"form-label",children:"Rating *"}),t.jsxs("div",{className:"rating-stars",children:[k(),t.jsxs("span",{className:"rating-text",children:[h.rating," out of 5 stars"]})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"comment",className:"form-label",children:"Your Review"}),t.jsx("textarea",{id:"comment",name:"comment",value:h.comment,onChange:C,placeholder:"Share your experience with this event... (optional)",className:"form-textarea",rows:4,maxLength:1e3}),t.jsxs("small",{className:"character-count",children:[h.comment.length,"/1000 characters"]})]}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",name:"is_anonymous",checked:h.is_anonymous,onChange:C,className:"form-checkbox"}),t.jsx("span",{className:"checkbox-text",children:"Submit anonymously"})]}),t.jsx("small",{className:"help-text",children:"Anonymous feedback will not show your name"})]}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",onClick:i,className:"btn-cancel",disabled:v,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn-submit",disabled:v||!h.rating,children:v?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"spinner"}),"Submitting..."]}):"Submit Feedback"})]})]})]})]})}):null},wN=({event:l,onFeedbackSubmitted:i})=>{const[c,o]=b.useState([]),[d,h]=b.useState(null),[g,v]=b.useState(!0),[m,f]=b.useState(""),[p,N]=b.useState(""),[j,C]=b.useState(!1),[y,E]=b.useState({average_rating:"0.0",total_reviews:0,rating_breakdown:{}});b.useEffect(()=>{l?.event_id&&(k(),O())},[l?.event_id]);const k=async()=>{try{const S=await Cl.getEventFeedback(l.event_id,{page:1,limit:10,includeAnonymous:!0});S.success?(o(S.data.feedback||[]),E(S.data.stats||{average_rating:"0.0",total_reviews:0,rating_breakdown:{}})):f(S.error||"Failed to load feedback")}catch(S){console.error("Error loading feedback:",S),f("Error loading feedback")}},O=async()=>{try{const S=await Cl.getMyFeedback(l.event_id);S.success?h(S.data):S.error!=="No feedback found"&&console.warn("Could not load user feedback:",S.error)}catch(S){console.error("Error loading user feedback:",S)}finally{v(!1)}},U=async()=>{N("Thank you for your feedback!"),await k(),await O(),i&&i(),setTimeout(()=>N(""),3e3)},R=S=>[...Array(5)].map((B,Z)=>{const ee=Z+1;return t.jsx("span",{className:`feedback-star ${ee<=S?"active":""}`,children:""},Z)}),M=S=>new Date(S).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return g?t.jsx("div",{className:"feedback-card",children:t.jsxs("div",{className:"feedback-loading",children:[t.jsx("div",{className:"loading-spinner"}),t.jsx("p",{children:"Loading feedback..."})]})}):t.jsxs("div",{className:"feedback-card",children:[t.jsxs("div",{className:"feedback-header",children:[t.jsx("h3",{children:"Event Feedback & Reviews"}),t.jsx("div",{className:"feedback-stats",children:t.jsxs("div",{className:"average-rating",children:[R(Math.round(parseFloat(y.average_rating))),t.jsx("span",{className:"rating-number",children:parseFloat(y.average_rating).toFixed(1)}),t.jsxs("span",{className:"review-count",children:["(",y.total_reviews," review",y.total_reviews!==1?"s":"",")"]})]})})]}),m&&t.jsxs("div",{className:"feedback-error",children:[t.jsx("span",{className:"error-icon",children:""}),m]}),p&&t.jsxs("div",{className:"feedback-success",children:[t.jsx("span",{className:"success-icon",children:""}),p]}),t.jsx("div",{className:"user-feedback-section",children:d?t.jsxs("div",{className:"my-feedback",children:[t.jsx("h4",{children:"Your Feedback"}),t.jsxs("div",{className:"feedback-item",children:[t.jsxs("div",{className:"feedback-header",children:[t.jsx("div",{className:"feedback-rating",children:R(d.rating)}),t.jsx("div",{className:"feedback-date",children:M(d.created_at)})]}),d.comment&&t.jsx("div",{className:"feedback-comment",children:d.comment}),t.jsx("div",{className:"feedback-meta",children:d.is_anonymous?t.jsx("span",{className:"anonymous-badge",children:"Anonymous"}):t.jsx("span",{className:"public-badge",children:"Public"})})]})]}):t.jsx("div",{className:"submit-feedback-section",children:t.jsxs("button",{className:"btn-submit-feedback",onClick:()=>C(!0),children:[t.jsx("span",{className:"feedback-icon",children:""}),"Leave Feedback"]})})}),t.jsx(SN,{feedback:c,stats:y,eventId:l?.event_id,onReviewsUpdate:k}),t.jsx(EN,{isOpen:j,onClose:()=>C(!1),eventId:l?.event_id,eventTitle:l?.event_name,onFeedbackSubmitted:U})]})},kN=({profile:l,onUpdateProfile:i})=>{const[c,o]=b.useState(!1),[d,h]=b.useState({first_name:"",last_name:"",phone:"",date_of_birth:"",gender:"",interests:"",emergency_contact_name:"",emergency_contact_phone:"",dietary_restrictions:"",accessibility_needs:"",bio:"",profile_picture_url:"",social_media_links:{},notification_preferences:{email:!0,sms:!1,event_updates:!0,promotions:!1}});if(b.useEffect(()=>{l&&h({first_name:l.first_name||"",last_name:l.last_name||"",phone:l.phone||"",date_of_birth:l.date_of_birth||"",gender:l.gender||"",interests:l.interests||"",emergency_contact_name:l.emergency_contact_name||"",emergency_contact_phone:l.emergency_contact_phone||"",dietary_restrictions:l.dietary_restrictions||"",accessibility_needs:l.accessibility_needs||"",bio:l.bio||"",profile_picture_url:l.profile_picture_url||"",social_media_links:l.social_media_links||{},notification_preferences:{email:l.notification_preferences?.email??!0,sms:l.notification_preferences?.sms??!1,event_updates:l.notification_preferences?.event_updates??!0,promotions:l.notification_preferences?.promotions??!1}})},[l]),!l)return t.jsxs("div",{className:"profile-card",children:[t.jsx("div",{className:"profile-header",children:t.jsx("h2",{children:"Your Profile"})}),t.jsx("div",{className:"profile-content",children:t.jsx("p",{children:"Loading profile..."})})]});const g=f=>{const{name:p,value:N,type:j,checked:C}=f.target;h(j==="checkbox"?y=>({...y,notification_preferences:{...y.notification_preferences,[p]:C}}):y=>({...y,[p]:N}))},v=f=>{f.preventDefault(),i(d),o(!1)},m=f=>{if(!f)return"";try{const p=new Date(f);return isNaN(p.getTime())?"":p.toISOString().split("T")[0]}catch(p){return console.error("Date formatting error:",p),""}};return t.jsxs("div",{className:"profile-card",children:[t.jsxs("div",{className:"profile-header",children:[t.jsx("h2",{children:"Your Profile"}),!c&&t.jsxs("button",{className:"btn-edit-profile",onClick:()=>o(!0),children:[t.jsx("i",{className:"fas fa-edit"})," Edit"]})]}),c?t.jsxs("form",{onSubmit:v,children:[t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"First Name"}),t.jsx("input",{type:"text",name:"first_name",value:d.first_name,onChange:g,required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Last Name"}),t.jsx("input",{type:"text",name:"last_name",value:d.last_name,onChange:g,required:!0})]})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Phone"}),t.jsx("input",{type:"tel",name:"phone",value:d.phone,onChange:g})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Date of Birth"}),t.jsx("input",{type:"date",name:"date_of_birth",value:m(d.date_of_birth),onChange:g})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Gender"}),t.jsxs("select",{name:"gender",value:d.gender,onChange:g,children:[t.jsx("option",{value:"",children:"Select"}),t.jsx("option",{value:"male",children:"Male"}),t.jsx("option",{value:"female",children:"Female"}),t.jsx("option",{value:"non-binary",children:"Non-binary"}),t.jsx("option",{value:"prefer-not-to-say",children:"Prefer not to say"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Interests"}),t.jsx("textarea",{name:"interests",value:d.interests,onChange:g,placeholder:"Your interests and hobbies..."})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bio"}),t.jsx("textarea",{name:"bio",value:d.bio,onChange:g,placeholder:"Tell us about yourself...",rows:"3"})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Emergency Contact Name"}),t.jsx("input",{type:"text",name:"emergency_contact_name",value:d.emergency_contact_name,onChange:g,placeholder:"Emergency contact name"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Emergency Contact Phone"}),t.jsx("input",{type:"tel",name:"emergency_contact_phone",value:d.emergency_contact_phone,onChange:g,placeholder:"Emergency contact phone"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Profile Picture URL"}),t.jsx("input",{type:"url",name:"profile_picture_url",value:d.profile_picture_url,onChange:g,placeholder:"https://example.com/your-photo.jpg"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Dietary Restrictions"}),t.jsx("textarea",{name:"dietary_restrictions",value:d.dietary_restrictions,onChange:g,placeholder:"Any dietary requirements..."})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Accessibility Needs"}),t.jsx("textarea",{name:"accessibility_needs",value:d.accessibility_needs,onChange:g,placeholder:"Any accessibility requirements..."})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Notification Preferences"}),t.jsxs("div",{className:"checkbox-group",children:[t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",name:"email",checked:d.notification_preferences.email,onChange:g}),"Email Notifications"]}),t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",name:"sms",checked:d.notification_preferences.sms,onChange:g}),"SMS Notifications"]}),t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",name:"event_updates",checked:d.notification_preferences.event_updates,onChange:g}),"Event Updates"]}),t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",name:"promotions",checked:d.notification_preferences.promotions,onChange:g}),"Promotional Messages"]})]})]}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>o(!1),children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn-save",children:"Save Changes"})]})]}):t.jsxs("div",{className:"profile-content",children:[t.jsxs("div",{className:"profile-section",children:[t.jsx("h3",{children:"Personal Information"}),t.jsxs("div",{className:"profile-info",children:[t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Name"}),t.jsx("span",{children:l.full_name||`${l.first_name||""} ${l.last_name||""}`.trim()||"Not provided"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Email"}),t.jsx("span",{children:l.email})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Phone"}),t.jsx("span",{children:l.phone||"Not provided"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Date of Birth"}),t.jsx("span",{children:l.date_of_birth?new Date(l.date_of_birth).toLocaleDateString():"Not provided"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Gender"}),t.jsx("span",{children:l.gender||"Not provided"})]}),l.bio&&t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Bio"}),t.jsx("span",{children:l.bio})]})]})]}),t.jsxs("div",{className:"profile-section",children:[t.jsx("h3",{children:"Emergency Contact"}),t.jsxs("div",{className:"profile-info",children:[t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Contact Name"}),t.jsx("span",{children:l.emergency_contact_name||"Not provided"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Contact Phone"}),t.jsx("span",{children:l.emergency_contact_phone||"Not provided"})]})]})]}),t.jsxs("div",{className:"profile-section",children:[t.jsx("h3",{children:"Preferences"}),t.jsxs("div",{className:"profile-info",children:[t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Interests"}),t.jsx("span",{children:l.interests||"None specified"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Dietary Restrictions"}),t.jsx("span",{children:l.dietary_restrictions||"None specified"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("label",{children:"Accessibility Needs"}),t.jsx("span",{children:l.accessibility_needs||"None specified"})]})]})]}),t.jsxs("div",{className:"profile-section",children:[t.jsx("h3",{children:"Notification Preferences"}),t.jsx("div",{className:"profile-info notification-prefs",children:l.notification_preferences?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:`pref-item ${l.notification_preferences.email?"enabled":"disabled"}`,children:[t.jsx("i",{className:`fas fa-${l.notification_preferences.email?"check":"times"}`}),t.jsx("span",{children:"Email Notifications"})]}),t.jsxs("div",{className:`pref-item ${l.notification_preferences.sms?"enabled":"disabled"}`,children:[t.jsx("i",{className:`fas fa-${l.notification_preferences.sms?"check":"times"}`}),t.jsx("span",{children:"SMS Notifications"})]}),t.jsxs("div",{className:`pref-item ${l.notification_preferences.event_updates?"enabled":"disabled"}`,children:[t.jsx("i",{className:`fas fa-${l.notification_preferences.event_updates?"check":"times"}`}),t.jsx("span",{children:"Event Updates"})]}),t.jsxs("div",{className:`pref-item ${l.notification_preferences.promotions?"enabled":"disabled"}`,children:[t.jsx("i",{className:`fas fa-${l.notification_preferences.promotions?"check":"times"}`}),t.jsx("span",{children:"Promotional Messages"})]})]}):t.jsx("span",{children:"No preferences set"})})]}),t.jsxs("div",{className:"profile-section",children:[t.jsx("h3",{children:"Account Statistics"}),t.jsxs("div",{className:"profile-stats",children:[t.jsxs("div",{className:"stat-item",children:[t.jsx("i",{className:"fas fa-ticket-alt"}),t.jsxs("div",{className:"stat-content",children:[t.jsx("span",{className:"stat-value",children:l.registration_count||0}),t.jsx("span",{className:"stat-label",children:"Events Registered"})]})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("i",{className:"fas fa-calendar-check"}),t.jsxs("div",{className:"stat-content",children:[t.jsx("span",{className:"stat-value",children:l.attendance_count||0}),t.jsx("span",{className:"stat-label",children:"Events Attended"})]})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("i",{className:"fas fa-star"}),t.jsxs("div",{className:"stat-content",children:[t.jsx("span",{className:"stat-value",children:l.feedback_count||0}),t.jsx("span",{className:"stat-label",children:"Reviews Given"})]})]})]})]})]})]})};class Xi{static async getNotifications(i={}){try{const c=new URLSearchParams({page:i.page||1,limit:i.limit||20,unread_only:i.unreadOnly||!1,type:i.type||""}).toString();return(await Ke.get(`/api/notifications?${c}`)).data}catch(c){throw console.error("Error fetching notifications:",c),c}}static async getNotificationStats(){try{return(await Ke.get("/api/notifications/stats")).data}catch(i){throw console.error("Error fetching notification stats:",i),i}}static async markAsRead(i){try{return(await Ke.post(`/api/notifications/${i}/read`)).data}catch(c){throw console.error("Error marking notification as read:",c),c}}static async markAllAsRead(){try{return(await Ke.post("/api/notifications/mark-all-read")).data}catch(i){throw console.error("Error marking all notifications as read:",i),i}}static async deleteNotification(i){try{return(await Ke.delete(`/api/notifications/${i}`)).data}catch(c){throw console.error("Error deleting notification:",c),c}}static async createNotification(i){try{return(await Ke.post("/api/notifications",i)).data}catch(c){throw console.error("Error creating notification:",c),c}}static async getUnreadCount(){try{return(await this.getNotificationStats()).unread||0}catch(i){return console.error("Error fetching unread count:",i),0}}}const CN=()=>{const[l,i]=b.useState([]),[c,o]=b.useState(!0),[d,h]=b.useState(null),[g,v]=b.useState(0);b.useEffect(()=>{m()},[]);const m=async()=>{try{o(!0);const y=await Xi.getNotifications({limit:50,page:1});i(y.notifications||[]),v(y.unread_count||0),h(null)}catch(y){console.error("Error fetching notifications:",y),h("Failed to load notifications"),i([])}finally{o(!1)}},f=y=>{const E=new Date(y),O=new Date-E;if(O<6e4)return"Just now";if(O<36e5){const U=Math.floor(O/6e4);return`${U} ${U===1?"minute":"minutes"} ago`}if(O<864e5){const U=Math.floor(O/36e5);return`${U} ${U===1?"hour":"hours"} ago`}if(O<6048e5){const U=Math.floor(O/864e5);return`${U} ${U===1?"day":"days"} ago`}return E.toLocaleDateString()},p=y=>{switch(y.toLowerCase()){case"event_reminder":case"event":return t.jsx("i",{className:"fas fa-calendar-alt"});case"ticket_confirmation":return t.jsx("i",{className:"fas fa-ticket-alt"});case"reminder":return t.jsx("i",{className:"fas fa-bell"});case"system":return t.jsx("i",{className:"fas fa-info-circle"});case"update":return t.jsx("i",{className:"fas fa-sync-alt"});case"promotion":return t.jsx("i",{className:"fas fa-tag"});default:return t.jsx("i",{className:"fas fa-info-circle"})}},N=async y=>{try{await Xi.markAsRead(y),i(E=>E.map(k=>k.id===y?{...k,read:!0}:k)),v(E=>Math.max(0,E-1))}catch(E){console.error("Error marking notification as read:",E)}},j=async y=>{try{await Xi.deleteNotification(y);const E=l.find(k=>k.id===y);i(k=>k.filter(O=>O.id!==y)),E&&!E.read&&v(k=>Math.max(0,k-1))}catch(E){console.error("Error deleting notification:",E)}},C=async()=>{try{await Xi.markAllAsRead(),i(y=>y.map(E=>({...E,read:!0}))),v(0)}catch(y){console.error("Error marking all notifications as read:",y)}};return c?t.jsxs("div",{className:"notifications-card",children:[t.jsx("div",{className:"notifications-header",children:t.jsx("h2",{children:"Notifications"})}),t.jsx("div",{className:"notifications-list",children:t.jsxs("div",{className:"loading-message",children:[t.jsx("i",{className:"fas fa-spinner fa-spin"}),t.jsx("div",{children:"Loading notifications..."})]})})]}):d?t.jsxs("div",{className:"notifications-card",children:[t.jsx("div",{className:"notifications-header",children:t.jsx("h2",{children:"Notifications"})}),t.jsx("div",{className:"notifications-list",children:t.jsxs("div",{className:"error-message",children:[t.jsx("i",{className:"fas fa-exclamation-triangle"}),t.jsx("div",{children:d}),t.jsxs("button",{onClick:m,className:"retry-btn",children:[t.jsx("i",{className:"fas fa-refresh"})," Retry"]})]})})]}):t.jsxs("div",{className:"notifications-card",children:[t.jsxs("div",{className:"notifications-header",children:[t.jsxs("h2",{children:["Notifications",g>0&&t.jsx("span",{className:"unread-badge",children:g})]}),l.length>0&&t.jsx("div",{className:"notifications-actions",children:t.jsxs("button",{className:"btn-mark-all-read",onClick:C,disabled:g===0,children:[t.jsx("i",{className:"fas fa-check-double"})," Mark all as read"]})})]}),t.jsx("div",{className:"notifications-list",children:l.length>0?l.map(y=>t.jsxs("div",{className:`notification-item ${y.read?"":"unread"}`,onClick:()=>N(y.id),children:[t.jsx("div",{className:`notification-icon ${y.type.toLowerCase()}`,children:p(y.type)}),t.jsxs("div",{className:"notification-content",children:[t.jsx("div",{className:"notification-title",children:y.title}),t.jsx("div",{className:"notification-message",children:y.message}),t.jsx("div",{className:"notification-time",children:f(y.timestamp)}),y.event_name&&t.jsxs("div",{className:"notification-event",children:[t.jsx("i",{className:"fas fa-calendar"})," ",y.event_name]})]}),t.jsxs("div",{className:"notification-actions",children:[!y.read&&t.jsx("button",{className:"notification-btn",onClick:E=>{E.stopPropagation(),N(y.id)},title:"Mark as read",children:t.jsx("i",{className:"fas fa-check"})}),t.jsx("button",{className:"notification-btn",onClick:E=>{E.stopPropagation(),j(y.id)},title:"Delete notification",children:t.jsx("i",{className:"fas fa-times"})})]})]},y.id)):t.jsxs("div",{className:"empty-notifications",children:[t.jsx("i",{className:"fas fa-bell-slash"}),t.jsx("div",{className:"empty-message",children:"No notifications"}),t.jsx("div",{className:"empty-submessage",children:"You're all caught up!"})]})})]})},TN=({tickets:l,onViewQRCode:i,onDownloadTicket:c,onCancelTicket:o,onLeaveFeedback:d})=>{const[h,g]=b.useState("all"),v=l?.filter(j=>h==="all"?!0:h==="upcoming"?new Date(j.event_date)>new Date&&!j.checked_in:h==="past"?new Date(j.event_date)<new Date:h==="checked-in"?j.checked_in:!0),m=j=>{const C={weekday:"short",year:"numeric",month:"short",day:"numeric"};return new Date(j).toLocaleDateString(void 0,C)},f=j=>j?new Date(`2000-01-01T${j}`).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}):"",p=j=>{const C=new Date(j.event_date),y=new Date;return j.checked_in?"status-checked-in":C<y?"status-past":"status-upcoming"},N=j=>{const C=new Date(j.event_date),y=new Date;return j.checked_in?"Checked In":C<y?"Past":"Upcoming"};return t.jsxs("div",{className:"my-tickets-card",children:[t.jsxs("div",{className:"my-tickets-header",children:[t.jsx("h2",{children:"My Tickets"}),t.jsxs("div",{className:"tickets-filter",children:[t.jsx("button",{className:`filter-btn ${h==="all"?"active":""}`,onClick:()=>g("all"),children:"All"}),t.jsx("button",{className:`filter-btn ${h==="upcoming"?"active":""}`,onClick:()=>g("upcoming"),children:"Upcoming"}),t.jsx("button",{className:`filter-btn ${h==="checked-in"?"active":""}`,onClick:()=>g("checked-in"),children:"Checked In"}),t.jsx("button",{className:`filter-btn ${h==="past"?"active":""}`,onClick:()=>g("past"),children:"Past"})]})]}),t.jsx("div",{className:"tickets-list",children:v&&v.length>0?v.map(j=>t.jsxs("div",{className:"ticket-item",children:[t.jsxs("div",{className:"ticket-item-header",children:[t.jsx("h3",{className:"ticket-event-title",children:j.event_name}),t.jsx("span",{className:`ticket-status ${p(j)}`,children:N(j)})]}),t.jsxs("div",{className:"ticket-item-content",children:[t.jsxs("div",{className:"ticket-details",children:[t.jsxs("div",{className:"ticket-info-row",children:[t.jsxs("div",{className:"ticket-info-item",children:[t.jsx("i",{className:"fas fa-calendar"}),t.jsx("span",{children:m(j.event_date)})]}),t.jsxs("div",{className:"ticket-info-item",children:[t.jsx("i",{className:"fas fa-clock"}),t.jsx("span",{children:f(j.event_start_time)})]}),t.jsxs("div",{className:"ticket-info-item",children:[t.jsx("i",{className:"fas fa-map-marker-alt"}),t.jsx("span",{children:j.event_location})]})]}),t.jsxs("div",{className:"ticket-info-row",children:[t.jsxs("div",{className:"ticket-info-item",children:[t.jsx("i",{className:"fas fa-ticket-alt"}),t.jsxs("span",{children:["Ticket #",j.ticket_number]})]}),t.jsxs("div",{className:"ticket-info-item",children:[t.jsx("i",{className:"fas fa-user"}),t.jsx("span",{children:j.attendee_name})]})]}),t.jsx("div",{className:"ticket-type-badge",children:j.ticket_type})]}),t.jsxs("div",{className:"ticket-qr",children:[t.jsx("div",{className:"qr-code",children:j.qr_code&&j.qr_code.startsWith("data:image/")?t.jsx("img",{src:j.qr_code,alt:"QR Code",width:"80",height:"80",onError:C=>{console.error("QR Code image failed to load:",j.qr_code?.substring(0,50)),C.target.style.display="none";const y=C.target.parentElement.querySelector(".qr-placeholder");y&&(y.style.display="flex")}}):t.jsxs("div",{className:"qr-placeholder",style:{display:"flex"},children:[t.jsx("i",{className:"fas fa-qrcode"}),t.jsx("span",{children:j.qr_code?"Invalid QR":"Generating QR..."})]})}),t.jsx("button",{className:"btn-view-qr",onClick:()=>i(j.id),disabled:!j.qr_code||!j.qr_code.startsWith("data:image/"),children:"View QR"})]})]}),t.jsxs("div",{className:"ticket-actions",children:[t.jsxs("button",{className:"btn-ticket-action btn-download",onClick:()=>c(j.id),children:[t.jsx("i",{className:"fas fa-download"})," Download"]}),new Date(j.event_date)>new Date&&!j.checked_in&&t.jsxs("button",{className:"btn-ticket-action btn-cancel",onClick:()=>o(j.id),children:[t.jsx("i",{className:"fas fa-times"})," Cancel"]}),(j.checked_in||new Date(j.event_date)<new Date)&&!j.has_feedback&&t.jsxs("button",{className:"btn-ticket-action btn-feedback",onClick:()=>d(j.event_id),children:[t.jsx("i",{className:"fas fa-comment"})," Leave Feedback"]})]})]},j.registration_id||j.id)):t.jsxs("div",{className:"empty-notifications",children:[t.jsx("i",{className:"fas fa-ticket-alt"}),t.jsx("div",{className:"empty-message",children:"No tickets found"}),t.jsx("div",{className:"empty-submessage",children:h!=="all"?`You don't have any ${h} tickets`:"You haven't registered for any events yet"})]})})]})};function RN(){const l=pa(),[i,c]=b.useState("events"),[o,d]=b.useState(!0),[h,g]=b.useState(""),[v,m]=b.useState(""),[f,p]=b.useState({total:0,page:1,limit:20,totalPages:0}),[N,j]=b.useState({user_id:null,email:"",first_name:"",last_name:"",full_name:"",phone:"",date_of_birth:"",gender:"",interests:"",emergency_contact_name:"",emergency_contact_phone:"",dietary_restrictions:"",accessibility_needs:"",profile_picture_url:"",bio:"",social_media_links:{},notification_preferences:{email:!0,sms:!1,event_updates:!0,promotions:!1},registration_count:0,attendance_count:0,feedback_count:0}),[C,y]=b.useState([]),[E,k]=b.useState([]),[O,U]=b.useState([]),[R,M]=b.useState({total:0,unread:0,reminders:0,confirmations:0,system_notifications:0}),[S,B]=b.useState(null),[Z,ee]=b.useState(!1),[re,ge]=b.useState(!1),[se,W]=b.useState(null),[he,xe]=b.useState([]),[ye,A]=b.useState(!1),V=()=>{const de=me.getToken();return console.log("=== TOKEN DEBUG ==="),console.log("AuthTokenService token:",de?"Found":"Not found"),console.log("localStorage token:",localStorage.getItem("token")?"Found":"Not found"),console.log("localStorage authToken:",localStorage.getItem("authToken")?"Found":"Not found"),console.log("All localStorage keys:",Object.keys(localStorage)),console.log("=================="),de},ae=async(de,fe={})=>{const L=V(),ne={"Content-Type":"application/json",...L&&{Authorization:`Bearer ${L}`}};return fetch(`http://localhost:5001${de}`,{...fe,headers:{...ne,...fe.headers}})},I=async()=>{try{let de=new URL("http://localhost:5001/api/public/events");h&&de.searchParams.append("search",h),v&&de.searchParams.append("category",v),de.searchParams.append("page",f.page),de.searchParams.append("limit",f.limit);const fe=await fetch(de);if(fe.ok){const L=await fe.json();y(L.events||[]),L.pagination&&p(L.pagination)}else console.error("Failed to fetch events")}catch(de){console.error("Error fetching events:",de)}},w=async()=>{try{console.log("Fetching tickets...");const de=V();console.log("Token for tickets request:",de?"Token exists":"No token found");const fe=await ae("/api/attendee/tickets");if(fe.ok){const L=await fe.json();console.log("Tickets received:",L),console.log("QR Code debugging:");const ne=L.map(ce=>(console.log(`Ticket ${ce.registration_id}: QR Code present:`,!!ce.qr_code,"Length:",ce.qr_code?.length),ce.qr_code&&console.log(`QR Code preview for ticket ${ce.registration_id}:`,ce.qr_code.substring(0,50)+"..."),{registration_id:ce.registration_id,id:ce.registration_id,event_id:ce.event_id,event_name:ce.event_name,event_date:ce.event_date,event_start_time:ce.event_time,event_location:ce.venue_name||ce.venue_address,venue_name:ce.venue_name,ticket_quantity:ce.ticket_quantity,ticket_type:ce.ticket_type_name||"General",ticket_number:`TKT-${ce.registration_id}`,attendee_name:N?.full_name||"Guest",status:ce.status||"confirmed",payment_status:ce.payment_status,total_amount:ce.total_amount,qr_code:ce.qr_code,checked_in:ce.checked_in||ce.check_in_status||!1,has_feedback:ce.has_feedback||!1}));console.log("Final transformed tickets with QR codes:",ne.map(ce=>({id:ce.id,hasQR:!!ce.qr_code,qrLength:ce.qr_code?.length}))),k(ne)}else{console.error("Failed to fetch tickets. Status:",fe.status);const L=await fe.text();console.error("Error response:",L),k([])}}catch(de){console.error("Error fetching tickets:",de),k([])}},D=async()=>{try{console.log("Fetching user profile...");const de=V();console.log("Token for profile request:",de?"Token exists":"No token found");const fe=await ae("/api/attendee/profile");if(fe.ok){const L=await fe.json();console.log("Profile data received:",L),L.success&&L.profile?j(L.profile):console.error("Invalid profile response format")}else{const L=await fe.json();console.error("Failed to fetch profile:",L)}}catch(de){console.error("Error fetching profile:",de)}},Q=async()=>{try{console.log("Fetching notifications...");const de=V();console.log("Token for notifications request:",de?"Token exists":"No token found");const fe=await ae("/api/attendee/notifications?page=1&limit=20");if(fe.ok){const L=await fe.json();console.log("Notifications response:",L);const ne=L.notifications.map(ce=>({id:ce.notification_id,type:ce.type,title:ce.title,message:ce.message,read:ce.is_read,timestamp:ce.created_at,event_id:ce.event_id,event_name:ce.event_name}));U(ne),console.log(`Loaded ${ne.length} notifications`)}else{console.error("Failed to fetch notifications. Status:",fe.status);const L=await fe.text();console.error("Error response:",L),U([])}}catch(de){console.error("Error fetching notifications:",de),U([])}},te=async()=>{try{const de=await ae("/api/attendee/notifications/stats");if(de.ok){const fe=await de.json();console.log("Notification stats:",fe),M({total:parseInt(fe.total)||0,unread:parseInt(fe.unread)||0,reminders:parseInt(fe.reminders)||0,confirmations:parseInt(fe.confirmations)||0,system_notifications:parseInt(fe.system_notifications)||0})}else console.error("Failed to fetch notification stats")}catch(de){console.error("Error fetching notification stats:",de)}};b.useEffect(()=>{(async()=>{d(!0);try{console.log("Testing authentication...");const fe=await ae("/api/attendee/test-auth");if(fe.ok){const L=await fe.json();console.log("Authentication test successful:",L)}else{console.error("Authentication test failed:",fe.status);const L=await fe.text();console.error("Auth error:",L)}}catch(fe){console.error("Auth test error:",fe)}await Promise.all([I(),w(),Q(),te(),D()]),d(!1)})()},[h,v,f.page]);const ie=de=>{p(fe=>({...fe,page:de}))},je=async de=>{B(de),A(!0);try{const fe=await fetch(`http://localhost:5001/api/events/${de.event_id}/ticket-types/public`);if(fe.ok){const L=await fe.json();xe(L.ticketTypes||[])}else console.error("Failed to fetch ticket types"),xe([])}catch(fe){console.error("Error fetching ticket types:",fe),xe([])}finally{A(!1),ee(!0)}},Ne=async()=>{try{alert("Ticket purchased successfully!"),ee(!1),await Promise.all([w(),Q(),te()])}catch(de){console.error("Error handling ticket purchase:",de),alert("An error occurred while processing your ticket purchase")}},Ye=de=>{const fe=E.find(L=>L.id===de);if(fe&&fe.qr_code){const L=document.createElement("div");L.style.position="fixed",L.style.top="0",L.style.left="0",L.style.width="100%",L.style.height="100%",L.style.backgroundColor="rgba(0,0,0,0.8)",L.style.display="flex",L.style.justifyContent="center",L.style.alignItems="center",L.style.zIndex="1000";const ne=document.createElement("div");ne.style.backgroundColor="white",ne.style.padding="20px",ne.style.borderRadius="8px",ne.style.textAlign="center";const ce=document.createElement("h3");ce.textContent=`Ticket for ${fe.event_name}`;const Be=document.createElement("img");Be.src=fe.qr_code,Be.alt="QR Code",Be.width=250,Be.height=250;const Ge=document.createElement("button");Ge.textContent="Close",Ge.style.marginTop="15px",Ge.style.padding="8px 16px",Ge.style.backgroundColor="#f0f0f0",Ge.style.border="none",Ge.style.borderRadius="4px",Ge.style.cursor="pointer",Ge.onclick=()=>document.body.removeChild(L),ne.appendChild(ce),ne.appendChild(Be),ne.appendChild(Ge),L.appendChild(ne),document.body.appendChild(L)}},Ue=()=>{alert("Ticket download functionality will be implemented soon")},ct=async de=>{if(window.confirm("Are you sure you want to cancel this ticket? This cannot be undone."))try{const fe=await ae(`/api/attendee/tickets/${de}`,{method:"DELETE"});if(fe.ok){const L=await fe.json();alert(L.message||"Ticket cancelled successfully"),await w()}else{const L=await fe.json();alert(L.message||"Failed to cancel ticket")}}catch(fe){console.error("Error cancelling ticket:",fe),alert("An error occurred while cancelling the ticket")}},ga=de=>{W(de),ge(!0)},wt=async de=>{try{ge(!1),await I(),console.log("Feedback submitted successfully:",de)}catch(fe){console.error("Error handling feedback submission:",fe)}},Mt=async de=>{try{console.log("Updating profile with data:",de);const fe=await ae("/api/attendee/profile",{method:"PUT",body:JSON.stringify(de)});if(fe.ok){const L=await fe.json();console.log("Profile update response:",L),alert(L.message||"Profile updated successfully!"),await D()}else{const L=await fe.json();alert(L.message||"Failed to update profile")}}catch(fe){console.error("Error updating profile:",fe),alert("An error occurred while updating your profile")}};return o?t.jsxs("div",{className:"detailContainer",children:[t.jsx(ma,{}),t.jsxs("div",{className:"loading-container",style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh",fontSize:"1.2rem"},children:[t.jsx("i",{className:"fas fa-spinner fa-spin",style:{marginRight:"10px"}}),"Loading dashboard..."]}),t.jsx(Ts,{})]}):t.jsxs("div",{className:"detailContainer",children:[t.jsx(ma,{}),t.jsxs("div",{className:"attendee-dashboard",children:[t.jsxs("div",{className:"dashboard-header",children:[t.jsx("h1",{className:"dashboard-title",children:"Attendee Dashboard"}),t.jsxs("p",{className:"dashboard-subtitle",children:["Welcome back, ",N?.first_name||"Guest","! Manage your events, tickets, and profile."]})]}),t.jsxs("div",{className:"dashboard-tabs",children:[t.jsx("div",{className:`dashboard-tab ${i==="events"?"active":""}`,onClick:()=>c("events"),children:"Events"}),t.jsx("div",{className:`dashboard-tab ${i==="tickets"?"active":""}`,onClick:()=>c("tickets"),children:"My Tickets"}),t.jsxs("div",{className:`dashboard-tab ${i==="notifications"?"active":""}`,onClick:()=>c("notifications"),children:["Notifications",R.unread>0&&t.jsx("span",{style:{background:"#e74c3c",color:"white",borderRadius:"50%",padding:"2px 6px",fontSize:"0.7rem",marginLeft:"5px"},children:R.unread})]}),t.jsx("div",{className:`dashboard-tab ${i==="profile"?"active":""}`,onClick:()=>c("profile"),children:"My Profile"})]}),i==="events"&&!Z&&!re&&t.jsxs("div",{className:"dashboard-section",children:[t.jsxs("div",{className:"section-header",children:[t.jsx("h2",{className:"section-title",children:"Available Events"}),t.jsxs("div",{className:"search-filters",children:[t.jsxs("div",{className:"search-bar",children:[t.jsx("input",{type:"text",placeholder:"Search events...",value:h,onChange:de=>g(de.target.value)}),t.jsx("button",{onClick:I,children:t.jsx("i",{className:"fas fa-search"})})]}),t.jsx("div",{className:"category-filter",children:t.jsxs("select",{value:v,onChange:de=>m(de.target.value),children:[t.jsx("option",{value:"",children:"All Categories"}),t.jsx("option",{value:"Conference",children:"Conference"}),t.jsx("option",{value:"Workshop",children:"Workshop"}),t.jsx("option",{value:"Seminar",children:"Seminar"}),t.jsx("option",{value:"Networking",children:"Networking"}),t.jsx("option",{value:"Concert",children:"Concert"}),t.jsx("option",{value:"Festival",children:"Festival"}),t.jsx("option",{value:"Exhibition",children:"Exhibition"}),t.jsx("option",{value:"Sports",children:"Sports"})]})})]})]}),t.jsxs("div",{className:"dashboard-content",children:[o?t.jsx("div",{className:"loading-spinner",children:"Loading events..."}):C?.length>0?C.map(de=>t.jsx(_N,{event:de,onRegister:()=>je(de),onViewDetails:()=>l(`/event/${de.event_id}`)},de.event_id)):t.jsxs("div",{className:"empty-state",children:[t.jsx("i",{className:"fas fa-calendar-times"}),t.jsx("h3",{children:"No events available"}),t.jsx("p",{children:"Check back soon for upcoming events"})]}),C?.length>0&&f.totalPages>1&&t.jsxs("div",{className:"pagination-controls",children:[t.jsx("button",{onClick:()=>ie(f.page-1),disabled:f.page===1,children:"Previous"}),t.jsxs("div",{className:"page-info",children:["Page ",f.page," of ",f.totalPages]}),t.jsx("button",{onClick:()=>ie(f.page+1),disabled:f.page>=f.totalPages,children:"Next"})]})]})]}),i==="events"&&Z&&t.jsx(gp,{event:S,ticketTypes:he,loading:ye,onPurchase:Ne,onCancel:()=>ee(!1)}),i==="events"&&re&&t.jsx(wN,{event:C.find(de=>de.event_id===se)||{event_id:se,event_name:"Event"},onFeedbackSubmitted:wt}),i==="tickets"&&t.jsx(TN,{tickets:E,onViewQRCode:Ye,onDownloadTicket:Ue,onCancelTicket:ct,onLeaveFeedback:ga}),i==="notifications"&&t.jsx(CN,{}),i==="profile"&&t.jsx(kN,{profile:N,onUpdateProfile:Mt})]}),t.jsx(Ts,{})]})}var AN=Object.defineProperty,sr=Object.getOwnPropertySymbols,xp=Object.prototype.hasOwnProperty,vp=Object.prototype.propertyIsEnumerable,wm=(l,i,c)=>i in l?AN(l,i,{enumerable:!0,configurable:!0,writable:!0,value:c}):l[i]=c,Ko=(l,i)=>{for(var c in i||(i={}))xp.call(i,c)&&wm(l,c,i[c]);if(sr)for(var c of sr(i))vp.call(i,c)&&wm(l,c,i[c]);return l},Jo=(l,i)=>{var c={};for(var o in l)xp.call(l,o)&&i.indexOf(o)<0&&(c[o]=l[o]);if(l!=null&&sr)for(var o of sr(l))i.indexOf(o)<0&&vp.call(l,o)&&(c[o]=l[o]);return c};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Rs;(l=>{const i=class Ae{constructor(m,f,p,N){if(this.version=m,this.errorCorrectionLevel=f,this.modules=[],this.isFunction=[],m<Ae.MIN_VERSION||m>Ae.MAX_VERSION)throw new RangeError("Version value out of range");if(N<-1||N>7)throw new RangeError("Mask value out of range");this.size=m*4+17;let j=[];for(let y=0;y<this.size;y++)j.push(!1);for(let y=0;y<this.size;y++)this.modules.push(j.slice()),this.isFunction.push(j.slice());this.drawFunctionPatterns();const C=this.addEccAndInterleave(p);if(this.drawCodewords(C),N==-1){let y=1e9;for(let E=0;E<8;E++){this.applyMask(E),this.drawFormatBits(E);const k=this.getPenaltyScore();k<y&&(N=E,y=k),this.applyMask(E)}}d(0<=N&&N<=7),this.mask=N,this.applyMask(N),this.drawFormatBits(N),this.isFunction=[]}static encodeText(m,f){const p=l.QrSegment.makeSegments(m);return Ae.encodeSegments(p,f)}static encodeBinary(m,f){const p=l.QrSegment.makeBytes(m);return Ae.encodeSegments([p],f)}static encodeSegments(m,f,p=1,N=40,j=-1,C=!0){if(!(Ae.MIN_VERSION<=p&&p<=N&&N<=Ae.MAX_VERSION)||j<-1||j>7)throw new RangeError("Invalid value");let y,E;for(y=p;;y++){const R=Ae.getNumDataCodewords(y,f)*8,M=g.getTotalBits(m,y);if(M<=R){E=M;break}if(y>=N)throw new RangeError("Data too long")}for(const R of[Ae.Ecc.MEDIUM,Ae.Ecc.QUARTILE,Ae.Ecc.HIGH])C&&E<=Ae.getNumDataCodewords(y,R)*8&&(f=R);let k=[];for(const R of m){c(R.mode.modeBits,4,k),c(R.numChars,R.mode.numCharCountBits(y),k);for(const M of R.getData())k.push(M)}d(k.length==E);const O=Ae.getNumDataCodewords(y,f)*8;d(k.length<=O),c(0,Math.min(4,O-k.length),k),c(0,(8-k.length%8)%8,k),d(k.length%8==0);for(let R=236;k.length<O;R^=253)c(R,8,k);let U=[];for(;U.length*8<k.length;)U.push(0);return k.forEach((R,M)=>U[M>>>3]|=R<<7-(M&7)),new Ae(y,f,U,j)}getModule(m,f){return 0<=m&&m<this.size&&0<=f&&f<this.size&&this.modules[f][m]}getModules(){return this.modules}drawFunctionPatterns(){for(let p=0;p<this.size;p++)this.setFunctionModule(6,p,p%2==0),this.setFunctionModule(p,6,p%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const m=this.getAlignmentPatternPositions(),f=m.length;for(let p=0;p<f;p++)for(let N=0;N<f;N++)p==0&&N==0||p==0&&N==f-1||p==f-1&&N==0||this.drawAlignmentPattern(m[p],m[N]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(m){const f=this.errorCorrectionLevel.formatBits<<3|m;let p=f;for(let j=0;j<10;j++)p=p<<1^(p>>>9)*1335;const N=(f<<10|p)^21522;d(N>>>15==0);for(let j=0;j<=5;j++)this.setFunctionModule(8,j,o(N,j));this.setFunctionModule(8,7,o(N,6)),this.setFunctionModule(8,8,o(N,7)),this.setFunctionModule(7,8,o(N,8));for(let j=9;j<15;j++)this.setFunctionModule(14-j,8,o(N,j));for(let j=0;j<8;j++)this.setFunctionModule(this.size-1-j,8,o(N,j));for(let j=8;j<15;j++)this.setFunctionModule(8,this.size-15+j,o(N,j));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let m=this.version;for(let p=0;p<12;p++)m=m<<1^(m>>>11)*7973;const f=this.version<<12|m;d(f>>>18==0);for(let p=0;p<18;p++){const N=o(f,p),j=this.size-11+p%3,C=Math.floor(p/3);this.setFunctionModule(j,C,N),this.setFunctionModule(C,j,N)}}drawFinderPattern(m,f){for(let p=-4;p<=4;p++)for(let N=-4;N<=4;N++){const j=Math.max(Math.abs(N),Math.abs(p)),C=m+N,y=f+p;0<=C&&C<this.size&&0<=y&&y<this.size&&this.setFunctionModule(C,y,j!=2&&j!=4)}}drawAlignmentPattern(m,f){for(let p=-2;p<=2;p++)for(let N=-2;N<=2;N++)this.setFunctionModule(m+N,f+p,Math.max(Math.abs(N),Math.abs(p))!=1)}setFunctionModule(m,f,p){this.modules[f][m]=p,this.isFunction[f][m]=!0}addEccAndInterleave(m){const f=this.version,p=this.errorCorrectionLevel;if(m.length!=Ae.getNumDataCodewords(f,p))throw new RangeError("Invalid argument");const N=Ae.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][f],j=Ae.ECC_CODEWORDS_PER_BLOCK[p.ordinal][f],C=Math.floor(Ae.getNumRawDataModules(f)/8),y=N-C%N,E=Math.floor(C/N);let k=[];const O=Ae.reedSolomonComputeDivisor(j);for(let R=0,M=0;R<N;R++){let S=m.slice(M,M+E-j+(R<y?0:1));M+=S.length;const B=Ae.reedSolomonComputeRemainder(S,O);R<y&&S.push(0),k.push(S.concat(B))}let U=[];for(let R=0;R<k[0].length;R++)k.forEach((M,S)=>{(R!=E-j||S>=y)&&U.push(M[R])});return d(U.length==C),U}drawCodewords(m){if(m.length!=Math.floor(Ae.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let f=0;for(let p=this.size-1;p>=1;p-=2){p==6&&(p=5);for(let N=0;N<this.size;N++)for(let j=0;j<2;j++){const C=p-j,E=(p+1&2)==0?this.size-1-N:N;!this.isFunction[E][C]&&f<m.length*8&&(this.modules[E][C]=o(m[f>>>3],7-(f&7)),f++)}}d(f==m.length*8)}applyMask(m){if(m<0||m>7)throw new RangeError("Mask value out of range");for(let f=0;f<this.size;f++)for(let p=0;p<this.size;p++){let N;switch(m){case 0:N=(p+f)%2==0;break;case 1:N=f%2==0;break;case 2:N=p%3==0;break;case 3:N=(p+f)%3==0;break;case 4:N=(Math.floor(p/3)+Math.floor(f/2))%2==0;break;case 5:N=p*f%2+p*f%3==0;break;case 6:N=(p*f%2+p*f%3)%2==0;break;case 7:N=((p+f)%2+p*f%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[f][p]&&N&&(this.modules[f][p]=!this.modules[f][p])}}getPenaltyScore(){let m=0;for(let j=0;j<this.size;j++){let C=!1,y=0,E=[0,0,0,0,0,0,0];for(let k=0;k<this.size;k++)this.modules[j][k]==C?(y++,y==5?m+=Ae.PENALTY_N1:y>5&&m++):(this.finderPenaltyAddHistory(y,E),C||(m+=this.finderPenaltyCountPatterns(E)*Ae.PENALTY_N3),C=this.modules[j][k],y=1);m+=this.finderPenaltyTerminateAndCount(C,y,E)*Ae.PENALTY_N3}for(let j=0;j<this.size;j++){let C=!1,y=0,E=[0,0,0,0,0,0,0];for(let k=0;k<this.size;k++)this.modules[k][j]==C?(y++,y==5?m+=Ae.PENALTY_N1:y>5&&m++):(this.finderPenaltyAddHistory(y,E),C||(m+=this.finderPenaltyCountPatterns(E)*Ae.PENALTY_N3),C=this.modules[k][j],y=1);m+=this.finderPenaltyTerminateAndCount(C,y,E)*Ae.PENALTY_N3}for(let j=0;j<this.size-1;j++)for(let C=0;C<this.size-1;C++){const y=this.modules[j][C];y==this.modules[j][C+1]&&y==this.modules[j+1][C]&&y==this.modules[j+1][C+1]&&(m+=Ae.PENALTY_N2)}let f=0;for(const j of this.modules)f=j.reduce((C,y)=>C+(y?1:0),f);const p=this.size*this.size,N=Math.ceil(Math.abs(f*20-p*10)/p)-1;return d(0<=N&&N<=9),m+=N*Ae.PENALTY_N4,d(0<=m&&m<=2568888),m}getAlignmentPatternPositions(){if(this.version==1)return[];{const m=Math.floor(this.version/7)+2,f=this.version==32?26:Math.ceil((this.version*4+4)/(m*2-2))*2;let p=[6];for(let N=this.size-7;p.length<m;N-=f)p.splice(1,0,N);return p}}static getNumRawDataModules(m){if(m<Ae.MIN_VERSION||m>Ae.MAX_VERSION)throw new RangeError("Version number out of range");let f=(16*m+128)*m+64;if(m>=2){const p=Math.floor(m/7)+2;f-=(25*p-10)*p-55,m>=7&&(f-=36)}return d(208<=f&&f<=29648),f}static getNumDataCodewords(m,f){return Math.floor(Ae.getNumRawDataModules(m)/8)-Ae.ECC_CODEWORDS_PER_BLOCK[f.ordinal][m]*Ae.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][m]}static reedSolomonComputeDivisor(m){if(m<1||m>255)throw new RangeError("Degree out of range");let f=[];for(let N=0;N<m-1;N++)f.push(0);f.push(1);let p=1;for(let N=0;N<m;N++){for(let j=0;j<f.length;j++)f[j]=Ae.reedSolomonMultiply(f[j],p),j+1<f.length&&(f[j]^=f[j+1]);p=Ae.reedSolomonMultiply(p,2)}return f}static reedSolomonComputeRemainder(m,f){let p=f.map(N=>0);for(const N of m){const j=N^p.shift();p.push(0),f.forEach((C,y)=>p[y]^=Ae.reedSolomonMultiply(C,j))}return p}static reedSolomonMultiply(m,f){if(m>>>8||f>>>8)throw new RangeError("Byte out of range");let p=0;for(let N=7;N>=0;N--)p=p<<1^(p>>>7)*285,p^=(f>>>N&1)*m;return d(p>>>8==0),p}finderPenaltyCountPatterns(m){const f=m[1];d(f<=this.size*3);const p=f>0&&m[2]==f&&m[3]==f*3&&m[4]==f&&m[5]==f;return(p&&m[0]>=f*4&&m[6]>=f?1:0)+(p&&m[6]>=f*4&&m[0]>=f?1:0)}finderPenaltyTerminateAndCount(m,f,p){return m&&(this.finderPenaltyAddHistory(f,p),f=0),f+=this.size,this.finderPenaltyAddHistory(f,p),this.finderPenaltyCountPatterns(p)}finderPenaltyAddHistory(m,f){f[0]==0&&(m+=this.size),f.pop(),f.unshift(m)}};i.MIN_VERSION=1,i.MAX_VERSION=40,i.PENALTY_N1=3,i.PENALTY_N2=3,i.PENALTY_N3=40,i.PENALTY_N4=10,i.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],i.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],l.QrCode=i;function c(v,m,f){if(m<0||m>31||v>>>m)throw new RangeError("Value out of range");for(let p=m-1;p>=0;p--)f.push(v>>>p&1)}function o(v,m){return(v>>>m&1)!=0}function d(v){if(!v)throw new Error("Assertion error")}const h=class We{constructor(m,f,p){if(this.mode=m,this.numChars=f,this.bitData=p,f<0)throw new RangeError("Invalid argument");this.bitData=p.slice()}static makeBytes(m){let f=[];for(const p of m)c(p,8,f);return new We(We.Mode.BYTE,m.length,f)}static makeNumeric(m){if(!We.isNumeric(m))throw new RangeError("String contains non-numeric characters");let f=[];for(let p=0;p<m.length;){const N=Math.min(m.length-p,3);c(parseInt(m.substring(p,p+N),10),N*3+1,f),p+=N}return new We(We.Mode.NUMERIC,m.length,f)}static makeAlphanumeric(m){if(!We.isAlphanumeric(m))throw new RangeError("String contains unencodable characters in alphanumeric mode");let f=[],p;for(p=0;p+2<=m.length;p+=2){let N=We.ALPHANUMERIC_CHARSET.indexOf(m.charAt(p))*45;N+=We.ALPHANUMERIC_CHARSET.indexOf(m.charAt(p+1)),c(N,11,f)}return p<m.length&&c(We.ALPHANUMERIC_CHARSET.indexOf(m.charAt(p)),6,f),new We(We.Mode.ALPHANUMERIC,m.length,f)}static makeSegments(m){return m==""?[]:We.isNumeric(m)?[We.makeNumeric(m)]:We.isAlphanumeric(m)?[We.makeAlphanumeric(m)]:[We.makeBytes(We.toUtf8ByteArray(m))]}static makeEci(m){let f=[];if(m<0)throw new RangeError("ECI assignment value out of range");if(m<128)c(m,8,f);else if(m<16384)c(2,2,f),c(m,14,f);else if(m<1e6)c(6,3,f),c(m,21,f);else throw new RangeError("ECI assignment value out of range");return new We(We.Mode.ECI,0,f)}static isNumeric(m){return We.NUMERIC_REGEX.test(m)}static isAlphanumeric(m){return We.ALPHANUMERIC_REGEX.test(m)}getData(){return this.bitData.slice()}static getTotalBits(m,f){let p=0;for(const N of m){const j=N.mode.numCharCountBits(f);if(N.numChars>=1<<j)return 1/0;p+=4+j+N.bitData.length}return p}static toUtf8ByteArray(m){m=encodeURI(m);let f=[];for(let p=0;p<m.length;p++)m.charAt(p)!="%"?f.push(m.charCodeAt(p)):(f.push(parseInt(m.substring(p+1,p+3),16)),p+=2);return f}};h.NUMERIC_REGEX=/^[0-9]*$/,h.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,h.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let g=h;l.QrSegment=h})(Rs||(Rs={}));(l=>{(i=>{const c=class{constructor(d,h){this.ordinal=d,this.formatBits=h}};c.LOW=new c(0,1),c.MEDIUM=new c(1,0),c.QUARTILE=new c(2,3),c.HIGH=new c(3,2),i.Ecc=c})(l.QrCode||(l.QrCode={}))})(Rs||(Rs={}));(l=>{(i=>{const c=class{constructor(d,h){this.modeBits=d,this.numBitsCharCount=h}numCharCountBits(d){return this.numBitsCharCount[Math.floor((d+7)/17)]}};c.NUMERIC=new c(1,[10,12,14]),c.ALPHANUMERIC=new c(2,[9,11,13]),c.BYTE=new c(4,[8,16,16]),c.KANJI=new c(8,[8,10,12]),c.ECI=new c(7,[0,0,0]),i.Mode=c})(l.QrSegment||(l.QrSegment={}))})(Rs||(Rs={}));var yn=Rs;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var DN={L:yn.QrCode.Ecc.LOW,M:yn.QrCode.Ecc.MEDIUM,Q:yn.QrCode.Ecc.QUARTILE,H:yn.QrCode.Ecc.HIGH},yp=128,jp="L",Np="#FFFFFF",bp="#000000",_p=!1,Sp=1,ON=4,MN=0,UN=.1;function Ep(l,i=0){const c=[];return l.forEach(function(o,d){let h=null;o.forEach(function(g,v){if(!g&&h!==null){c.push(`M${h+i} ${d+i}h${v-h}v1H${h+i}z`),h=null;return}if(v===o.length-1){if(!g)return;h===null?c.push(`M${v+i},${d+i} h1v1H${v+i}z`):c.push(`M${h+i},${d+i} h${v+1-h}v1H${h+i}z`);return}g&&h===null&&(h=v)})}),c.join("")}function wp(l,i){return l.slice().map((c,o)=>o<i.y||o>=i.y+i.h?c:c.map((d,h)=>h<i.x||h>=i.x+i.w?d:!1))}function zN(l,i,c,o){if(o==null)return null;const d=l.length+c*2,h=Math.floor(i*UN),g=d/i,v=(o.width||h)*g,m=(o.height||h)*g,f=o.x==null?l.length/2-v/2:o.x*g,p=o.y==null?l.length/2-m/2:o.y*g,N=o.opacity==null?1:o.opacity;let j=null;if(o.excavate){let y=Math.floor(f),E=Math.floor(p),k=Math.ceil(v+f-y),O=Math.ceil(m+p-E);j={x:y,y:E,w:k,h:O}}const C=o.crossOrigin;return{x:f,y:p,h:m,w:v,excavation:j,opacity:N,crossOrigin:C}}function LN(l,i){return i!=null?Math.max(Math.floor(i),0):l?ON:MN}function kp({value:l,level:i,minVersion:c,includeMargin:o,marginSize:d,imageSettings:h,size:g,boostLevel:v}){let m=rt.useMemo(()=>{const y=(Array.isArray(l)?l:[l]).reduce((E,k)=>(E.push(...yn.QrSegment.makeSegments(k)),E),[]);return yn.QrCode.encodeSegments(y,DN[i],c,void 0,void 0,v)},[l,i,c,v]);const{cells:f,margin:p,numCells:N,calculatedImageSettings:j}=rt.useMemo(()=>{let C=m.getModules();const y=LN(o,d),E=C.length+y*2,k=zN(C,g,y,h);return{cells:C,margin:y,numCells:E,calculatedImageSettings:k}},[m,g,h,o,d]);return{qrcode:m,margin:p,cells:f,numCells:N,calculatedImageSettings:j}}var qN=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),BN=rt.forwardRef(function(i,c){const o=i,{value:d,size:h=yp,level:g=jp,bgColor:v=Np,fgColor:m=bp,includeMargin:f=_p,minVersion:p=Sp,boostLevel:N,marginSize:j,imageSettings:C}=o,E=Jo(o,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:k}=E,O=Jo(E,["style"]),U=C?.src,R=rt.useRef(null),M=rt.useRef(null),S=rt.useCallback(xe=>{R.current=xe,typeof c=="function"?c(xe):c&&(c.current=xe)},[c]),[B,Z]=rt.useState(!1),{margin:ee,cells:re,numCells:ge,calculatedImageSettings:se}=kp({value:d,level:g,minVersion:p,boostLevel:N,includeMargin:f,marginSize:j,imageSettings:C,size:h});rt.useEffect(()=>{if(R.current!=null){const xe=R.current,ye=xe.getContext("2d");if(!ye)return;let A=re;const V=M.current,ae=se!=null&&V!==null&&V.complete&&V.naturalHeight!==0&&V.naturalWidth!==0;ae&&se.excavation!=null&&(A=wp(re,se.excavation));const I=window.devicePixelRatio||1;xe.height=xe.width=h*I;const w=h/ge*I;ye.scale(w,w),ye.fillStyle=v,ye.fillRect(0,0,ge,ge),ye.fillStyle=m,qN?ye.fill(new Path2D(Ep(A,ee))):re.forEach(function(D,Q){D.forEach(function(te,ie){te&&ye.fillRect(ie+ee,Q+ee,1,1)})}),se&&(ye.globalAlpha=se.opacity),ae&&ye.drawImage(V,se.x+ee,se.y+ee,se.w,se.h)}}),rt.useEffect(()=>{Z(!1)},[U]);const W=Ko({height:h,width:h},k);let he=null;return U!=null&&(he=rt.createElement("img",{src:U,key:U,style:{display:"none"},onLoad:()=>{Z(!0)},ref:M,crossOrigin:se?.crossOrigin})),rt.createElement(rt.Fragment,null,rt.createElement("canvas",Ko({style:W,height:h,width:h,ref:S,role:"img"},O)),he)});BN.displayName="QRCodeCanvas";var Cp=rt.forwardRef(function(i,c){const o=i,{value:d,size:h=yp,level:g=jp,bgColor:v=Np,fgColor:m=bp,includeMargin:f=_p,minVersion:p=Sp,boostLevel:N,title:j,marginSize:C,imageSettings:y}=o,E=Jo(o,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:k,cells:O,numCells:U,calculatedImageSettings:R}=kp({value:d,level:g,minVersion:p,boostLevel:N,includeMargin:f,marginSize:C,imageSettings:y,size:h});let M=O,S=null;y!=null&&R!=null&&(R.excavation!=null&&(M=wp(O,R.excavation)),S=rt.createElement("image",{href:y.src,height:R.h,width:R.w,x:R.x+k,y:R.y+k,preserveAspectRatio:"none",opacity:R.opacity,crossOrigin:R.crossOrigin}));const B=Ep(M,k);return rt.createElement("svg",Ko({height:h,width:h,viewBox:`0 0 ${U} ${U}`,ref:c,role:"img"},E),!!j&&rt.createElement("title",null,j),rt.createElement("path",{fill:v,d:`M0,0 h${U}v${U}H0z`,shapeRendering:"crispEdges"}),rt.createElement("path",{fill:m,d:B,shapeRendering:"crispEdges"}),S)});Cp.displayName="QRCodeSVG";const FN=({eventId:l,eventName:i,onClose:c})=>{const o=pa(),[d,h]=b.useState([]),[g,v]=b.useState(!0),[m,f]=b.useState(null),[p,N]=b.useState(null),[j,C]=b.useState(1),[y,E]=b.useState("select"),[k,O]=b.useState(null),[U,R]=b.useState(null),M=()=>{const W=me.getToken();return console.log("Getting token from AuthTokenService:",W?"Token exists":"No token"),console.log("Token preview:",W?W.substring(0,20)+"...":"null"),W||(R({type:"error",message:"Your session has expired. Please log in again."}),setTimeout(()=>{o("/login")},2e3),null)};b.useEffect(()=>{(async()=>{try{v(!0);const he=await ue.get(`http://localhost:5001/api/events/${l}/ticket-types/public`);he.data&&he.data.ticketTypes?h(he.data.ticketTypes):h([]),v(!1)}catch(he){console.error("Error fetching ticket types:",he),f("Failed to load ticket types. Please try again later."),v(!1)}})()},[l]);const S=W=>{N(W)},B=W=>{const he=parseInt(W.target.value);!isNaN(he)&&he>0&&he<=10&&C(he)},Z=()=>{if(!p){R({type:"error",message:"Please select a ticket type"});return}if(j>p.quantity_available-p.quantity_sold){R({type:"error",message:`Only ${p.quantity_available-p.quantity_sold} tickets available`});return}E("review")},ee=()=>{E("select")},re=async()=>{try{v(!0);const W=M();if(!W)return;const he=await ue.post("http://localhost:5001/api/payments/initialize",{event_id:l,ticket_type_id:p.ticket_type_id,ticket_quantity:j},{headers:{Authorization:`Bearer ${W}`,"Content-Type":"application/json"}});if(he.data&&he.data.success){const{authorization_url:xe,reference:ye}=he.data.data,A=window.open(xe,"paystack_payment","width=600,height=700,scrollbars=yes,resizable=yes"),V=setInterval(async()=>{if(A.closed){clearInterval(V),v(!1);try{const ae=await ue.get(`http://localhost:5001/api/payments/status/${ye}`,{headers:{Authorization:`Bearer ${W}`}});if(ae.data.success&&ae.data.data.status==="success"){const I={registration_id:ae.data.data.registration_id,event_id:l,event_name:ae.data.data.event_name||i,ticket_type:ae.data.data.ticket_type||p.type_name,quantity:ae.data.data.quantity||j,total_amount:ae.data.data.amount,payment_status:"success",qr_code:ae.data.data.qr_code,created_at:ae.data.data.paid_at};O(I),E("success"),R({type:"success",message:"Payment successful! Your ticket has been purchased."})}else R({type:"error",message:"Payment was not completed. Please try again."})}catch(ae){console.error("Error checking payment status:",ae),R({type:"error",message:"Unable to verify payment status. Please contact support."})}}},1e3);setTimeout(()=>{A.closed||(clearInterval(V),A.close(),v(!1),R({type:"error",message:"Payment session timed out. Please try again."}))},3e5)}else throw new Error("Failed to initialize payment")}catch(W){console.error("Error initiating payment:",W);let he="Failed to initiate payment. Please try again.";W.response?.status===403?he="Access denied. Please make sure you are logged in properly.":W.response?.status===401?he="Your session has expired. Please log in again.":W.response?.data?.message&&(he=W.response.data.message),R({type:"error",message:he}),v(!1)}},ge=()=>{y==="success"?(c(),o("/attendee-dashboard")):c()},se=()=>U?t.jsxs("div",{className:`notification ${U.type}`,children:[t.jsxs("div",{className:"notification-content",children:[t.jsx("span",{children:U.type==="success"?"":""}),t.jsx("p",{children:U.message})]}),t.jsx("button",{onClick:()=>R(null),children:"Dismiss"})]}):null;return g&&y!=="success"?t.jsx("div",{className:"ticket-purchase-modal",children:t.jsx("div",{className:"ticket-purchase-content",children:t.jsxs("div",{className:"loading",children:[t.jsx("div",{className:"spinner"}),t.jsx("p",{children:"Loading ticket information..."})]})})}):m?t.jsx("div",{className:"ticket-purchase-modal",children:t.jsxs("div",{className:"ticket-purchase-content",children:[t.jsxs("div",{className:"ticket-purchase-header",children:[t.jsx("h2",{children:"Error"}),t.jsx("button",{className:"close-button",onClick:ge,children:""})]}),t.jsxs("div",{className:"ticket-purchase-body error",children:[t.jsx("p",{children:m}),t.jsx("button",{className:"btn-primary",onClick:ge,children:"Close"})]})]})}):t.jsxs("div",{className:"ticket-purchase-modal",children:[t.jsxs("div",{className:"ticket-purchase-content",children:[t.jsxs("div",{className:"ticket-purchase-header",children:[t.jsx("h2",{children:y==="success"?"Purchase Confirmation":"Purchase Tickets"}),t.jsx("button",{className:"close-button",onClick:ge,children:""})]}),t.jsxs("div",{className:"ticket-purchase-body",children:[y==="select"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"event-name-header",children:t.jsx("h3",{children:i})}),t.jsx("div",{className:"ticket-types-list",children:d.map(W=>t.jsxs("div",{className:`ticket-type-card ${p?.ticket_type_id===W.ticket_type_id?"selected":""}`,onClick:()=>S(W),children:[t.jsxs("div",{className:"ticket-type-header",children:[t.jsx("h4",{children:W.type_name}),t.jsxs("span",{className:"ticket-price",children:["GH",(Number(W.price)||0).toFixed(2)]})]}),t.jsxs("div",{className:"ticket-type-description",children:[t.jsx("p",{children:W.description}),W.benefits&&t.jsxs("div",{className:"ticket-benefits",children:[t.jsx("h5",{children:"Benefits:"}),t.jsx("ul",{children:Array.isArray(W.benefits)?W.benefits.map((he,xe)=>t.jsx("li",{children:he},xe)):W.benefits.split(",").map((he,xe)=>t.jsx("li",{children:he.trim()},xe))})]})]}),t.jsx("div",{className:"ticket-availability",children:t.jsxs("span",{children:[W.quantity_available-W.quantity_sold," remaining"]})})]},W.ticket_type_id))}),p&&t.jsxs("div",{className:"ticket-quantity",children:[t.jsx("label",{htmlFor:"quantity",children:"Quantity:"}),t.jsxs("div",{className:"quantity-selector",children:[t.jsx("button",{onClick:()=>j>1&&C(j-1),disabled:j<=1,children:"-"}),t.jsx("input",{type:"number",id:"quantity",min:"1",max:"10",value:j,onChange:B}),t.jsx("button",{onClick:()=>j<10&&C(j+1),disabled:j>=10||j>=p.quantity_available-p.quantity_sold,children:"+"})]})]}),t.jsxs("div",{className:"ticket-actions",children:[t.jsx("button",{className:"btn-cancel",onClick:ge,children:"Cancel"}),t.jsx("button",{className:"btn-primary",onClick:Z,disabled:!p,children:"Continue"})]})]}),y==="review"&&t.jsx(t.Fragment,{children:t.jsxs("div",{className:"purchase-review",children:[t.jsx("h3",{children:"Review Your Order"}),t.jsxs("div",{className:"order-summary",children:[t.jsxs("div",{className:"order-item",children:[t.jsx("span",{children:"Event:"}),t.jsx("span",{children:i})]}),t.jsxs("div",{className:"order-item",children:[t.jsx("span",{children:"Ticket Type:"}),t.jsx("span",{children:p.type_name})]}),t.jsxs("div",{className:"order-item",children:[t.jsx("span",{children:"Quantity:"}),t.jsx("span",{children:j})]}),t.jsxs("div",{className:"order-item",children:[t.jsx("span",{children:"Price per Ticket:"}),t.jsxs("span",{children:["GH",(Number(p.price)||0).toFixed(2)]})]}),t.jsxs("div",{className:"order-item total",children:[t.jsx("span",{children:"Total:"}),t.jsxs("span",{children:["GH",((Number(p.price)||0)*j).toFixed(2)]})]})]}),t.jsxs("div",{className:"payment-info",children:[t.jsx("h4",{children:"Payment Information"}),t.jsx("p",{className:"payment-note",children:"Payment will be processed securely through Paystack. We accept credit/debit cards, bank transfers, and mobile money payments. You will be redirected to Paystack's secure payment page."}),t.jsx("div",{className:"payment-methods",children:t.jsxs("small",{children:[t.jsx("i",{className:"fas fa-shield-alt"})," Secure payment powered by Paystack"]})})]}),t.jsxs("div",{className:"purchase-actions",children:[t.jsx("button",{className:"btn-secondary",onClick:ee,children:"Back"}),t.jsx("button",{className:"btn-primary",onClick:re,children:"Complete Purchase"})]})]})}),y==="success"&&k&&t.jsx(t.Fragment,{children:t.jsxs("div",{className:"purchase-success",children:[t.jsx("div",{className:"success-icon",children:t.jsx("i",{className:"fas fa-check-circle"})}),t.jsx("h3",{children:"Thank You for Your Purchase!"}),t.jsxs("div",{className:"ticket-details",children:[t.jsxs("div",{className:"ticket-detail-item",children:[t.jsx("span",{children:"Event:"}),t.jsx("span",{children:i})]}),t.jsxs("div",{className:"ticket-detail-item",children:[t.jsx("span",{children:"Ticket Type:"}),t.jsx("span",{children:k.ticket_type})]}),t.jsxs("div",{className:"ticket-detail-item",children:[t.jsx("span",{children:"Quantity:"}),t.jsx("span",{children:k.quantity})]}),t.jsxs("div",{className:"ticket-detail-item",children:[t.jsx("span",{children:"Total Paid:"}),t.jsxs("span",{children:["GH",(Number(k.total_amount)||0).toFixed(2)]})]}),t.jsxs("div",{className:"ticket-detail-item",children:[t.jsx("span",{children:"Order ID:"}),t.jsx("span",{children:k.registration_id})]})]}),t.jsxs("div",{className:"qr-code-container",children:[t.jsx("h4",{children:"Your Ticket QR Code"}),t.jsx("div",{className:"qr-code",children:t.jsx(Cp,{value:k.qr_code,size:180,level:"H"})}),t.jsxs("p",{className:"qr-code-text",children:["Code: ",k.qr_code]})]}),t.jsxs("div",{className:"email-notification",children:[t.jsx("i",{className:"fas fa-check-circle"}),t.jsx("p",{children:"Your payment has been processed successfully via Paystack. Keep this ticket for event entry."})]}),t.jsxs("div",{className:"success-actions",children:[t.jsxs("button",{className:"btn-secondary",onClick:()=>window.print(),children:[t.jsx("i",{className:"fas fa-print"})," Print Ticket"]}),t.jsx("button",{className:"btn-primary",onClick:ge,children:"Done"})]})]})})]})]}),se()]})};function HN(){const{eventId:l}=Cv(),i=pa(),[c,o]=b.useState(null),[d,h]=b.useState([]),[g,v]=b.useState([]),[m,f]=b.useState(!0),[p,N]=b.useState(null),[j,C]=b.useState("overview"),[y,E]=b.useState(!1),k=(M,S,B="")=>{if(!M)return B;const Z=S.split(".");let ee=M;for(const re of Z){if(ee==null)return B;ee=ee[re]}return ee??B};b.useEffect(()=>{(async()=>{try{f(!0);const S=await ue.get(`http://localhost:5001/api/public/events/${l}`);console.log("Event data received:",S.data);const B=S.data.event||S.data;if(!B)throw new Error("Event data not found in the response");o(B),h(S.data.reviews||[]),v(S.data.otherEvents||[]),N(null)}catch(S){console.error("Error fetching event details:",S),N("Failed to load event details. Please try again later.")}finally{f(!1)}})()},[l]);const O=M=>{const S={year:"numeric",month:"long",day:"numeric",weekday:"long"};return new Date(M).toLocaleDateString(void 0,S)},U=M=>{if(!M)return"";const[S,B]=M.split(":"),Z=new Date;return Z.setHours(parseInt(S,10)),Z.setMinutes(parseInt(B,10)),Z.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})},R=M=>{const S=[],B=Math.floor(M),Z=M%1>=.5;for(let ee=1;ee<=5;ee++)ee<=B?S.push(t.jsx("i",{className:"fas fa-star"},ee)):ee===B+1&&Z?S.push(t.jsx("i",{className:"fas fa-star-half-alt"},ee)):S.push(t.jsx("i",{className:"far fa-star"},ee));return t.jsx("div",{className:"star-rating",children:S})};return m?t.jsxs("div",{className:"loading-container",children:[t.jsx("div",{className:"spinner"}),t.jsx("p",{children:"Loading event details..."})]}):p?t.jsxs("div",{className:"error-container",children:[t.jsx("h2",{children:"Error"}),t.jsx("p",{children:p}),t.jsx("button",{onClick:()=>i(-1),className:"btn-primary",children:"Go Back"})]}):c?t.jsxs(t.Fragment,{children:[t.jsx(ma,{}),t.jsxs("div",{className:"event-details-container",children:[t.jsxs("div",{className:"event-details-header",children:[t.jsx("div",{className:"event-image-container",children:k(c,"image_url")?t.jsx("img",{src:k(c,"image_url"),alt:k(c,"event_name"),className:"event-image"}):t.jsx("div",{className:"event-image-placeholder",children:t.jsx("i",{className:"fas fa-calendar-alt"})})}),t.jsxs("div",{className:"event-header-content",children:[t.jsx("h1",{className:"event-title",children:k(c,"event_name","Event")}),t.jsxs("div",{className:"event-meta",children:[t.jsxs("div",{className:"event-meta-item",children:[t.jsx("i",{className:"far fa-calendar"}),t.jsx("span",{children:O(k(c,"event_date",new Date))})]}),t.jsxs("div",{className:"event-meta-item",children:[t.jsx("i",{className:"far fa-clock"}),t.jsxs("span",{children:[k(c,"event_time")?U(k(c,"event_time")):"Time not specified"," ",k(c,"end_time")?`- ${U(k(c,"end_time"))}`:""]})]}),t.jsxs("div",{className:"event-meta-item",children:[t.jsx("i",{className:"fas fa-map-marker-alt"}),t.jsx("span",{children:c.venue_name?`${c.venue_name}${c.venue_address?", "+c.venue_address:""}`:"Location not specified"})]}),c.category&&t.jsxs("div",{className:"event-meta-item",children:[t.jsx("i",{className:"fas fa-tag"}),t.jsx("span",{children:c.category})]}),c.average_rating>0&&t.jsxs("div",{className:"event-meta-item",children:[R(c.average_rating),t.jsxs("span",{children:["(",c.review_count," reviews)"]})]})]}),t.jsxs("div",{className:"event-actions",children:[t.jsx("button",{className:"btn-register",onClick:()=>E(!0),children:"Register Now"}),t.jsx("div",{className:"event-price",children:c.ticket_price>0?`GH${parseFloat(c.ticket_price).toFixed(2)}`:"Free"})]})]})]}),t.jsxs("div",{className:"event-tabs",children:[t.jsx("button",{className:`tab-button ${j==="overview"?"active":""}`,onClick:()=>C("overview"),children:"Overview"}),t.jsx("button",{className:`tab-button ${j==="details"?"active":""}`,onClick:()=>C("details"),children:"Details"}),t.jsx("button",{className:`tab-button ${j==="organizer"?"active":""}`,onClick:()=>C("organizer"),children:"Organizer"}),d.length>0&&t.jsxs("button",{className:`tab-button ${j==="reviews"?"active":""}`,onClick:()=>C("reviews"),children:["Reviews (",d.length,")"]})]}),t.jsxs("div",{className:"event-content",children:[j==="overview"&&t.jsxs("div",{className:"event-overview",children:[t.jsx("h2",{children:"About This Event"}),t.jsx("div",{className:"event-description",children:t.jsx("p",{children:c.description})}),c.tags&&t.jsxs("div",{className:"event-tags",children:[t.jsx("h3",{children:"Tags"}),t.jsx("div",{className:"tags-container",children:c.tags.split(",").map((M,S)=>t.jsx("span",{className:"tag",children:M.trim()},S))})]}),t.jsxs("div",{className:"event-registration-info",children:[t.jsx("h3",{children:"Registration Information"}),t.jsxs("div",{className:"registration-items",children:[t.jsxs("div",{className:"registration-item",children:[t.jsx("i",{className:"far fa-calendar-check"}),t.jsxs("div",{children:[t.jsx("strong",{children:"Registration Deadline"}),t.jsx("p",{children:c.registration_deadline?O(c.registration_deadline):"No deadline"})]})]}),t.jsxs("div",{className:"registration-item",children:[t.jsx("i",{className:"fas fa-users"}),t.jsxs("div",{children:[t.jsx("strong",{children:"Capacity"}),t.jsx("p",{children:c.max_attendees||"Unlimited"})]})]}),t.jsxs("div",{className:"registration-item",children:[t.jsx("i",{className:"fas fa-ticket-alt"}),t.jsxs("div",{children:[t.jsx("strong",{children:"Tickets Per Person"}),t.jsxs("p",{children:["Maximum ",c.max_tickets_per_person," per registration"]})]})]}),t.jsxs("div",{className:"registration-item",children:[t.jsx("i",{className:"fas fa-user-check"}),t.jsxs("div",{children:[t.jsx("strong",{children:"Approval Required"}),t.jsx("p",{children:c.requires_approval?"Yes":"No"})]})]})]})]}),g.length>0&&t.jsxs("div",{className:"other-events",children:[t.jsxs("h3",{children:["More Events by ",c.organizer_name]}),t.jsx("div",{className:"other-events-container",children:g.map(M=>t.jsxs("div",{className:"other-event-card",onClick:()=>i(`/events/${M.event_id}`),children:[t.jsx("div",{className:"other-event-image",children:M.image_url?t.jsx("img",{src:M.image_url,alt:M.event_name}):t.jsx("div",{className:"other-event-image-placeholder",children:t.jsx("i",{className:"fas fa-calendar-alt"})})}),t.jsxs("div",{className:"other-event-content",children:[t.jsx("h4",{children:M.event_name}),t.jsxs("p",{children:[t.jsx("i",{className:"far fa-calendar"})," ",O(M.event_date)]}),t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-map-marker-alt"})," ",M.venue_name]})]})]},M.event_id))})]})]}),j==="details"&&t.jsxs("div",{className:"event-details-tab",children:[t.jsx("h2",{children:"Event Details"}),t.jsxs("div",{className:"details-section",children:[t.jsx("h3",{children:"Refund Policy"}),t.jsx("p",{children:c.refund_policy||"No refund policy specified."})]}),t.jsxs("div",{className:"details-section",children:[t.jsx("h3",{children:"Terms and Conditions"}),t.jsx("p",{children:c.terms_and_conditions||"No terms and conditions specified."})]}),t.jsxs("div",{className:"details-section",children:[t.jsx("h3",{children:"Attendee Count"}),t.jsxs("p",{children:[t.jsx("i",{className:"fas fa-user-friends"})," ",c.attendee_count," people registered"]})]}),t.jsxs("div",{className:"location-section",children:[t.jsx("h3",{children:"Location"}),t.jsxs("div",{className:"venue-details",children:[t.jsxs("div",{className:"venue-info",children:[t.jsx("h4",{children:c.venue_name}),t.jsx("p",{children:c.venue_address})]}),t.jsx("div",{className:"venue-map",children:t.jsxs("div",{className:"map-placeholder",children:[t.jsx("i",{className:"fas fa-map-marked-alt"}),t.jsx("p",{children:"Map view would display here"})]})})]})]})]}),j==="organizer"&&t.jsxs("div",{className:"organizer-details",children:[t.jsx("h2",{children:"About the Organizer"}),t.jsxs("div",{className:"organizer-profile",children:[t.jsxs("div",{className:"organizer-header",children:[t.jsx("div",{className:"organizer-avatar",children:t.jsx("i",{className:"fas fa-user-tie"})}),t.jsxs("div",{className:"organizer-info",children:[t.jsx("h3",{children:c.organizer_name}),t.jsx("p",{children:"Event Organizer"})]})]}),t.jsx("div",{className:"organizer-bio",children:t.jsx("p",{children:c.organizer_bio||"No organizer bio available."})}),t.jsxs("div",{className:"organizer-contact",children:[t.jsx("h4",{children:"Contact Information"}),t.jsx("div",{className:"contact-details",children:c.contact_phone&&t.jsxs("div",{className:"contact-item",children:[t.jsx("i",{className:"fas fa-phone"}),t.jsx("span",{children:c.contact_phone})]})})]})]}),c.sponsoring_company&&t.jsxs("div",{className:"company-details",children:[t.jsx("h3",{children:"Associated Company"}),t.jsxs("div",{className:"company-card",children:[t.jsx("div",{className:"company-logo",children:t.jsx("div",{className:"company-logo-placeholder",children:t.jsx("i",{className:"fas fa-building"})})}),t.jsxs("div",{className:"company-info",children:[t.jsx("h4",{children:c.sponsoring_company}),t.jsx("p",{children:c.company_address||"No address available"}),t.jsx("p",{children:c.contact_info||"No contact information available."})]})]})]})]}),j==="reviews"&&t.jsxs("div",{className:"reviews-section",children:[t.jsx("h2",{children:"Attendee Reviews"}),t.jsx("div",{className:"reviews-overview",children:t.jsxs("div",{className:"average-rating",children:[t.jsx("div",{className:"rating-number",children:c.average_rating.toFixed(1)}),R(c.average_rating),t.jsxs("div",{className:"rating-count",children:[c.review_count," reviews"]})]})}),t.jsx("div",{className:"reviews-list",children:d.length>0?d.map(M=>t.jsxs("div",{className:"review-card",children:[t.jsxs("div",{className:"review-header",children:[t.jsxs("div",{className:"reviewer-info",children:[t.jsx("div",{className:"reviewer-avatar",children:t.jsx("i",{className:"fas fa-user"})}),t.jsxs("div",{children:[t.jsx("div",{className:"reviewer-name",children:M.attendee_name}),t.jsx("div",{className:"review-date",children:new Date(M.created_at).toLocaleDateString()})]})]}),t.jsx("div",{className:"review-rating",children:R(M.rating)})]}),t.jsx("div",{className:"review-content",children:t.jsx("p",{children:M.comment})})]},M.feedback_id)):t.jsxs("div",{className:"no-reviews",children:[t.jsx("i",{className:"far fa-comment-dots"}),t.jsx("p",{children:"No reviews yet for this event."})]})})]})]})]}),t.jsx(Ts,{}),y&&t.jsx(FN,{eventId:l,eventName:k(c,"event_name","Event"),onClose:()=>E(!1)})]}):t.jsxs("div",{className:"error-container",children:[t.jsx("h2",{children:"Event Not Found"}),t.jsx("p",{children:"The event you're looking for doesn't exist or has been removed."}),t.jsx("button",{onClick:()=>i("/attendee-dashboard"),className:"btn-primary",children:"Return to Dashboard"})]})}const $N=()=>{const[l,i]=b.useState(null),[c,o]=b.useState(!0),[d,h]=b.useState(""),[g,v]=b.useState(!1),[m,f]=b.useState({first_name:"",last_name:"",phone:"",date_of_birth:"",gender:"",interests:"",emergency_contact_name:"",emergency_contact_phone:"",dietary_restrictions:"",accessibility_needs:"",bio:"",profile_picture_url:"",social_media_links:{},notification_preferences:{email:!0,sms:!1,event_updates:!0,promotions:!1}});b.useEffect(()=>{p()},[]),b.useEffect(()=>{l&&f({first_name:l.first_name||"",last_name:l.last_name||"",phone:l.phone||"",date_of_birth:l.date_of_birth||"",gender:l.gender||"",interests:l.interests||"",emergency_contact_name:l.emergency_contact_name||"",emergency_contact_phone:l.emergency_contact_phone||"",dietary_restrictions:l.dietary_restrictions||"",accessibility_needs:l.accessibility_needs||"",bio:l.bio||"",profile_picture_url:l.profile_picture_url||"",social_media_links:l.social_media_links||{},notification_preferences:{email:l.notification_preferences?.email??!0,sms:l.notification_preferences?.sms??!1,event_updates:l.notification_preferences?.event_updates??!0,promotions:l.notification_preferences?.promotions??!1}})},[l]);const p=async()=>{try{o(!0),h("");const y=await Ke.getAttendeeProfile();y.success&&y.data.profile?i(y.data.profile):h(y.error||"Failed to load profile data")}catch(y){console.error("Error fetching user profile:",y),h("Failed to load profile data")}finally{o(!1)}},N=y=>{const{name:E,value:k,type:O,checked:U}=y.target;f(O==="checkbox"?R=>({...R,notification_preferences:{...R.notification_preferences,[E]:U}}):R=>({...R,[E]:k}))},j=async y=>{y.preventDefault();try{o(!0);const E=await Ke.updateAttendeeProfile(m);E.success?(await p(),v(!1)):h(E.error||"Failed to update profile")}catch(E){console.error("Error updating profile:",E),h("Failed to update profile")}finally{o(!1)}},C=y=>{if(!y)return"";try{const E=new Date(y);return isNaN(E.getTime())?"":E.toISOString().split("T")[0]}catch(E){return console.error("Date formatting error:",E),""}};return c&&!l?t.jsx("div",{className:"profile-container",children:t.jsxs("div",{className:"loading-state",children:[t.jsx("i",{className:"fas fa-spinner fa-spin"}),t.jsx("p",{children:"Loading profile..."})]})}):t.jsxs("div",{className:"profile-container",children:[t.jsx(ma,{}),d&&t.jsxs("div",{className:"error-message",children:[t.jsx("i",{className:"fas fa-exclamation-circle"}),d]}),t.jsxs("div",{className:"profile-header",children:[t.jsx("h1",{children:"My Profile"}),t.jsx("p",{children:"Manage your account information and preferences"}),!g&&l&&t.jsxs("button",{className:"btn-primary edit-profile-btn",onClick:()=>v(!0),children:[t.jsx("i",{className:"fas fa-edit"})," Edit Profile"]})]}),t.jsx("div",{className:"profile-content",children:g?t.jsx("div",{className:"profile-card",children:t.jsxs("form",{onSubmit:j,children:[t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{children:"Personal Information"}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"First Name"}),t.jsx("input",{type:"text",name:"first_name",value:m.first_name,onChange:N,required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Last Name"}),t.jsx("input",{type:"text",name:"last_name",value:m.last_name,onChange:N,required:!0})]})]}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Phone"}),t.jsx("input",{type:"tel",name:"phone",value:m.phone,onChange:N})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Date of Birth"}),t.jsx("input",{type:"date",name:"date_of_birth",value:C(m.date_of_birth),onChange:N})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Gender"}),t.jsxs("select",{name:"gender",value:m.gender,onChange:N,children:[t.jsx("option",{value:"",children:"Select"}),t.jsx("option",{value:"male",children:"Male"}),t.jsx("option",{value:"female",children:"Female"}),t.jsx("option",{value:"non-binary",children:"Non-binary"}),t.jsx("option",{value:"prefer-not-to-say",children:"Prefer not to say"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Bio"}),t.jsx("textarea",{name:"bio",value:m.bio,onChange:N,placeholder:"Tell us about yourself...",rows:"3"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Profile Picture URL"}),t.jsx("input",{type:"url",name:"profile_picture_url",value:m.profile_picture_url,onChange:N,placeholder:"https://example.com/your-photo.jpg"})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{children:"Preferences & Interests"}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Interests"}),t.jsx("textarea",{name:"interests",value:m.interests,onChange:N,placeholder:"Your interests and hobbies..."})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Dietary Restrictions"}),t.jsx("textarea",{name:"dietary_restrictions",value:m.dietary_restrictions,onChange:N,placeholder:"Any dietary requirements..."})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Accessibility Needs"}),t.jsx("textarea",{name:"accessibility_needs",value:m.accessibility_needs,onChange:N,placeholder:"Any accessibility requirements..."})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{children:"Emergency Contact"}),t.jsxs("div",{className:"form-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Emergency Contact Name"}),t.jsx("input",{type:"text",name:"emergency_contact_name",value:m.emergency_contact_name,onChange:N,placeholder:"Emergency contact name"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Emergency Contact Phone"}),t.jsx("input",{type:"tel",name:"emergency_contact_phone",value:m.emergency_contact_phone,onChange:N,placeholder:"Emergency contact phone"})]})]})]}),t.jsxs("div",{className:"form-section",children:[t.jsx("h3",{children:"Notification Preferences"}),t.jsxs("div",{className:"checkbox-group",children:[t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",name:"email",checked:m.notification_preferences.email,onChange:N}),"Email Notifications"]}),t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",name:"sms",checked:m.notification_preferences.sms,onChange:N}),"SMS Notifications"]}),t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",name:"event_updates",checked:m.notification_preferences.event_updates,onChange:N}),"Event Updates"]}),t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",name:"promotions",checked:m.notification_preferences.promotions,onChange:N}),"Promotional Messages"]})]})]}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>v(!1),disabled:c,children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn-primary",disabled:c,children:c?"Saving...":"Save Changes"})]})]})}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"profile-card",children:[t.jsx("div",{className:"profile-avatar-section",children:t.jsx("div",{className:"profile-avatar-large",children:l?.profile_picture_url?t.jsx("img",{src:l.profile_picture_url,alt:"Profile"}):t.jsx("i",{className:"fas fa-user"})})}),t.jsxs("div",{className:"profile-info",children:[t.jsxs("div",{className:"info-section",children:[t.jsx("h3",{children:"Personal Information"}),t.jsxs("div",{className:"info-group",children:[t.jsx("label",{children:"Name"}),t.jsx("span",{children:l?.full_name||`${l?.first_name||""} ${l?.last_name||""}`.trim()||"Not provided"})]}),t.jsxs("div",{className:"info-group",children:[t.jsx("label",{children:"Email Address"}),t.jsx("span",{children:l?.email||"Not provided"})]}),t.jsxs("div",{className:"info-group",children:[t.jsx("label",{children:"Phone Number"}),t.jsx("span",{children:l?.phone||"Not provided"})]}),t.jsxs("div",{className:"info-group",children:[t.jsx("label",{children:"Date of Birth"}),t.jsx("span",{children:l?.date_of_birth?new Date(l.date_of_birth).toLocaleDateString():"Not provided"})]}),t.jsxs("div",{className:"info-group",children:[t.jsx("label",{children:"Gender"}),t.jsx("span",{children:l?.gender||"Not provided"})]}),l?.bio&&t.jsxs("div",{className:"info-group",children:[t.jsx("label",{children:"Bio"}),t.jsx("span",{children:l.bio})]})]}),t.jsxs("div",{className:"info-section",children:[t.jsx("h3",{children:"Emergency Contact"}),t.jsxs("div",{className:"info-group",children:[t.jsx("label",{children:"Contact Name"}),t.jsx("span",{children:l?.emergency_contact_name||"Not provided"})]}),t.jsxs("div",{className:"info-group",children:[t.jsx("label",{children:"Contact Phone"}),t.jsx("span",{children:l?.emergency_contact_phone||"Not provided"})]})]}),t.jsxs("div",{className:"info-section",children:[t.jsx("h3",{children:"Preferences"}),t.jsxs("div",{className:"info-group",children:[t.jsx("label",{children:"Interests"}),t.jsx("span",{children:l?.interests||"None specified"})]}),t.jsxs("div",{className:"info-group",children:[t.jsx("label",{children:"Dietary Restrictions"}),t.jsx("span",{children:l?.dietary_restrictions||"None specified"})]}),t.jsxs("div",{className:"info-group",children:[t.jsx("label",{children:"Accessibility Needs"}),t.jsx("span",{children:l?.accessibility_needs||"None specified"})]})]}),t.jsxs("div",{className:"info-section",children:[t.jsx("h3",{children:"Notification Preferences"}),t.jsx("div",{className:"notification-prefs",children:l?.notification_preferences?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:`pref-item ${l.notification_preferences.email?"enabled":"disabled"}`,children:[t.jsx("i",{className:`fas fa-${l.notification_preferences.email?"check":"times"}`}),t.jsx("span",{children:"Email Notifications"})]}),t.jsxs("div",{className:`pref-item ${l.notification_preferences.sms?"enabled":"disabled"}`,children:[t.jsx("i",{className:`fas fa-${l.notification_preferences.sms?"check":"times"}`}),t.jsx("span",{children:"SMS Notifications"})]}),t.jsxs("div",{className:`pref-item ${l.notification_preferences.event_updates?"enabled":"disabled"}`,children:[t.jsx("i",{className:`fas fa-${l.notification_preferences.event_updates?"check":"times"}`}),t.jsx("span",{children:"Event Updates"})]}),t.jsxs("div",{className:`pref-item ${l.notification_preferences.promotions?"enabled":"disabled"}`,children:[t.jsx("i",{className:`fas fa-${l.notification_preferences.promotions?"check":"times"}`}),t.jsx("span",{children:"Promotional Messages"})]})]}):t.jsx("span",{children:"No preferences set"})})]})]})]}),t.jsxs("div",{className:"account-stats",children:[t.jsx("h3",{children:"Account Statistics"}),t.jsxs("div",{className:"stats-grid",children:[t.jsxs("div",{className:"stat-item",children:[t.jsx("i",{className:"fas fa-ticket-alt"}),t.jsxs("div",{className:"stat-content",children:[t.jsx("span",{className:"stat-number",children:l?.registration_count||0}),t.jsx("span",{className:"stat-label",children:"Events Registered"})]})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("i",{className:"fas fa-calendar-check"}),t.jsxs("div",{className:"stat-content",children:[t.jsx("span",{className:"stat-number",children:l?.attendance_count||0}),t.jsx("span",{className:"stat-label",children:"Events Attended"})]})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("i",{className:"fas fa-star"}),t.jsxs("div",{className:"stat-content",children:[t.jsx("span",{className:"stat-number",children:l?.feedback_count||0}),t.jsx("span",{className:"stat-label",children:"Reviews Given"})]})]})]})]})]})})]})},PN=()=>t.jsxs("div",{className:"about-us-page",children:[t.jsx(ma,{}),t.jsxs("main",{className:"about-us-main",children:[t.jsxs("section",{className:"about-hero",children:[t.jsxs("div",{className:"hero-content",children:[t.jsx("h1",{className:"hero-title",children:"About Eventify"}),t.jsx("p",{className:"hero-subtitle",children:"Connecting communities through exceptional event experiences"})]}),t.jsx("div",{className:"hero-image",children:t.jsx("img",{src:"https://images.unsplash.com/photo-1540575467063-178a50c2df87?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",alt:"Event management"})})]}),t.jsx("section",{className:"mission-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{className:"section-title",children:"Our Mission"}),t.jsx("p",{className:"mission-text",children:"At Eventify, we believe that great events bring people together and create lasting memories. Our mission is to provide a comprehensive platform that simplifies event management while enhancing the attendee experience. Whether you're organizing a small workshop or a large conference, we're here to make your event a success."})]})}),t.jsx("section",{className:"features-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{className:"section-title",children:"What We Offer"}),t.jsxs("div",{className:"features-grid",children:[t.jsxs("div",{className:"feature-card",children:[t.jsx("div",{className:"feature-icon",children:t.jsx("i",{className:"fas fa-calendar-plus"})}),t.jsx("h3",{children:"Event Creation"}),t.jsx("p",{children:"Create and customize events with our intuitive event builder. Set up tickets, schedules, and more."})]}),t.jsxs("div",{className:"feature-card",children:[t.jsx("div",{className:"feature-icon",children:t.jsx("i",{className:"fas fa-users"})}),t.jsx("h3",{children:"Attendee Management"}),t.jsx("p",{children:"Manage registrations, track attendance, and communicate with your attendees seamlessly."})]}),t.jsxs("div",{className:"feature-card",children:[t.jsx("div",{className:"feature-icon",children:t.jsx("i",{className:"fas fa-chart-bar"})}),t.jsx("h3",{children:"Analytics & Insights"}),t.jsx("p",{children:"Get detailed insights into your event performance with comprehensive analytics and reporting."})]}),t.jsxs("div",{className:"feature-card",children:[t.jsx("div",{className:"feature-icon",children:t.jsx("i",{className:"fas fa-mobile-alt"})}),t.jsx("h3",{children:"Mobile Friendly"}),t.jsx("p",{children:"Access your events and manage everything on the go with our responsive mobile design."})]}),t.jsxs("div",{className:"feature-card",children:[t.jsx("div",{className:"feature-icon",children:t.jsx("i",{className:"fas fa-shield-alt"})}),t.jsx("h3",{children:"Secure & Reliable"}),t.jsx("p",{children:"Your data is protected with enterprise-grade security and our platform ensures 99.9% uptime."})]}),t.jsxs("div",{className:"feature-card",children:[t.jsx("div",{className:"feature-icon",children:t.jsx("i",{className:"fas fa-headset"})}),t.jsx("h3",{children:"24/7 Support"}),t.jsx("p",{children:"Our dedicated support team is available around the clock to help you succeed."})]})]})]})}),t.jsx("section",{className:"team-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{className:"section-title",children:"Our Team"}),t.jsx("p",{className:"team-intro",children:"Meet the passionate individuals behind Eventify who are dedicated to making your events extraordinary."}),t.jsxs("div",{className:"team-grid",children:[t.jsxs("div",{className:"team-member",children:[t.jsx("div",{className:"member-image",children:t.jsx("img",{src:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80",alt:"Team member"})}),t.jsx("h4",{children:"Alex Johnson"}),t.jsx("p",{className:"member-role",children:"CEO & Founder"}),t.jsx("p",{className:"member-bio",children:"Passionate about connecting communities through technology and exceptional event experiences."})]}),t.jsxs("div",{className:"team-member",children:[t.jsx("div",{className:"member-image",children:t.jsx("img",{src:"https://images.unsplash.com/photo-1494790108755-2616b612b372?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80",alt:"Team member"})}),t.jsx("h4",{children:"Sarah Chen"}),t.jsx("p",{className:"member-role",children:"CTO"}),t.jsx("p",{className:"member-bio",children:"Leading our technical vision with over 10 years of experience in scalable platform development."})]}),t.jsxs("div",{className:"team-member",children:[t.jsx("div",{className:"member-image",children:t.jsx("img",{src:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80",alt:"Team member"})}),t.jsx("h4",{children:"Michael Rodriguez"}),t.jsx("p",{className:"member-role",children:"Head of Design"}),t.jsx("p",{className:"member-bio",children:"Crafting beautiful and intuitive user experiences that make event management effortless."})]})]})]})}),t.jsx("section",{className:"values-section",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{className:"section-title",children:"Our Values"}),t.jsxs("div",{className:"values-grid",children:[t.jsxs("div",{className:"value-item",children:[t.jsx("h3",{children:"Innovation"}),t.jsx("p",{children:"We continuously evolve our platform with cutting-edge technology and creative solutions."})]}),t.jsxs("div",{className:"value-item",children:[t.jsx("h3",{children:"Community"}),t.jsx("p",{children:"We believe in the power of bringing people together and fostering meaningful connections."})]}),t.jsxs("div",{className:"value-item",children:[t.jsx("h3",{children:"Excellence"}),t.jsx("p",{children:"We strive for excellence in everything we do, from our product to our customer service."})]}),t.jsxs("div",{className:"value-item",children:[t.jsx("h3",{children:"Accessibility"}),t.jsx("p",{children:"We make event management accessible to everyone, regardless of technical expertise."})]})]})]})}),t.jsx("section",{className:"contact-cta",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{children:"Ready to Create Amazing Events?"}),t.jsx("p",{children:"Join thousands of event organizers who trust Eventify to bring their vision to life."}),t.jsxs("div",{className:"cta-buttons",children:[t.jsx("a",{href:"/signup",className:"cta-primary",children:"Get Started Free"}),t.jsx("a",{href:"#contact",className:"cta-secondary",children:"Contact Us"})]})]})})]}),t.jsx(Ts,{})]}),YN="http://localhost:5001/api",km=()=>{const[l]=yy(),[i,c]=b.useState("verifying"),[o,d]=b.useState(""),[h,g]=b.useState(!0);b.useEffect(()=>{(async()=>{const f=l.get("token");if(!f){c("error"),d("Invalid verification link. No token provided."),g(!1);return}try{const p=await ue.post(`${YN}/auth/verify-email`,{token:f});p.data.verified?(c("success"),d(p.data.message||"Email verified successfully!")):(c("error"),d(p.data.message||"Email verification failed. Please try again."))}catch(p){console.error("Email verification error:",p),c("error"),p.response?p.response.data.alreadyVerified?(c("success"),d(p.response.data.message||"Email is already verified! You can proceed to login.")):d(p.response.data.message||"Email verification failed."):p.request?d("Unable to connect to server. Please check your internet connection."):d("An unexpected error occurred during verification.")}finally{g(!1)}})()},[l]);const v=async()=>{const m=prompt("Please enter your email address to resend verification:");if(m)try{g(!0);const f=await ue.post("http://localhost:5001/api/auth/resend-verification",{email:m});alert("Verification email sent successfully! Please check your inbox.")}catch(f){console.error("Resend verification error:",f);const p=f.response?.data?.message||"Failed to resend verification email.";alert(p)}finally{g(!1)}};return t.jsx("div",{className:"verification-container",children:t.jsxs("div",{className:"verification-card",children:[t.jsxs("div",{className:"verification-header",children:[t.jsxs("div",{className:`verification-icon ${i}`,children:[h&&t.jsx("i",{className:"fas fa-spinner fa-spin"}),!h&&i==="success"&&t.jsx("i",{className:"fas fa-check-circle"}),!h&&i==="error"&&t.jsx("i",{className:"fas fa-times-circle"})]}),t.jsxs("h1",{className:"verification-title",children:[h&&"Verifying Your Email...",!h&&i==="success"&&"Email Verified!",!h&&i==="error"&&"Verification Failed"]})]}),t.jsxs("div",{className:"verification-content",children:[t.jsxs("p",{className:"verification-message",children:[h&&"Please wait while we verify your email address...",!h&&o]}),!h&&t.jsxs("div",{className:"verification-actions",children:[i==="success"&&t.jsxs("div",{className:"success-actions",children:[t.jsxs(et,{to:"/login",className:"btn btn-primary",children:[t.jsx("i",{className:"fas fa-sign-in-alt"}),"Go to Login"]}),t.jsxs(et,{to:"/",className:"btn btn-secondary",children:[t.jsx("i",{className:"fas fa-home"}),"Back to Home"]})]}),i==="error"&&t.jsxs("div",{className:"error-actions",children:[t.jsxs("button",{onClick:v,className:"btn btn-primary",disabled:h,children:[t.jsx("i",{className:"fas fa-envelope"}),"Resend Verification Email"]}),t.jsxs(et,{to:"/signup",className:"btn btn-secondary",children:[t.jsx("i",{className:"fas fa-user-plus"}),"Create New Account"]}),t.jsxs(et,{to:"/",className:"btn btn-outline",children:[t.jsx("i",{className:"fas fa-home"}),"Back to Home"]})]})]})]}),t.jsx("div",{className:"verification-footer",children:t.jsxs("p",{children:["Need help? ",t.jsx("a",{href:"mailto:support@eventmanagement.com",children:"Contact Support"})]})})]})})},GN=({eventId:l,organizerId:i,viewType:c="event"})=>{const[o,d]=b.useState([]),[h,g]=b.useState(null),[v,m]=b.useState(!0),[f,p]=b.useState(null),[N,j]=b.useState({attendance_status:"",payment_status:"",limit:50,offset:0}),[C,y]=b.useState({}),E=new yN;b.useEffect(()=>{k(),c==="event"&&l&&O()},[l,i,c,N]);const k=async()=>{try{m(!0),p(null);let S;c==="event"&&l?S=await E.getEventAttendees(l,N):c==="organizer"&&i&&(S=await E.getOrganizerAttendees(i,N)),S&&S.success?(d(S.attendees),y(S.pagination||{})):p("Failed to load attendees")}catch(S){p(`Error loading attendees: ${S.message}`),console.error("Error loading attendees:",S)}finally{m(!1)}},O=async()=>{try{const S=await E.getEventStats(l);S&&S.success&&g(S.statistics)}catch(S){console.error("Error loading event stats:",S)}},U=(S,B)=>{j(Z=>({...Z,[S]:B,offset:0}))},R=S=>{j(B=>({...B,offset:S}))},M=()=>{if(o.length===0)return;const B=[["Event Name","Attendee Name","Email","Phone","Registration Date","Payment Status","Check-in Status","Total Amount"].join(","),...o.map(ge=>[`"${ge.event_name||""}"`,`"${ge.attendee_name||""}"`,`"${ge.attendee_email||""}"`,`"${ge.attendee_phone||""}"`,`"${new Date(ge.registration_date).toLocaleDateString()}"`,`"${ge.payment_status||""}"`,`"${ge.check_in_status?"Checked In":"Not Checked In"}"`,`"${ge.total_amount||0}"`].join(","))].join(`
`),Z=new Blob([B],{type:"text/csv"}),ee=window.URL.createObjectURL(Z),re=document.createElement("a");re.href=ee,re.download=`attendees_${l||i}_${new Date().toISOString().split("T")[0]}.csv`,re.click(),window.URL.revokeObjectURL(ee)};return v?t.jsx("div",{className:"attendee-list-loading",children:"Loading attendees..."}):f?t.jsxs("div",{className:"attendee-list-error",children:["Error: ",f]}):t.jsxs("div",{className:"attendee-list-container",children:[c==="event"&&h&&t.jsxs("div",{className:"attendee-stats",children:[t.jsx("h3",{children:"Event Statistics"}),t.jsxs("div",{className:"stats-grid",children:[t.jsxs("div",{className:"stat-card",children:[t.jsx("h4",{children:"Registrations"}),t.jsxs("p",{children:["Total: ",h.registrations.total]}),t.jsxs("p",{children:["Paid: ",h.registrations.paid]}),t.jsxs("p",{children:["Pending: ",h.registrations.pending]}),t.jsxs("p",{children:["Checked In: ",h.registrations.checked_in]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("h4",{children:"Revenue"}),t.jsxs("p",{children:["Total: ",ls.formatGhanaCurrency(h.revenue.total)]}),t.jsxs("p",{children:["Collected: ",ls.formatGhanaCurrency(h.revenue.collected)]}),t.jsxs("p",{children:["Pending: ",ls.formatGhanaCurrency(h.revenue.pending)]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("h4",{children:"Capacity"}),t.jsxs("p",{children:["Max: ",h.capacity.max_attendees||"Unlimited"]}),t.jsxs("p",{children:["Current: ",h.capacity.current_registrations]}),h.capacity.percentage_filled&&t.jsxs("p",{children:["Filled: ",h.capacity.percentage_filled,"%"]})]})]})]}),t.jsxs("div",{className:"attendee-filters",children:[t.jsx("h3",{children:"Filters"}),t.jsxs("div",{className:"filter-row",children:[t.jsxs("select",{value:N.attendance_status,onChange:S=>U("attendance_status",S.target.value),children:[t.jsx("option",{value:"",children:"All Attendance Status"}),t.jsx("option",{value:"checked_in",children:"Checked In"}),t.jsx("option",{value:"registered",children:"Registered Only"})]}),t.jsxs("select",{value:N.payment_status,onChange:S=>U("payment_status",S.target.value),children:[t.jsx("option",{value:"",children:"All Payment Status"}),t.jsx("option",{value:"completed",children:"Completed"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"failed",children:"Failed"})]}),t.jsxs("select",{value:N.limit,onChange:S=>U("limit",parseInt(S.target.value)),children:[t.jsx("option",{value:25,children:"25 per page"}),t.jsx("option",{value:50,children:"50 per page"}),t.jsx("option",{value:100,children:"100 per page"})]}),t.jsx("button",{onClick:M,className:"export-btn",children:"Export CSV"})]})]}),t.jsxs("div",{className:"attendee-table-container",children:[t.jsxs("h3",{children:["Attendees (",o.length,")"]}),o.length===0?t.jsx("p",{children:"No attendees found with the current filters."}):t.jsxs("table",{className:"attendee-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[c==="organizer"&&t.jsx("th",{children:"Event"}),t.jsx("th",{children:"Name"}),t.jsx("th",{children:"Email"}),t.jsx("th",{children:"Phone"}),t.jsx("th",{children:"Registration Date"}),t.jsx("th",{children:"Payment Status"}),t.jsx("th",{children:"Amount"}),t.jsx("th",{children:"Check-in Status"}),t.jsx("th",{children:"Check-in Time"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:o.map(S=>t.jsxs("tr",{children:[c==="organizer"&&t.jsx("td",{children:t.jsxs("div",{className:"event-info",children:[t.jsx("strong",{children:S.event_name}),t.jsx("br",{}),t.jsx("small",{children:new Date(S.event_date).toLocaleDateString()})]})}),t.jsx("td",{children:t.jsxs("div",{className:"attendee-info",children:[t.jsx("strong",{children:S.attendee_name}),S.special_requirements&&t.jsxs(t.Fragment,{children:[t.jsx("br",{}),t.jsxs("small",{className:"special-req",children:["Special: ",S.special_requirements]})]})]})}),t.jsx("td",{children:S.attendee_email}),t.jsx("td",{children:S.attendee_phone||"N/A"}),t.jsx("td",{children:new Date(S.registration_date).toLocaleDateString()}),t.jsx("td",{children:t.jsx("span",{className:`status-badge ${S.payment_status}`,children:S.payment_status})}),t.jsx("td",{children:ls.formatGhanaCurrency(S.total_amount)}),t.jsx("td",{children:t.jsx("span",{className:`status-badge ${S.check_in_status?"checked-in":"not-checked-in"}`,children:S.check_in_status?"Checked In":"Not Checked In"})}),t.jsx("td",{children:S.check_in_time?new Date(S.check_in_time).toLocaleString():"N/A"}),t.jsx("td",{children:t.jsxs("div",{className:"action-buttons",children:[t.jsx("button",{className:"btn-small",children:"View"}),t.jsx("button",{className:"btn-small",children:"Edit"}),S.qr_code&&t.jsx("button",{className:"btn-small",children:"QR"})]})})]},`${S.registration_id}`))})]}),C&&C.limit&&t.jsxs("div",{className:"pagination",children:[t.jsx("button",{onClick:()=>R(Math.max(0,N.offset-N.limit)),disabled:N.offset===0,children:"Previous"}),t.jsxs("span",{className:"pagination-info",children:["Showing ",N.offset+1," - ",Math.min(N.offset+o.length,C.total||0),C.total&&` of ${C.total}`]}),t.jsx("button",{onClick:()=>R(N.offset+N.limit),disabled:!C.has_more,children:"Next"})]})]})]})},Tl=({children:l,requiredRole:i=null,fallbackRoute:c="/login",showLoading:o=!0})=>{const[d,h]=b.useState(!0),[g,v]=b.useState(null),m=na();if(b.useEffect(()=>{(()=>{try{if(!me.isAuthenticated()){console.log(" User not authenticated, redirecting to login..."),v("unauthenticated"),h(!1);return}if(i&&!me.hasRole(i)){console.log(` User doesn't have required role: ${i}`),v("unauthorized"),h(!1);return}console.log(" Authentication check passed"),v("authenticated"),h(!1)}catch(p){console.error(" Authentication check failed:",p),v("error"),h(!1)}})()},[i,m.pathname]),d&&o)return t.jsx("div",{className:"auth-loading",children:t.jsxs("div",{className:"loading-spinner",children:[t.jsx("i",{className:"fas fa-spinner fa-spin"}),t.jsx("p",{children:"Verifying authentication..."})]})});switch(g){case"unauthenticated":return t.jsx(El,{to:c,state:{from:m.pathname},replace:!0});case"unauthorized":{const f=me.getDashboardRoute();return t.jsx(El,{to:f,replace:!0})}case"authenticated":return l;case"error":default:return me.clearAuthData(),t.jsx(El,{to:c,replace:!0})}},QN=({children:l})=>t.jsx(Tl,{requiredRole:"attendee",children:l}),Cm=({children:l})=>t.jsx(Tl,{requiredRole:"organizer",children:l}),VN=({children:l})=>t.jsx(Tl,{requiredRole:"admin",children:l}),Bo=({children:l})=>{const[i,c]=b.useState(!0);if(b.useEffect(()=>{const o=setTimeout(()=>{c(!1)},100);return()=>clearTimeout(o)},[]),i)return t.jsx("div",{className:"route-loading",children:"Loading..."});if(me.isAuthenticated()){const o=me.getDashboardRoute();return t.jsx(El,{to:o,replace:!0})}return l},XN=()=>{const[l,i]=b.useState({email:!0,sms:!1,event_updates:!0,promotions:!1}),[c,o]=b.useState({profile_visibility:"everyone"}),[d,h]=b.useState({two_factor_enabled:!1,password_changed_days_ago:0,last_login:null}),[g,v]=b.useState(!0),[m,f]=b.useState(""),[p,N]=b.useState(""),[j,C]=b.useState(!1),[y,E]=b.useState(!1),[k,O]=b.useState({current_password:"",new_password:"",confirm_password:""}),[U,R]=b.useState("");b.useEffect(()=>{M()},[]);const M=async()=>{try{v(!0),f("");const[se,W,he]=await Promise.all([Ke.getNotificationSettings(),Ke.getPrivacySettings(),Ke.getSecurityInfo()]);se.success&&i(se.data.notifications),W.success&&o(W.data.privacy),he.success&&h(he.data.security);const xe=[se,W,he].filter(ye=>!ye.success).map(ye=>ye.error);xe.length>0&&f(`Some settings couldn't be loaded: ${xe.join(", ")}`)}catch(se){console.error("Error fetching settings:",se),f("Failed to load settings")}finally{v(!1)}},S=async(se,W)=>{try{const he={...l,[se]:W};i(he);const xe=await Ke.updateNotificationSettings(he);xe.success?(N("Notification preferences updated"),setTimeout(()=>N(""),3e3)):(f(xe.error),i(l))}catch(he){console.error("Error updating notifications:",he),f("Failed to update notification preferences"),i(l)}},B=async(se,W)=>{try{const he={...c,[se]:W};o(he);const xe=await Ke.updatePrivacySettings(he);xe.success?(N("Privacy settings updated"),setTimeout(()=>N(""),3e3)):(f(xe.error),o(c))}catch(he){console.error("Error updating privacy settings:",he),f("Failed to update privacy settings"),o(c)}},Z=async()=>{try{const se=await Ke.toggle2FA(!d.two_factor_enabled);se.success?(h(W=>({...W,two_factor_enabled:!W.two_factor_enabled})),N(se.data.message),setTimeout(()=>N(""),3e3)):f(se.error)}catch(se){console.error("Error toggling 2FA:",se),f("Failed to update 2FA setting")}},ee=async se=>{if(se.preventDefault(),k.new_password!==k.confirm_password){f("New passwords do not match");return}if(k.new_password.length<6){f("Password must be at least 6 characters long");return}try{const W=await Ke.changePassword({current_password:k.current_password,new_password:k.new_password});if(W.success){N("Password changed successfully"),C(!1),O({current_password:"",new_password:"",confirm_password:""}),setTimeout(()=>N(""),3e3);const he=await Ke.getSecurityInfo();he.success&&h(he.data.security)}else f(W.error)}catch(W){console.error("Error changing password:",W),f("Failed to change password")}},re=async()=>{try{const se=await Ke.exportUserData();if(se.success){const W=JSON.stringify(se.data.data,null,2),he=new Blob([W],{type:"application/json"}),xe=URL.createObjectURL(he),ye=document.createElement("a");ye.href=xe,ye.download=`user-data-export-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(ye),ye.click(),document.body.removeChild(ye),URL.revokeObjectURL(xe),N("Data exported successfully"),setTimeout(()=>N(""),3e3)}else f(se.error)}catch(se){console.error("Error exporting data:",se),f("Failed to export data")}},ge=async se=>{if(se.preventDefault(),U!=="DELETE_MY_ACCOUNT"){f('Please type "DELETE_MY_ACCOUNT" to confirm');return}try{const W=await Ke.deleteAccount(U);W.success?(N("Account deleted successfully. You will be logged out."),setTimeout(()=>{me.logout(),window.location.href="/"},2e3)):f(W.error)}catch(W){console.error("Error deleting account:",W),f("Failed to delete account")}};return g?t.jsx("div",{className:"settings-container",children:t.jsxs("div",{className:"loading-state",children:[t.jsx("i",{className:"fas fa-spinner fa-spin"}),t.jsx("p",{children:"Loading settings..."})]})}):t.jsxs("div",{className:"settings-container",children:[t.jsx(ma,{}),t.jsxs("div",{className:"settings-header",children:[t.jsx("h1",{children:"Account Settings"}),t.jsx("p",{children:"Manage your account preferences and security settings"})]}),m&&t.jsxs("div",{className:"error-message",children:[t.jsx("i",{className:"fas fa-exclamation-circle"}),m,t.jsx("button",{onClick:()=>f(""),className:"close-btn",children:""})]}),p&&t.jsxs("div",{className:"success-message",children:[t.jsx("i",{className:"fas fa-check-circle"}),p,t.jsx("button",{onClick:()=>N(""),className:"close-btn",children:""})]}),t.jsxs("div",{className:"settings-content",children:[t.jsxs("div",{className:"settings-section",children:[t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-bell"}),"Notifications"]}),t.jsxs("div",{className:"settings-group",children:[t.jsxs("div",{className:"setting-item",children:[t.jsxs("div",{className:"setting-info",children:[t.jsx("label",{children:"Email Notifications"}),t.jsx("span",{children:"Receive email updates about events and activities"})]}),t.jsxs("label",{className:"toggle-switch",children:[t.jsx("input",{type:"checkbox",checked:l.email,onChange:se=>S("email",se.target.checked)}),t.jsx("span",{className:"toggle-slider"})]})]}),t.jsxs("div",{className:"setting-item",children:[t.jsxs("div",{className:"setting-info",children:[t.jsx("label",{children:"Event Updates"}),t.jsx("span",{children:"Get notified about event changes and updates"})]}),t.jsxs("label",{className:"toggle-switch",children:[t.jsx("input",{type:"checkbox",checked:l.event_updates,onChange:se=>S("event_updates",se.target.checked)}),t.jsx("span",{className:"toggle-slider"})]})]}),t.jsxs("div",{className:"setting-item",children:[t.jsxs("div",{className:"setting-info",children:[t.jsx("label",{children:"SMS Notifications"}),t.jsx("span",{children:"Receive text message notifications"})]}),t.jsxs("label",{className:"toggle-switch",children:[t.jsx("input",{type:"checkbox",checked:l.sms,onChange:se=>S("sms",se.target.checked)}),t.jsx("span",{className:"toggle-slider"})]})]}),t.jsxs("div",{className:"setting-item",children:[t.jsxs("div",{className:"setting-info",children:[t.jsx("label",{children:"Promotional Messages"}),t.jsx("span",{children:"Receive promotional emails and newsletters"})]}),t.jsxs("label",{className:"toggle-switch",children:[t.jsx("input",{type:"checkbox",checked:l.promotions,onChange:se=>S("promotions",se.target.checked)}),t.jsx("span",{className:"toggle-slider"})]})]})]})]}),t.jsxs("div",{className:"settings-section",children:[t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-shield-alt"}),"Security"]}),t.jsxs("div",{className:"settings-group",children:[t.jsxs("div",{className:"setting-item",children:[t.jsxs("div",{className:"setting-info",children:[t.jsx("label",{children:"Two-Factor Authentication"}),t.jsx("span",{children:"Add an extra layer of security to your account"})]}),t.jsx("button",{className:`btn-outline ${d.two_factor_enabled?"enabled":""}`,onClick:Z,children:d.two_factor_enabled?"Disable 2FA":"Enable 2FA"})]}),t.jsxs("div",{className:"setting-item",children:[t.jsxs("div",{className:"setting-info",children:[t.jsx("label",{children:"Password"}),t.jsxs("span",{children:["Last changed ",d.password_changed_days_ago," days ago"]})]}),t.jsx("button",{className:"btn-outline",onClick:()=>C(!0),children:"Change Password"})]}),t.jsx("div",{className:"setting-item",children:t.jsxs("div",{className:"setting-info",children:[t.jsx("label",{children:"Last Login"}),t.jsx("span",{children:d.last_login?new Date(d.last_login).toLocaleString():"Never"})]})})]})]}),t.jsxs("div",{className:"settings-section",children:[t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-user-cog"}),"Privacy"]}),t.jsxs("div",{className:"settings-group",children:[t.jsxs("div",{className:"setting-item",children:[t.jsxs("div",{className:"setting-info",children:[t.jsx("label",{children:"Profile Visibility"}),t.jsx("span",{children:"Control who can see your profile information"})]}),t.jsxs("select",{className:"setting-select",value:c.profile_visibility,onChange:se=>B("profile_visibility",se.target.value),children:[t.jsx("option",{value:"everyone",children:"Everyone"}),t.jsx("option",{value:"attendees_only",children:"Event Attendees Only"}),t.jsx("option",{value:"private",children:"Private"})]})]}),t.jsxs("div",{className:"setting-item",children:[t.jsxs("div",{className:"setting-info",children:[t.jsx("label",{children:"Data Export"}),t.jsx("span",{children:"Download a copy of your data"})]}),t.jsx("button",{className:"btn-outline",onClick:re,children:"Export Data"})]})]})]}),t.jsxs("div",{className:"settings-section danger-section",children:[t.jsxs("h3",{children:[t.jsx("i",{className:"fas fa-exclamation-triangle"}),"Danger Zone"]}),t.jsx("div",{className:"settings-group",children:t.jsxs("div",{className:"setting-item",children:[t.jsxs("div",{className:"setting-info",children:[t.jsx("label",{children:"Delete Account"}),t.jsx("span",{children:"Permanently delete your account and all data"})]}),t.jsx("button",{className:"btn-danger",onClick:()=>E(!0),children:"Delete Account"})]})})]})]}),j&&t.jsx("div",{className:"modal-overlay",children:t.jsxs("div",{className:"modal",children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h3",{children:"Change Password"}),t.jsx("button",{className:"modal-close",onClick:()=>C(!1),children:""})]}),t.jsxs("form",{onSubmit:ee,children:[t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Current Password"}),t.jsx("input",{type:"password",value:k.current_password,onChange:se=>O(W=>({...W,current_password:se.target.value})),required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"New Password"}),t.jsx("input",{type:"password",value:k.new_password,onChange:se=>O(W=>({...W,new_password:se.target.value})),minLength:"6",required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Confirm New Password"}),t.jsx("input",{type:"password",value:k.confirm_password,onChange:se=>O(W=>({...W,confirm_password:se.target.value})),minLength:"6",required:!0})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>C(!1),children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn-primary",children:"Change Password"})]})]})]})}),y&&t.jsx("div",{className:"modal-overlay",children:t.jsxs("div",{className:"modal",children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h3",{children:"Delete Account"}),t.jsx("button",{className:"modal-close",onClick:()=>E(!1),children:""})]}),t.jsxs("form",{onSubmit:ge,children:[t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"warning-box",children:[t.jsx("i",{className:"fas fa-exclamation-triangle"}),t.jsxs("div",{children:[t.jsx("h4",{children:"This action cannot be undone!"}),t.jsx("p",{children:"This will permanently delete your account and all associated data including:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Your profile information"}),t.jsx("li",{children:"Event registrations and tickets"}),t.jsx("li",{children:"All personal data"})]})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:'Type "DELETE_MY_ACCOUNT" to confirm:'}),t.jsx("input",{type:"text",value:U,onChange:se=>R(se.target.value),placeholder:"DELETE_MY_ACCOUNT",required:!0})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>E(!1),children:"Cancel"}),t.jsx("button",{type:"submit",className:"btn-danger",children:"Delete My Account"})]})]})]})})]})};function ZN(){return t.jsx(my,{children:t.jsxs(Pv,{children:[t.jsx(gt,{path:"/",element:t.jsx(lN,{})}),t.jsx(gt,{path:"/eventslist",element:t.jsx(bN,{})}),t.jsx(gt,{path:"/about",element:t.jsx(PN,{})}),t.jsx(gt,{path:"/login",element:t.jsx(Bo,{children:t.jsx(iN,{})})}),t.jsx(gt,{path:"/signup",element:t.jsx(Bo,{children:t.jsx(rN,{})})}),t.jsx(gt,{path:"/forgot-password",element:t.jsx(Bo,{children:t.jsx(cN,{})})}),t.jsx(gt,{path:"/admin-dashboard",element:t.jsx(VN,{children:t.jsx(oN,{})})}),t.jsx(gt,{path:"/organizer-dashboard",element:t.jsx(Cm,{children:t.jsx(NN,{})})}),t.jsx(gt,{path:"/attendee-dashboard",element:t.jsx(QN,{children:t.jsx(RN,{})})}),t.jsx(gt,{path:"/events/:eventId",element:t.jsx(HN,{})}),t.jsx(gt,{path:"/events/:eventId/attendees",element:t.jsx(Cm,{children:t.jsx(GN,{})})}),t.jsx(gt,{path:"/profile",element:t.jsx(Tl,{children:t.jsx($N,{})})}),t.jsx(gt,{path:"/verify-email",element:t.jsx(km,{})}),t.jsx(gt,{path:"/verify-email/:token",element:t.jsx(km,{})}),t.jsx(gt,{path:"/settings",element:t.jsx(Tl,{children:t.jsx(XN,{})})}),t.jsx(gt,{path:"*",element:t.jsx(El,{to:"/",replace:!0})})]})})}Jx.createRoot(document.getElementById("root")).render(t.jsx(b.StrictMode,{children:t.jsx(ZN,{})}));
